ARM GAS  /tmp/ccgskpjE.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"ip4.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.ip4_route,"ax",%progbits
  18              		.align	1
  19              		.global	ip4_route
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	ip4_route:
  25              	.LVL0:
  26              	.LFB97:
  27              		.file 1 "Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c"
   1:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
   2:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * This is the IPv4 layer implementation for incoming and outgoing IP traffic.
   4:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
   5:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @see ip_frag.c
   6:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
   7:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
   8:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
   9:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /*
  10:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
  11:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * All rights reserved.
  12:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
  13:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Redistribution and use in source and binary forms, with or without modification,
  14:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * are permitted provided that the following conditions are met:
  15:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
  16:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  17:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *    this list of conditions and the following disclaimer.
  18:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  19:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *    this list of conditions and the following disclaimer in the documentation
  20:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *    and/or other materials provided with the distribution.
  21:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * 3. The name of the author may not be used to endorse or promote products
  22:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *    derived from this software without specific prior written permission.
  23:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
  24:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  25:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  26:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  27:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  28:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  29:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  30:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  31:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
ARM GAS  /tmp/ccgskpjE.s 			page 2


  32:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  33:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * OF SUCH DAMAGE.
  34:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
  35:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * This file is part of the lwIP TCP/IP stack.
  36:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
  37:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Author: Adam Dunkels <adam@sics.se>
  38:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
  39:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
  40:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  41:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/opt.h"
  42:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  43:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_IPV4
  44:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  45:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/ip.h"
  46:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/def.h"
  47:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/mem.h"
  48:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/ip4_frag.h"
  49:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/inet_chksum.h"
  50:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/netif.h"
  51:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/icmp.h"
  52:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/igmp.h"
  53:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/raw.h"
  54:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/udp.h"
  55:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/priv/tcp_priv.h"
  56:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/autoip.h"
  57:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/stats.h"
  58:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include "lwip/prot/dhcp.h"
  59:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  60:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include <string.h>
  61:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  62:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #ifdef LWIP_HOOK_FILENAME
  63:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #include LWIP_HOOK_FILENAME
  64:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif
  65:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  66:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /** Set this to 0 in the rare case of wanting to call an extra function to
  67:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * generate the IP checksum (in contrast to calculating it on-the-fly). */
  68:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #ifndef LWIP_INLINE_IP_CHKSUM
  69:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_CHECKSUM_CTRL_PER_NETIF
  70:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define LWIP_INLINE_IP_CHKSUM   0
  71:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* LWIP_CHECKSUM_CTRL_PER_NETIF */
  72:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define LWIP_INLINE_IP_CHKSUM   1
  73:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_CHECKSUM_CTRL_PER_NETIF */
  74:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif
  75:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  76:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_INLINE_IP_CHKSUM && CHECKSUM_GEN_IP
  77:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define CHECKSUM_GEN_IP_INLINE  1
  78:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else
  79:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define CHECKSUM_GEN_IP_INLINE  0
  80:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif
  81:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  82:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_DHCP || defined(LWIP_IP_ACCEPT_UDP_PORT)
  83:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define IP_ACCEPT_LINK_LAYER_ADDRESSING 1
  84:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
  85:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /** Some defines for DHCP to let link-layer-addressed packets through while the
  86:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * netif is down.
  87:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * To use this in your own application/protocol, define LWIP_IP_ACCEPT_UDP_PORT(port)
  88:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * to return 1 if the port is accepted and 0 if the port is not accepted.
ARM GAS  /tmp/ccgskpjE.s 			page 3


  89:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
  90:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_DHCP && defined(LWIP_IP_ACCEPT_UDP_PORT)
  91:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /* accept DHCP client port and custom port */
  92:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define IP_ACCEPT_LINK_LAYER_ADDRESSED_PORT(port) (((port) == PP_NTOHS(DHCP_CLIENT_PORT)) \
  93:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****          || (LWIP_IP_ACCEPT_UDP_PORT(port)))
  94:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #elif defined(LWIP_IP_ACCEPT_UDP_PORT) /* LWIP_DHCP && defined(LWIP_IP_ACCEPT_UDP_PORT) */
  95:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /* accept custom port only */
  96:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define IP_ACCEPT_LINK_LAYER_ADDRESSED_PORT(port) (LWIP_IP_ACCEPT_UDP_PORT(port))
  97:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* LWIP_DHCP && defined(LWIP_IP_ACCEPT_UDP_PORT) */
  98:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /* accept DHCP client port only */
  99:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define IP_ACCEPT_LINK_LAYER_ADDRESSED_PORT(port) ((port) == PP_NTOHS(DHCP_CLIENT_PORT))
 100:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_DHCP && defined(LWIP_IP_ACCEPT_UDP_PORT) */
 101:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 102:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* LWIP_DHCP */
 103:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #define IP_ACCEPT_LINK_LAYER_ADDRESSING 0
 104:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_DHCP */
 105:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 106:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /** The IP header ID of the next outgoing IP packet */
 107:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** static u16_t ip_id;
 108:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 109:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_MULTICAST_TX_OPTIONS
 110:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /** The default netif used for multicast */
 111:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** static struct netif* ip4_default_multicast_netif;
 112:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 113:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 114:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @ingroup ip4
 115:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Set a default netif for IPv4 multicast. */
 116:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** void
 117:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_set_default_multicast_netif(struct netif* default_multicast_netif)
 118:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 119:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip4_default_multicast_netif = default_multicast_netif;
 120:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 121:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_MULTICAST_TX_OPTIONS */
 122:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 123:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #ifdef LWIP_HOOK_IP4_ROUTE_SRC
 124:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 125:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Source based IPv4 routing must be fully implemented in
 126:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * LWIP_HOOK_IP4_ROUTE_SRC(). This function only provides he parameters.
 127:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 128:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** struct netif *
 129:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_route_src(const ip4_addr_t *dest, const ip4_addr_t *src)
 130:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 131:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (src != NULL) {
 132:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* when src==NULL, the hook is called from ip4_route(dest) */
 133:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     struct netif *netif = LWIP_HOOK_IP4_ROUTE_SRC(dest, src);
 134:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (netif != NULL) {
 135:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return netif;
 136:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 137:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 138:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return ip4_route(dest);
 139:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 140:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_HOOK_IP4_ROUTE_SRC */
 141:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 142:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 143:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Finds the appropriate network interface for a given IP address. It
 144:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * searches the list of network interfaces linearly. A match is found
 145:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * if the masked IP address of the network interface equals the masked
ARM GAS  /tmp/ccgskpjE.s 			page 4


 146:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * IP address given to the function.
 147:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
 148:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param dest the destination IP address for which to find the route
 149:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @return the netif on which to send to reach dest
 150:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 151:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** struct netif *
 152:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_route(const ip4_addr_t *dest)
 153:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
  28              		.loc 1 153 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		.loc 1 153 1 is_stmt 0 view .LVU1
  33 0000 8446     		mov	ip, r0
 154:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   struct netif *netif;
  34              		.loc 1 154 3 is_stmt 1 view .LVU2
 155:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 156:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_MULTICAST_TX_OPTIONS
 157:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* Use administratively selected interface for multicast by default */
 158:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (ip4_addr_ismulticast(dest) && ip4_default_multicast_netif) {
 159:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ip4_default_multicast_netif;
 160:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 161:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_MULTICAST_TX_OPTIONS */
 162:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 163:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* iterate through netifs */
 164:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   for (netif = netif_list; netif != NULL; netif = netif->next) {
  35              		.loc 1 164 3 view .LVU3
  36              		.loc 1 164 14 is_stmt 0 view .LVU4
  37 0002 254B     		ldr	r3, .L21
  38 0004 1868     		ldr	r0, [r3]
  39              	.LVL1:
  40              		.loc 1 164 3 view .LVU5
  41 0006 2AE0     		b	.L7
  42              	.L3:
  43              	.LCFI0:
  44              		.cfi_def_cfa_offset 4
  45              		.cfi_offset 14, -4
  46              		.loc 1 164 43 is_stmt 1 discriminator 2 view .LVU6
  47              		.loc 1 164 49 is_stmt 0 discriminator 2 view .LVU7
  48 0008 0068     		ldr	r0, [r0]
  49              	.LVL2:
  50              		.loc 1 164 28 is_stmt 1 discriminator 2 view .LVU8
  51              		.loc 1 164 3 is_stmt 0 discriminator 2 view .LVU9
  52 000a C8B1     		cbz	r0, .L19
 165:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* is the netif up, does it have a link and a valid address? */
 166:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (netif_is_up(netif) && netif_is_link_up(netif) && !ip4_addr_isany_val(*netif_ip4_addr(netif)
  53              		.loc 1 166 5 is_stmt 1 view .LVU10
  54              		.loc 1 166 9 is_stmt 0 view .LVU11
  55 000c 90F82F30 		ldrb	r3, [r0, #47]	@ zero_extendqisi2
  56              		.loc 1 166 8 view .LVU12
  57 0010 13F0010F 		tst	r3, #1
  58 0014 F8D0     		beq	.L3
  59              		.loc 1 166 28 discriminator 1 view .LVU13
  60 0016 13F0040F 		tst	r3, #4
  61 001a F5D0     		beq	.L3
  62              		.loc 1 166 59 discriminator 2 view .LVU14
  63 001c 4268     		ldr	r2, [r0, #4]
ARM GAS  /tmp/ccgskpjE.s 			page 5


  64              		.loc 1 166 55 discriminator 2 view .LVU15
  65 001e 002A     		cmp	r2, #0
  66 0020 F2D0     		beq	.L3
  67              	.L11:
 167:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* network mask matches? */
 168:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (ip4_addr_netcmp(dest, netif_ip4_addr(netif), netif_ip4_netmask(netif))) {
  68              		.loc 1 168 7 is_stmt 1 view .LVU16
  69              		.loc 1 168 11 is_stmt 0 view .LVU17
  70 0022 DCF80010 		ldr	r1, [ip]
  71 0026 4A40     		eors	r2, r2, r1
  72              		.loc 1 168 10 view .LVU18
  73 0028 D0F808E0 		ldr	lr, [r0, #8]
  74 002c 12EA0E0F 		tst	r2, lr
  75 0030 12D0     		beq	.L1
 169:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* return netif on which to forward IP packet */
 170:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         return netif;
 171:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 172:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* gateway matches on a non broadcast interface? (i.e. peer in a point to point interface) */
 173:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (((netif->flags & NETIF_FLAG_BROADCAST) == 0) && ip4_addr_cmp(dest, netif_ip4_gw(netif))) 
  76              		.loc 1 173 7 is_stmt 1 view .LVU19
  77              		.loc 1 173 10 is_stmt 0 view .LVU20
  78 0032 13F0020F 		tst	r3, #2
  79 0036 E7D1     		bne	.L3
  80              		.loc 1 173 59 discriminator 1 view .LVU21
  81 0038 C368     		ldr	r3, [r0, #12]
  82              		.loc 1 173 56 discriminator 1 view .LVU22
  83 003a 9942     		cmp	r1, r3
  84 003c E4D1     		bne	.L3
  85 003e 0BE0     		b	.L1
  86              	.L19:
 174:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* return netif on which to forward IP packet */
 175:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         return netif;
 176:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 177:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 178:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 179:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 180:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_NETIF_LOOPBACK && !LWIP_HAVE_LOOPIF
 181:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* loopif is disabled, looopback traffic is passed through any netif */
 182:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (ip4_addr_isloopback(dest)) {
 183:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* don't check for link on loopback traffic */
 184:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (netif_default != NULL && netif_is_up(netif_default)) {
 185:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return netif_default;
 186:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 187:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* default netif is not up, just use any netif for loopback traffic */
 188:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     for (netif = netif_list; netif != NULL; netif = netif->next) {
 189:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (netif_is_up(netif)) {
 190:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         return netif;
 191:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 192:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 193:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return NULL;
 194:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 195:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_NETIF_LOOPBACK && !LWIP_HAVE_LOOPIF */
 196:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 197:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #ifdef LWIP_HOOK_IP4_ROUTE_SRC
 198:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   netif = LWIP_HOOK_IP4_ROUTE_SRC(dest, NULL);
 199:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (netif != NULL) {
 200:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return netif;
ARM GAS  /tmp/ccgskpjE.s 			page 6


 201:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 202:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #elif defined(LWIP_HOOK_IP4_ROUTE)
 203:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   netif = LWIP_HOOK_IP4_ROUTE(dest);
 204:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (netif != NULL) {
 205:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return netif;
 206:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 207:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif
 208:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 209:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if ((netif_default == NULL) || !netif_is_up(netif_default) || !netif_is_link_up(netif_default) ||
  87              		.loc 1 209 3 is_stmt 1 view .LVU23
  88              		.loc 1 209 22 is_stmt 0 view .LVU24
  89 0040 164B     		ldr	r3, .L21+4
  90 0042 1B68     		ldr	r3, [r3]
  91              		.loc 1 209 6 view .LVU25
  92 0044 43B1     		cbz	r3, .L1
  93              		.loc 1 209 35 discriminator 1 view .LVU26
  94 0046 93F82F20 		ldrb	r2, [r3, #47]	@ zero_extendqisi2
  95              		.loc 1 209 62 discriminator 1 view .LVU27
  96 004a 02F00502 		and	r2, r2, #5
  97 004e 052A     		cmp	r2, #5
  98 0050 02D1     		bne	.L1
 210:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr_isany_val(*netif_ip4_addr(netif_default))) {
  99              		.loc 1 210 7 discriminator 2 view .LVU28
 100 0052 5A68     		ldr	r2, [r3, #4]
 209:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr_isany_val(*netif_ip4_addr(netif_default))) {
 101              		.loc 1 209 98 discriminator 2 view .LVU29
 102 0054 02B1     		cbz	r2, .L1
 211:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* No matching netif found and default netif is not usable.
 212:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****        If this is not good enough for you, use LWIP_HOOK_IP4_ROUTE() */
 213:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("ip4_route: No route to %"U16_F".%"U16_F".%"U16
 214:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr1_16(dest), ip4_addr2_16(dest), ip4_addr3_16(dest), ip4_addr4_16(dest)));
 215:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.rterr);
 216:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     MIB2_STATS_INC(mib2.ipoutnoroutes);
 217:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return NULL;
 218:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 219:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 220:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return netif_default;
 103              		.loc 1 220 10 view .LVU30
 104 0056 1846     		mov	r0, r3
 105              	.LVL3:
 106              	.L1:
 221:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 107              		.loc 1 221 1 view .LVU31
 108 0058 5DF804FB 		ldr	pc, [sp], #4
 109              	.LVL4:
 110              	.L9:
 111              	.LCFI1:
 112              		.cfi_def_cfa_offset 0
 113              		.cfi_restore 14
 164:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* is the netif up, does it have a link and a valid address? */
 114              		.loc 1 164 43 is_stmt 1 view .LVU32
 164:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* is the netif up, does it have a link and a valid address? */
 115              		.loc 1 164 49 is_stmt 0 view .LVU33
 116 005c 0068     		ldr	r0, [r0]
 117              	.LVL5:
 118              	.L7:
 164:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* is the netif up, does it have a link and a valid address? */
ARM GAS  /tmp/ccgskpjE.s 			page 7


 119              		.loc 1 164 28 is_stmt 1 view .LVU34
 164:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* is the netif up, does it have a link and a valid address? */
 120              		.loc 1 164 3 is_stmt 0 view .LVU35
 121 005e 60B1     		cbz	r0, .L20
 166:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* network mask matches? */
 122              		.loc 1 166 5 is_stmt 1 view .LVU36
 166:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* network mask matches? */
 123              		.loc 1 166 9 is_stmt 0 view .LVU37
 124 0060 90F82F30 		ldrb	r3, [r0, #47]	@ zero_extendqisi2
 166:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* network mask matches? */
 125              		.loc 1 166 8 view .LVU38
 126 0064 13F0010F 		tst	r3, #1
 127 0068 F8D0     		beq	.L9
 166:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* network mask matches? */
 128              		.loc 1 166 28 view .LVU39
 129 006a 13F0040F 		tst	r3, #4
 130 006e F5D0     		beq	.L9
 166:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* network mask matches? */
 131              		.loc 1 166 59 view .LVU40
 132 0070 4268     		ldr	r2, [r0, #4]
 166:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* network mask matches? */
 133              		.loc 1 166 55 view .LVU41
 134 0072 002A     		cmp	r2, #0
 135 0074 F2D0     		beq	.L9
 153:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   struct netif *netif;
 136              		.loc 1 153 1 view .LVU42
 137 0076 00B5     		push	{lr}
 138              	.LCFI2:
 139              		.cfi_def_cfa_offset 4
 140              		.cfi_offset 14, -4
 141 0078 D3E7     		b	.L11
 142              	.L20:
 143              	.LCFI3:
 144              		.cfi_def_cfa_offset 0
 145              		.cfi_restore 14
 209:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr_isany_val(*netif_ip4_addr(netif_default))) {
 146              		.loc 1 209 3 is_stmt 1 view .LVU43
 209:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr_isany_val(*netif_ip4_addr(netif_default))) {
 147              		.loc 1 209 22 is_stmt 0 view .LVU44
 148 007a 084B     		ldr	r3, .L21+4
 149 007c 1B68     		ldr	r3, [r3]
 209:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr_isany_val(*netif_ip4_addr(netif_default))) {
 150              		.loc 1 209 6 view .LVU45
 151 007e 4BB1     		cbz	r3, .L14
 209:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr_isany_val(*netif_ip4_addr(netif_default))) {
 152              		.loc 1 209 35 view .LVU46
 153 0080 93F82F20 		ldrb	r2, [r3, #47]	@ zero_extendqisi2
 209:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr_isany_val(*netif_ip4_addr(netif_default))) {
 154              		.loc 1 209 62 view .LVU47
 155 0084 02F00502 		and	r2, r2, #5
 156 0088 052A     		cmp	r2, #5
 157 008a 03D1     		bne	.L14
 210:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* No matching netif found and default netif is not usable.
 158              		.loc 1 210 7 view .LVU48
 159 008c 5A68     		ldr	r2, [r3, #4]
 209:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr_isany_val(*netif_ip4_addr(netif_default))) {
 160              		.loc 1 209 98 view .LVU49
ARM GAS  /tmp/ccgskpjE.s 			page 8


 161 008e 0AB1     		cbz	r2, .L14
 220:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 162              		.loc 1 220 10 view .LVU50
 163 0090 1846     		mov	r0, r3
 164              	.LVL6:
 220:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 165              		.loc 1 220 10 view .LVU51
 166 0092 7047     		bx	lr
 167              	.LVL7:
 168              	.L14:
 169              		.loc 1 221 1 view .LVU52
 170 0094 7047     		bx	lr
 171              	.L22:
 172 0096 00BF     		.align	2
 173              	.L21:
 174 0098 00000000 		.word	netif_list
 175 009c 00000000 		.word	netif_default
 176              		.cfi_endproc
 177              	.LFE97:
 179              		.section	.text.ip4_input,"ax",%progbits
 180              		.align	1
 181              		.global	ip4_input
 182              		.syntax unified
 183              		.thumb
 184              		.thumb_func
 186              	ip4_input:
 187              	.LVL8:
 188              	.LFB98:
 222:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 223:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_FORWARD
 224:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 225:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Determine whether an IP address is in a reserved set of addresses
 226:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * that may not be forwarded, or whether datagrams to that destination
 227:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * may be forwarded.
 228:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param p the packet to forward
 229:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @return 1: can forward 0: discard
 230:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 231:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** static int
 232:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_canforward(struct pbuf *p)
 233:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 234:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   u32_t addr = lwip_htonl(ip4_addr_get_u32(ip4_current_dest_addr()));
 235:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 236:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (p->flags & PBUF_FLAG_LLBCAST) {
 237:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* don't route link-layer broadcasts */
 238:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return 0;
 239:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 240:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if ((p->flags & PBUF_FLAG_LLMCAST) && !IP_MULTICAST(addr)) {
 241:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* don't route link-layer multicasts unless the destination address is an IP
 242:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****        multicast address */
 243:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return 0;
 244:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 245:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (IP_EXPERIMENTAL(addr)) {
 246:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return 0;
 247:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 248:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (IP_CLASSA(addr)) {
 249:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     u32_t net = addr & IP_CLASSA_NET;
 250:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if ((net == 0) || (net == ((u32_t)IP_LOOPBACKNET << IP_CLASSA_NSHIFT))) {
ARM GAS  /tmp/ccgskpjE.s 			page 9


 251:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* don't route loopback packets */
 252:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return 0;
 253:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 254:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 255:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return 1;
 256:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 257:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 258:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 259:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Forwards an IP packet. It finds an appropriate route for the
 260:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * packet, decrements the TTL value of the packet, adjusts the
 261:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * checksum and outputs the packet on the appropriate interface.
 262:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
 263:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param p the packet to forward (p->payload points to IP header)
 264:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param iphdr the IP header of the input packet
 265:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param inp the netif on which this packet was received
 266:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 267:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** static void
 268:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_forward(struct pbuf *p, struct ip_hdr *iphdr, struct netif *inp)
 269:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 270:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   struct netif *netif;
 271:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 272:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   PERF_START;
 273:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_UNUSED_ARG(inp);
 274:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 275:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (!ip4_canforward(p)) {
 276:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     goto return_noroute;
 277:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 278:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 279:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* RFC3927 2.7: do not forward link-local addresses */
 280:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (ip4_addr_islinklocal(ip4_current_dest_addr())) {
 281:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG, ("ip4_forward: not forwarding LLA %"U16_F".%"U16_F".%"U16_F".%"U16_F"\n",
 282:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr1_16(ip4_current_dest_addr()), ip4_addr2_16(ip4_current_dest_addr()),
 283:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr3_16(ip4_current_dest_addr()), ip4_addr4_16(ip4_current_dest_addr())));
 284:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     goto return_noroute;
 285:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 286:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 287:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* Find network interface where to forward this IP packet to. */
 288:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   netif = ip4_route_src(ip4_current_dest_addr(), ip4_current_src_addr());
 289:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (netif == NULL) {
 290:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG, ("ip4_forward: no forwarding route for %"U16_F".%"U16_F".%"U16_F".%"U16_F
 291:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr1_16(ip4_current_dest_addr()), ip4_addr2_16(ip4_current_dest_addr()),
 292:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr3_16(ip4_current_dest_addr()), ip4_addr4_16(ip4_current_dest_addr())));
 293:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* @todo: send ICMP_DUR_NET? */
 294:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     goto return_noroute;
 295:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 296:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if !IP_FORWARD_ALLOW_TX_ON_RX_NETIF
 297:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* Do not forward packets onto the same network interface on which
 298:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    * they arrived. */
 299:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (netif == inp) {
 300:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG, ("ip4_forward: not bouncing packets back on incoming interface.\n"));
 301:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     goto return_noroute;
 302:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 303:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_FORWARD_ALLOW_TX_ON_RX_NETIF */
 304:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 305:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* decrement TTL */
 306:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   IPH_TTL_SET(iphdr, IPH_TTL(iphdr) - 1);
 307:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* send ICMP if TTL == 0 */
ARM GAS  /tmp/ccgskpjE.s 			page 10


 308:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (IPH_TTL(iphdr) == 0) {
 309:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     MIB2_STATS_INC(mib2.ipinhdrerrors);
 310:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_ICMP
 311:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* Don't send ICMP messages in response to ICMP messages */
 312:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (IPH_PROTO(iphdr) != IP_PROTO_ICMP) {
 313:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       icmp_time_exceeded(p, ICMP_TE_TTL);
 314:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 315:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_ICMP */
 316:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return;
 317:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 318:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 319:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* Incrementally update the IP checksum. */
 320:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (IPH_CHKSUM(iphdr) >= PP_HTONS(0xffffU - 0x100)) {
 321:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_CHKSUM_SET(iphdr, IPH_CHKSUM(iphdr) + PP_HTONS(0x100) + 1);
 322:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   } else {
 323:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_CHKSUM_SET(iphdr, IPH_CHKSUM(iphdr) + PP_HTONS(0x100));
 324:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 325:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 326:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_DEBUGF(IP_DEBUG, ("ip4_forward: forwarding packet to %"U16_F".%"U16_F".%"U16_F".%"U16_F"\n",
 327:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     ip4_addr1_16(ip4_current_dest_addr()), ip4_addr2_16(ip4_current_dest_addr()),
 328:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     ip4_addr3_16(ip4_current_dest_addr()), ip4_addr4_16(ip4_current_dest_addr())));
 329:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 330:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   IP_STATS_INC(ip.fw);
 331:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   MIB2_STATS_INC(mib2.ipforwdatagrams);
 332:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   IP_STATS_INC(ip.xmit);
 333:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 334:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   PERF_STOP("ip4_forward");
 335:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* don't fragment if interface has mtu set to 0 [loopif] */
 336:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (netif->mtu && (p->tot_len > netif->mtu)) {
 337:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if ((IPH_OFFSET(iphdr) & PP_NTOHS(IP_DF)) == 0) {
 338:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_FRAG
 339:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_frag(p, netif, ip4_current_dest_addr());
 340:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* IP_FRAG */
 341:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* @todo: send ICMP Destination Unreachable code 13 "Communication administratively prohibite
 342:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_FRAG */
 343:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     } else {
 344:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_ICMP
 345:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* send ICMP Destination Unreachable code 4: "Fragmentation Needed and DF Set" */
 346:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       icmp_dest_unreach(p, ICMP_DUR_FRAG);
 347:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_ICMP */
 348:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 349:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return;
 350:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 351:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* transmit pbuf on chosen interface */
 352:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   netif->output(netif, p, ip4_current_dest_addr());
 353:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return;
 354:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** return_noroute:
 355:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   MIB2_STATS_INC(mib2.ipoutnoroutes);
 356:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 357:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_FORWARD */
 358:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 359:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 360:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * This function is called by the network interface device driver when
 361:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * an IP packet is received. The function does the basic checks of the
 362:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * IP header such as packet size being at least larger than the header
 363:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * size etc. If the packet was not destined for us, the packet is
 364:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * forwarded (using ip_forward). The IP checksum is always checked.
ARM GAS  /tmp/ccgskpjE.s 			page 11


 365:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
 366:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Finally, the packet is sent to the upper layer protocol input function.
 367:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
 368:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param p the received IP packet (p->payload points to IP header)
 369:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param inp the netif on which this packet was received
 370:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @return ERR_OK if the packet was processed (could return ERR_* if it wasn't
 371:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *         processed, but currently always returns ERR_OK)
 372:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 373:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** err_t
 374:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_input(struct pbuf *p, struct netif *inp)
 375:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 189              		.loc 1 375 1 is_stmt 1 view -0
 190              		.cfi_startproc
 191              		@ args = 0, pretend = 0, frame = 0
 192              		@ frame_needed = 0, uses_anonymous_args = 0
 193              		.loc 1 375 1 is_stmt 0 view .LVU54
 194 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 195              	.LCFI4:
 196              		.cfi_def_cfa_offset 32
 197              		.cfi_offset 3, -32
 198              		.cfi_offset 4, -28
 199              		.cfi_offset 5, -24
 200              		.cfi_offset 6, -20
 201              		.cfi_offset 7, -16
 202              		.cfi_offset 8, -12
 203              		.cfi_offset 9, -8
 204              		.cfi_offset 14, -4
 205 0004 0546     		mov	r5, r0
 376:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   struct ip_hdr *iphdr;
 206              		.loc 1 376 3 is_stmt 1 view .LVU55
 377:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   struct netif *netif;
 207              		.loc 1 377 3 view .LVU56
 378:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   u16_t iphdr_hlen;
 208              		.loc 1 378 3 view .LVU57
 379:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   u16_t iphdr_len;
 209              		.loc 1 379 3 view .LVU58
 380:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_ACCEPT_LINK_LAYER_ADDRESSING || LWIP_IGMP
 381:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   int check_ip_src = 1;
 382:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_ACCEPT_LINK_LAYER_ADDRESSING || LWIP_IGMP */
 383:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 384:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   IP_STATS_INC(ip.recv);
 210              		.loc 1 384 24 view .LVU59
 385:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   MIB2_STATS_INC(mib2.ipinreceives);
 211              		.loc 1 385 36 view .LVU60
 386:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 387:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* identify the IP header */
 388:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   iphdr = (struct ip_hdr *)p->payload;
 212              		.loc 1 388 3 view .LVU61
 213              		.loc 1 388 9 is_stmt 0 view .LVU62
 214 0006 D0F80480 		ldr	r8, [r0, #4]
 215              	.LVL9:
 389:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (IPH_V(iphdr) != 4) {
 216              		.loc 1 389 3 is_stmt 1 view .LVU63
 217              		.loc 1 389 7 is_stmt 0 view .LVU64
 218 000a 98F80030 		ldrb	r3, [r8]	@ zero_extendqisi2
 219              		.loc 1 389 20 view .LVU65
 220 000e 1A09     		lsrs	r2, r3, #4
ARM GAS  /tmp/ccgskpjE.s 			page 12


 221              		.loc 1 389 6 view .LVU66
 222 0010 042A     		cmp	r2, #4
 223 0012 04D0     		beq	.L24
 390:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_WARNING, ("IP packet dropped due to bad version number %"
 224              		.loc 1 390 132 is_stmt 1 view .LVU67
 391:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     ip4_debug_print(p);
 225              		.loc 1 391 23 view .LVU68
 392:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     pbuf_free(p);
 226              		.loc 1 392 5 view .LVU69
 227 0014 FFF7FEFF 		bl	pbuf_free
 228              	.LVL10:
 393:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.err);
 229              		.loc 1 393 25 view .LVU70
 394:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.drop);
 230              		.loc 1 394 26 view .LVU71
 395:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     MIB2_STATS_INC(mib2.ipinhdrerrors);
 231              		.loc 1 395 39 view .LVU72
 396:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ERR_OK;
 232              		.loc 1 396 5 view .LVU73
 233              	.L25:
 397:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 398:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 399:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #ifdef LWIP_HOOK_IP4_INPUT
 400:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (LWIP_HOOK_IP4_INPUT(p, inp)) {
 401:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* the packet has been eaten */
 402:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ERR_OK;
 403:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 404:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif
 405:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 406:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* obtain IP header length in number of 32-bit words */
 407:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   iphdr_hlen = IPH_HL(iphdr);
 408:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* calculate IP header length in bytes */
 409:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   iphdr_hlen *= 4;
 410:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* obtain ip length in bytes */
 411:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   iphdr_len = lwip_ntohs(IPH_LEN(iphdr));
 412:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 413:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* Trim pbuf. This is especially required for packets < 60 bytes. */
 414:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (iphdr_len < p->tot_len) {
 415:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     pbuf_realloc(p, iphdr_len);
 416:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 417:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 418:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* header length exceeds first pbuf length, or ip length exceeds total pbuf length? */
 419:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if ((iphdr_hlen > p->len) || (iphdr_len > p->tot_len) || (iphdr_hlen < IP_HLEN)) {
 420:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (iphdr_hlen < IP_HLEN) {
 421:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 422:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         ("ip4_input: short IP header (%"U16_F" bytes) received, IP packet dropped\n", iphdr_hlen));
 423:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 424:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (iphdr_hlen > p->len) {
 425:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 426:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         ("IP header (len %"U16_F") does not fit in first pbuf (len %"U16_F"), IP packet dropped.\n"
 427:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         iphdr_hlen, p->len));
 428:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 429:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (iphdr_len > p->tot_len) {
 430:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 431:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         ("IP (len %"U16_F") is longer than pbuf (len %"U16_F"), IP packet dropped.\n",
 432:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         iphdr_len, p->tot_len));
 433:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
ARM GAS  /tmp/ccgskpjE.s 			page 13


 434:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* free (drop) packet pbufs */
 435:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     pbuf_free(p);
 436:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.lenerr);
 437:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.drop);
 438:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     MIB2_STATS_INC(mib2.ipindiscards);
 439:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ERR_OK;
 440:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 441:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 442:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* verify checksum */
 443:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_CHECK_IP
 444:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   IF__NETIF_CHECKSUM_ENABLED(inp, NETIF_CHECKSUM_CHECK_IP) {
 445:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (inet_chksum(iphdr, iphdr_hlen) != 0) {
 446:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 447:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 448:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         ("Checksum (0x%"X16_F") failed, IP packet dropped.\n", inet_chksum(iphdr, iphdr_hlen)));
 449:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_debug_print(p);
 450:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       pbuf_free(p);
 451:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP_STATS_INC(ip.chkerr);
 452:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP_STATS_INC(ip.drop);
 453:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipinhdrerrors);
 454:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return ERR_OK;
 455:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 456:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 457:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif
 458:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 459:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* copy IP addresses to aligned ip_addr_t */
 460:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_addr_copy_from_ip4(ip_data.current_iphdr_dest, iphdr->dest);
 461:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_addr_copy_from_ip4(ip_data.current_iphdr_src, iphdr->src);
 462:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 463:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* match packet against an interface, i.e. is this packet for us? */
 464:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (ip4_addr_ismulticast(ip4_current_dest_addr())) {
 465:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_IGMP
 466:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if ((inp->flags & NETIF_FLAG_IGMP) && (igmp_lookfor_group(inp, ip4_current_dest_addr()))) {
 467:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* IGMP snooping switches need 0.0.0.0 to be allowed as source address (RFC 4541) */
 468:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr_t allsystems;
 469:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP4_ADDR(&allsystems, 224, 0, 0, 1);
 470:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (ip4_addr_cmp(ip4_current_dest_addr(), &allsystems) &&
 471:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           ip4_addr_isany(ip4_current_src_addr())) {
 472:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         check_ip_src = 0;
 473:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 474:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       netif = inp;
 475:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     } else {
 476:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       netif = NULL;
 477:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 478:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* LWIP_IGMP */
 479:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if ((netif_is_up(inp)) && (!ip4_addr_isany_val(*netif_ip4_addr(inp)))) {
 480:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       netif = inp;
 481:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     } else {
 482:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       netif = NULL;
 483:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 484:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_IGMP */
 485:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   } else {
 486:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* start trying with inp. if that's not acceptable, start walking the
 487:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****        list of configured netifs.
 488:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****        'first' is used as a boolean to mark whether we started walking the list */
 489:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     int first = 1;
 490:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     netif = inp;
ARM GAS  /tmp/ccgskpjE.s 			page 14


 491:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     do {
 492:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG, ("ip_input: iphdr->dest 0x%"X32_F" netif->ip_addr 0x%"X32_F" (0x%"X32_F
 493:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           ip4_addr_get_u32(&iphdr->dest), ip4_addr_get_u32(netif_ip4_addr(netif)),
 494:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           ip4_addr_get_u32(&iphdr->dest) & ip4_addr_get_u32(netif_ip4_netmask(netif)),
 495:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           ip4_addr_get_u32(netif_ip4_addr(netif)) & ip4_addr_get_u32(netif_ip4_netmask(netif)),
 496:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           ip4_addr_get_u32(&iphdr->dest) & ~ip4_addr_get_u32(netif_ip4_netmask(netif))));
 497:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 498:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* interface is up and configured? */
 499:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if ((netif_is_up(netif)) && (!ip4_addr_isany_val(*netif_ip4_addr(netif)))) {
 500:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* unicast to this interface address? */
 501:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         if (ip4_addr_cmp(ip4_current_dest_addr(), netif_ip4_addr(netif)) ||
 502:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             /* or broadcast on this interface network address? */
 503:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             ip4_addr_isbroadcast(ip4_current_dest_addr(), netif)
 504:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_NETIF_LOOPBACK && !LWIP_HAVE_LOOPIF
 505:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             || (ip4_addr_get_u32(ip4_current_dest_addr()) == PP_HTONL(IPADDR_LOOPBACK))
 506:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_NETIF_LOOPBACK && !LWIP_HAVE_LOOPIF */
 507:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             ) {
 508:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           LWIP_DEBUGF(IP_DEBUG, ("ip4_input: packet accepted on interface %c%c\n",
 509:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****               netif->name[0], netif->name[1]));
 510:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           /* break out of for loop */
 511:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           break;
 512:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         }
 513:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_AUTOIP
 514:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* connections to link-local addresses must persist after changing
 515:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****            the netif's address (RFC3927 ch. 1.9) */
 516:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         if (autoip_accept_packet(netif, ip4_current_dest_addr())) {
 517:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           LWIP_DEBUGF(IP_DEBUG, ("ip4_input: LLA packet accepted on interface %c%c\n",
 518:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****               netif->name[0], netif->name[1]));
 519:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           /* break out of for loop */
 520:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           break;
 521:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         }
 522:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_AUTOIP */
 523:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 524:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (first) {
 525:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if !LWIP_NETIF_LOOPBACK || LWIP_HAVE_LOOPIF
 526:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* Packets sent to the loopback address must not be accepted on an
 527:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****          * interface that does not have the loopback address assigned to it,
 528:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****          * unless a non-loopback interface is used for loopback traffic. */
 529:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         if (ip4_addr_isloopback(ip4_current_dest_addr())) {
 530:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           netif = NULL;
 531:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           break;
 532:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         }
 533:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* !LWIP_NETIF_LOOPBACK || LWIP_HAVE_LOOPIF */
 534:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         first = 0;
 535:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         netif = netif_list;
 536:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       } else {
 537:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         netif = netif->next;
 538:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 539:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (netif == inp) {
 540:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         netif = netif->next;
 541:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 542:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     } while (netif != NULL);
 543:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 544:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 545:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_ACCEPT_LINK_LAYER_ADDRESSING
 546:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* Pass DHCP messages regardless of destination address. DHCP traffic is addressed
 547:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    * using link layer addressing (such as Ethernet MAC) so we must not filter on IP.
ARM GAS  /tmp/ccgskpjE.s 			page 15


 548:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    * According to RFC 1542 section 3.1.1, referred by RFC 2131).
 549:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    *
 550:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    * If you want to accept private broadcast communication while a netif is down,
 551:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    * define LWIP_IP_ACCEPT_UDP_PORT(dst_port), e.g.:
 552:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    *
 553:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    * #define LWIP_IP_ACCEPT_UDP_PORT(dst_port) ((dst_port) == PP_NTOHS(12345))
 554:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****    */
 555:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (netif == NULL) {
 556:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* remote port is DHCP server? */
 557:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (IPH_PROTO(iphdr) == IP_PROTO_UDP) {
 558:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       struct udp_hdr *udphdr = (struct udp_hdr *)((u8_t *)iphdr + iphdr_hlen);
 559:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_TRACE, ("ip4_input: UDP packet to DHCP client port %"U16_F"\n
 560:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         lwip_ntohs(udphdr->dest)));
 561:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (IP_ACCEPT_LINK_LAYER_ADDRESSED_PORT(udphdr->dest)) {
 562:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_TRACE, ("ip4_input: DHCP packet accepted.\n"));
 563:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         netif = inp;
 564:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         check_ip_src = 0;
 565:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 566:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 567:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 568:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_ACCEPT_LINK_LAYER_ADDRESSING */
 569:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 570:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* broadcast or multicast packet source address? Compliant with RFC 1122: 3.2.1.3 */
 571:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_IGMP || IP_ACCEPT_LINK_LAYER_ADDRESSING
 572:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (check_ip_src
 573:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_ACCEPT_LINK_LAYER_ADDRESSING
 574:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* DHCP servers need 0.0.0.0 to be allowed as source address (RFC 1.1.2.2: 3.2.1.3/a) */
 575:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       && !ip4_addr_isany_val(*ip4_current_src_addr())
 576:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_ACCEPT_LINK_LAYER_ADDRESSING */
 577:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****      )
 578:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_IGMP || IP_ACCEPT_LINK_LAYER_ADDRESSING */
 579:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   {
 580:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if ((ip4_addr_isbroadcast(ip4_current_src_addr(), inp)) ||
 581:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         (ip4_addr_ismulticast(ip4_current_src_addr()))) {
 582:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* packet source is not valid */
 583:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_TRACE | LWIP_DBG_LEVEL_WARNING, ("ip4_input: packet source is
 584:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* free (drop) packet pbufs */
 585:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       pbuf_free(p);
 586:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP_STATS_INC(ip.drop);
 587:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipinaddrerrors);
 588:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipindiscards);
 589:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return ERR_OK;
 590:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 591:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 592:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 593:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* packet not for us? */
 594:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (netif == NULL) {
 595:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* packet not for us, route or discard */
 596:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_TRACE, ("ip4_input: packet not for us.\n"));
 597:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_FORWARD
 598:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* non-broadcast packet? */
 599:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (!ip4_addr_isbroadcast(ip4_current_dest_addr(), inp)) {
 600:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* try to forward IP packet on (other) interfaces */
 601:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_forward(p, iphdr, inp);
 602:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     } else
 603:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_FORWARD */
 604:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     {
ARM GAS  /tmp/ccgskpjE.s 			page 16


 605:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP_STATS_INC(ip.drop);
 606:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipinaddrerrors);
 607:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipindiscards);
 608:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 609:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     pbuf_free(p);
 610:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ERR_OK;
 611:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 612:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* packet consists of multiple fragments? */
 613:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if ((IPH_OFFSET(iphdr) & PP_HTONS(IP_OFFMASK | IP_MF)) != 0) {
 614:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_REASSEMBLY /* packet fragment reassembly code present? */
 615:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG, ("IP packet is a fragment (id=0x%04"X16_F" tot_len=%"U16_F" len=%"U16_F" 
 616:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       lwip_ntohs(IPH_ID(iphdr)), p->tot_len, lwip_ntohs(IPH_LEN(iphdr)), (u16_t)!!(IPH_OFFSET(iphdr
 617:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* reassemble the packet*/
 618:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     p = ip4_reass(p);
 619:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* packet not fully reassembled yet? */
 620:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (p == NULL) {
 621:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return ERR_OK;
 622:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 623:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     iphdr = (struct ip_hdr *)p->payload;
 624:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* IP_REASSEMBLY == 0, no packet fragment reassembly code present */
 625:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     pbuf_free(p);
 626:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("IP packet dropped since it was fragmented (0x%
 627:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       lwip_ntohs(IPH_OFFSET(iphdr))));
 628:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.opterr);
 629:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.drop);
 630:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* unsupported protocol feature */
 631:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     MIB2_STATS_INC(mib2.ipinunknownprotos);
 632:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ERR_OK;
 633:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_REASSEMBLY */
 634:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 635:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 636:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_OPTIONS_ALLOWED == 0 /* no support for IP options in the IP header? */
 637:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 638:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_IGMP
 639:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* there is an extra "router alert" option in IGMP messages which we allow for but do not police 
 640:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if ((iphdr_hlen > IP_HLEN) &&  (IPH_PROTO(iphdr) != IP_PROTO_IGMP)) {
 641:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else
 642:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (iphdr_hlen > IP_HLEN) {
 643:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_IGMP */
 644:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("IP packet dropped since there were IP options 
 645:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     pbuf_free(p);
 646:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.opterr);
 647:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.drop);
 648:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* unsupported protocol feature */
 649:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     MIB2_STATS_INC(mib2.ipinunknownprotos);
 650:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ERR_OK;
 651:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 652:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_OPTIONS_ALLOWED == 0 */
 653:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 654:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* send to upper layers */
 655:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_DEBUGF(IP_DEBUG, ("ip4_input: \n"));
 656:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip4_debug_print(p);
 657:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_DEBUGF(IP_DEBUG, ("ip4_input: p->len %"U16_F" p->tot_len %"U16_F"\n", p->len, p->tot_len));
 658:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 659:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_netif = netif;
 660:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_input_netif = inp;
 661:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip4_header = iphdr;
ARM GAS  /tmp/ccgskpjE.s 			page 17


 662:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip_header_tot_len = IPH_HL(iphdr) * 4;
 663:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 664:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_RAW
 665:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* raw input did not eat the packet? */
 666:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (raw_input(p, inp) == 0)
 667:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_RAW */
 668:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   {
 669:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     pbuf_header(p, -(s16_t)iphdr_hlen); /* Move to payload, no check necessary. */
 670:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 671:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     switch (IPH_PROTO(iphdr)) {
 672:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_UDP
 673:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     case IP_PROTO_UDP:
 674:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_UDPLITE
 675:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     case IP_PROTO_UDPLITE:
 676:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_UDPLITE */
 677:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipindelivers);
 678:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       udp_input(p, inp);
 679:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       break;
 680:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_UDP */
 681:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_TCP
 682:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     case IP_PROTO_TCP:
 683:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipindelivers);
 684:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       tcp_input(p, inp);
 685:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       break;
 686:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_TCP */
 687:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_ICMP
 688:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     case IP_PROTO_ICMP:
 689:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipindelivers);
 690:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       icmp_input(p, inp);
 691:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       break;
 692:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_ICMP */
 693:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_IGMP
 694:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     case IP_PROTO_IGMP:
 695:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       igmp_input(p, inp, ip4_current_dest_addr());
 696:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       break;
 697:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_IGMP */
 698:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     default:
 699:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_ICMP
 700:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* send ICMP destination protocol unreachable unless is was a broadcast */
 701:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (!ip4_addr_isbroadcast(ip4_current_dest_addr(), netif) &&
 702:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           !ip4_addr_ismulticast(ip4_current_dest_addr())) {
 703:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         pbuf_header_force(p, iphdr_hlen); /* Move to ip header, no check necessary. */
 704:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         p->payload = iphdr;
 705:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         icmp_dest_unreach(p, ICMP_DUR_PROTO);
 706:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 707:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_ICMP */
 708:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       pbuf_free(p);
 709:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 710:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("Unsupported transport protocol %"U16_F"\n", 
 711:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 712:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP_STATS_INC(ip.proterr);
 713:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP_STATS_INC(ip.drop);
 714:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipinunknownprotos);
 715:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 716:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 717:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 718:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* @todo: this is not really necessary... */
ARM GAS  /tmp/ccgskpjE.s 			page 18


 719:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_netif = NULL;
 720:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_input_netif = NULL;
 721:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip4_header = NULL;
 722:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip_header_tot_len = 0;
 723:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip4_addr_set_any(ip4_current_src_addr());
 724:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip4_addr_set_any(ip4_current_dest_addr());
 725:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 726:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return ERR_OK;
 727:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 234              		.loc 1 727 1 is_stmt 0 view .LVU74
 235 0018 0020     		movs	r0, #0
 236 001a BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 237              	.LVL11:
 238              	.L24:
 239              		.loc 1 727 1 view .LVU75
 240 001e 0E46     		mov	r6, r1
 407:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* calculate IP header length in bytes */
 241              		.loc 1 407 3 is_stmt 1 view .LVU76
 407:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* calculate IP header length in bytes */
 242              		.loc 1 407 14 is_stmt 0 view .LVU77
 243 0020 03F00F03 		and	r3, r3, #15
 244              	.LVL12:
 409:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* obtain ip length in bytes */
 245              		.loc 1 409 3 is_stmt 1 view .LVU78
 409:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* obtain ip length in bytes */
 246              		.loc 1 409 14 is_stmt 0 view .LVU79
 247 0024 9F00     		lsls	r7, r3, #2
 248              	.LVL13:
 411:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 249              		.loc 1 411 3 is_stmt 1 view .LVU80
 411:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 250              		.loc 1 411 15 is_stmt 0 view .LVU81
 251 0026 B8F80200 		ldrh	r0, [r8, #2]	@ unaligned
 252              	.LVL14:
 411:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 253              		.loc 1 411 15 view .LVU82
 254 002a FFF7FEFF 		bl	lwip_htons
 255              	.LVL15:
 411:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 256              		.loc 1 411 15 view .LVU83
 257 002e 0446     		mov	r4, r0
 258              	.LVL16:
 414:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     pbuf_realloc(p, iphdr_len);
 259              		.loc 1 414 3 is_stmt 1 view .LVU84
 414:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     pbuf_realloc(p, iphdr_len);
 260              		.loc 1 414 20 is_stmt 0 view .LVU85
 261 0030 2B89     		ldrh	r3, [r5, #8]
 414:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     pbuf_realloc(p, iphdr_len);
 262              		.loc 1 414 6 view .LVU86
 263 0032 8342     		cmp	r3, r0
 264 0034 16D8     		bhi	.L51
 265              	.LVL17:
 266              	.L26:
 419:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (iphdr_hlen < IP_HLEN) {
 267              		.loc 1 419 3 is_stmt 1 view .LVU87
 419:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (iphdr_hlen < IP_HLEN) {
 268              		.loc 1 419 22 is_stmt 0 view .LVU88
ARM GAS  /tmp/ccgskpjE.s 			page 19


 269 0036 6B89     		ldrh	r3, [r5, #10]
 419:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (iphdr_hlen < IP_HLEN) {
 270              		.loc 1 419 6 view .LVU89
 271 0038 BB42     		cmp	r3, r7
 272 003a 18D3     		bcc	.L27
 419:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (iphdr_hlen < IP_HLEN) {
 273              		.loc 1 419 46 discriminator 1 view .LVU90
 274 003c 2B89     		ldrh	r3, [r5, #8]
 419:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (iphdr_hlen < IP_HLEN) {
 275              		.loc 1 419 29 discriminator 1 view .LVU91
 276 003e A342     		cmp	r3, r4
 277 0040 15D3     		bcc	.L27
 419:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (iphdr_hlen < IP_HLEN) {
 278              		.loc 1 419 57 discriminator 2 view .LVU92
 279 0042 132F     		cmp	r7, #19
 280 0044 13D9     		bls	.L27
 460:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_addr_copy_from_ip4(ip_data.current_iphdr_src, iphdr->src);
 281              		.loc 1 460 3 is_stmt 1 view .LVU93
 282 0046 D8F81030 		ldr	r3, [r8, #16]	@ unaligned
 283 004a 5A4A     		ldr	r2, .L57
 284 004c 5361     		str	r3, [r2, #20]
 461:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 285              		.loc 1 461 3 view .LVU94
 286 004e D8F80C10 		ldr	r1, [r8, #12]	@ unaligned
 287 0052 1161     		str	r1, [r2, #16]
 464:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_IGMP
 288              		.loc 1 464 3 view .LVU95
 464:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_IGMP
 289              		.loc 1 464 7 is_stmt 0 view .LVU96
 290 0054 03F0F003 		and	r3, r3, #240
 464:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_IGMP
 291              		.loc 1 464 6 view .LVU97
 292 0058 E02B     		cmp	r3, #224
 293 005a 0CD0     		beq	.L52
 294              	.LBB2:
 490:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     do {
 295              		.loc 1 490 11 view .LVU98
 296 005c 3446     		mov	r4, r6
 489:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     netif = inp;
 297              		.loc 1 489 9 view .LVU99
 298 005e 4FF00109 		mov	r9, #1
 299 0062 16E0     		b	.L29
 300              	.LVL18:
 301              	.L51:
 489:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     netif = inp;
 302              		.loc 1 489 9 view .LVU100
 303              	.LBE2:
 415:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 304              		.loc 1 415 5 is_stmt 1 view .LVU101
 305 0064 0146     		mov	r1, r0
 306 0066 2846     		mov	r0, r5
 307              	.LVL19:
 415:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 308              		.loc 1 415 5 is_stmt 0 view .LVU102
 309 0068 FFF7FEFF 		bl	pbuf_realloc
 310              	.LVL20:
 311 006c E3E7     		b	.L26
ARM GAS  /tmp/ccgskpjE.s 			page 20


 312              	.L27:
 420:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 313              		.loc 1 420 5 is_stmt 1 view .LVU103
 422:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 314              		.loc 1 422 99 view .LVU104
 424:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 315              		.loc 1 424 5 view .LVU105
 427:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 316              		.loc 1 427 29 view .LVU106
 429:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS,
 317              		.loc 1 429 5 view .LVU107
 432:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 318              		.loc 1 432 32 view .LVU108
 435:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.lenerr);
 319              		.loc 1 435 5 view .LVU109
 320 006e 2846     		mov	r0, r5
 321 0070 FFF7FEFF 		bl	pbuf_free
 322              	.LVL21:
 436:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.drop);
 323              		.loc 1 436 28 view .LVU110
 437:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     MIB2_STATS_INC(mib2.ipindiscards);
 324              		.loc 1 437 26 view .LVU111
 438:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ERR_OK;
 325              		.loc 1 438 38 view .LVU112
 439:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 326              		.loc 1 439 5 view .LVU113
 439:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 327              		.loc 1 439 12 is_stmt 0 view .LVU114
 328 0074 D0E7     		b	.L25
 329              	.L52:
 479:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       netif = inp;
 330              		.loc 1 479 5 is_stmt 1 view .LVU115
 479:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       netif = inp;
 331              		.loc 1 479 10 is_stmt 0 view .LVU116
 332 0076 96F82F30 		ldrb	r3, [r6, #47]	@ zero_extendqisi2
 479:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       netif = inp;
 333              		.loc 1 479 8 view .LVU117
 334 007a 13F0010F 		tst	r3, #1
 335 007e 25D0     		beq	.L46
 479:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       netif = inp;
 336              		.loc 1 479 33 discriminator 1 view .LVU118
 337 0080 7368     		ldr	r3, [r6, #4]
 479:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       netif = inp;
 338              		.loc 1 479 28 discriminator 1 view .LVU119
 339 0082 002B     		cmp	r3, #0
 340 0084 67D1     		bne	.L47
 482:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 341              		.loc 1 482 13 view .LVU120
 342 0086 0024     		movs	r4, #0
 343 0088 21E0     		b	.L30
 344              	.LVL22:
 345              	.L32:
 346              	.LBB3:
 537:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 347              		.loc 1 537 9 is_stmt 1 view .LVU121
 537:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 348              		.loc 1 537 15 is_stmt 0 view .LVU122
ARM GAS  /tmp/ccgskpjE.s 			page 21


 349 008a 2468     		ldr	r4, [r4]
 350              	.LVL23:
 351              	.L33:
 539:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         netif = netif->next;
 352              		.loc 1 539 7 is_stmt 1 view .LVU123
 539:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         netif = netif->next;
 353              		.loc 1 539 10 is_stmt 0 view .LVU124
 354 008c B442     		cmp	r4, r6
 355 008e 1BD0     		beq	.L53
 356              	.L34:
 542:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 357              		.loc 1 542 13 is_stmt 1 view .LVU125
 542:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 358              		.loc 1 542 5 is_stmt 0 view .LVU126
 359 0090 ECB1     		cbz	r4, .L30
 360              	.LVL24:
 361              	.L29:
 491:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG, ("ip_input: iphdr->dest 0x%"X32_F" netif->ip_addr 0x%"X32_F" (0x%"X32_F
 362              		.loc 1 491 5 is_stmt 1 view .LVU127
 496:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 363              		.loc 1 496 89 view .LVU128
 499:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* unicast to this interface address? */
 364              		.loc 1 499 7 view .LVU129
 499:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* unicast to this interface address? */
 365              		.loc 1 499 12 is_stmt 0 view .LVU130
 366 0092 94F82F30 		ldrb	r3, [r4, #47]	@ zero_extendqisi2
 499:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* unicast to this interface address? */
 367              		.loc 1 499 10 view .LVU131
 368 0096 13F0010F 		tst	r3, #1
 369 009a 09D0     		beq	.L31
 499:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* unicast to this interface address? */
 370              		.loc 1 499 37 discriminator 1 view .LVU132
 371 009c 6368     		ldr	r3, [r4, #4]
 499:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* unicast to this interface address? */
 372              		.loc 1 499 32 discriminator 1 view .LVU133
 373 009e 3BB1     		cbz	r3, .L31
 501:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             /* or broadcast on this interface network address? */
 374              		.loc 1 501 9 is_stmt 1 view .LVU134
 501:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             /* or broadcast on this interface network address? */
 375              		.loc 1 501 13 is_stmt 0 view .LVU135
 376 00a0 444A     		ldr	r2, .L57
 377 00a2 5069     		ldr	r0, [r2, #20]
 501:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             /* or broadcast on this interface network address? */
 378              		.loc 1 501 12 view .LVU136
 379 00a4 8342     		cmp	r3, r0
 380 00a6 12D0     		beq	.L30
 503:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_NETIF_LOOPBACK && !LWIP_HAVE_LOOPIF
 381              		.loc 1 503 13 discriminator 1 view .LVU137
 382 00a8 2146     		mov	r1, r4
 383 00aa FFF7FEFF 		bl	ip4_addr_isbroadcast_u32
 384              	.LVL25:
 501:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             /* or broadcast on this interface network address? */
 385              		.loc 1 501 74 discriminator 1 view .LVU138
 386 00ae 70B9     		cbnz	r0, .L30
 387              	.L31:
 524:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if !LWIP_NETIF_LOOPBACK || LWIP_HAVE_LOOPIF
 388              		.loc 1 524 7 is_stmt 1 view .LVU139
ARM GAS  /tmp/ccgskpjE.s 			page 22


 524:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if !LWIP_NETIF_LOOPBACK || LWIP_HAVE_LOOPIF
 389              		.loc 1 524 10 is_stmt 0 view .LVU140
 390 00b0 B9F1000F 		cmp	r9, #0
 391 00b4 E9D0     		beq	.L32
 529:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           netif = NULL;
 392              		.loc 1 529 9 is_stmt 1 view .LVU141
 529:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           netif = NULL;
 393              		.loc 1 529 13 is_stmt 0 view .LVU142
 394 00b6 3F4B     		ldr	r3, .L57
 395 00b8 1B7D     		ldrb	r3, [r3, #20]	@ zero_extendqisi2
 529:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           netif = NULL;
 396              		.loc 1 529 12 view .LVU143
 397 00ba 7F2B     		cmp	r3, #127
 398 00bc 4DD0     		beq	.L48
 534:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         netif = netif_list;
 399              		.loc 1 534 9 is_stmt 1 view .LVU144
 400              	.LVL26:
 535:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       } else {
 401              		.loc 1 535 9 view .LVU145
 535:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       } else {
 402              		.loc 1 535 15 is_stmt 0 view .LVU146
 403 00be 3E4B     		ldr	r3, .L57+4
 404 00c0 1C68     		ldr	r4, [r3]
 405              	.LVL27:
 534:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         netif = netif_list;
 406              		.loc 1 534 15 view .LVU147
 407 00c2 4FF00009 		mov	r9, #0
 408 00c6 E1E7     		b	.L33
 409              	.LVL28:
 410              	.L53:
 540:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 411              		.loc 1 540 9 is_stmt 1 view .LVU148
 540:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 412              		.loc 1 540 15 is_stmt 0 view .LVU149
 413 00c8 2468     		ldr	r4, [r4]
 414              	.LVL29:
 540:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 415              		.loc 1 540 15 view .LVU150
 416 00ca E1E7     		b	.L34
 417              	.LVL30:
 418              	.L46:
 540:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 419              		.loc 1 540 15 view .LVU151
 420              	.LBE3:
 482:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 421              		.loc 1 482 13 view .LVU152
 422 00cc 0024     		movs	r4, #0
 423              	.L30:
 424              	.LVL31:
 580:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         (ip4_addr_ismulticast(ip4_current_src_addr()))) {
 425              		.loc 1 580 5 is_stmt 1 view .LVU153
 580:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         (ip4_addr_ismulticast(ip4_current_src_addr()))) {
 426              		.loc 1 580 10 is_stmt 0 view .LVU154
 427 00ce 3146     		mov	r1, r6
 428 00d0 384B     		ldr	r3, .L57
 429 00d2 1869     		ldr	r0, [r3, #16]
 430 00d4 FFF7FEFF 		bl	ip4_addr_isbroadcast_u32
ARM GAS  /tmp/ccgskpjE.s 			page 23


 431              	.LVL32:
 580:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         (ip4_addr_ismulticast(ip4_current_src_addr()))) {
 432              		.loc 1 580 8 view .LVU155
 433 00d8 0028     		cmp	r0, #0
 434 00da 40D1     		bne	.L35
 581:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* packet source is not valid */
 435              		.loc 1 581 10 discriminator 1 view .LVU156
 436 00dc 354B     		ldr	r3, .L57
 437 00de 1B69     		ldr	r3, [r3, #16]
 438 00e0 03F0F003 		and	r3, r3, #240
 580:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         (ip4_addr_ismulticast(ip4_current_src_addr()))) {
 439              		.loc 1 580 61 discriminator 1 view .LVU157
 440 00e4 E02B     		cmp	r3, #224
 441 00e6 3AD0     		beq	.L35
 594:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* packet not for us, route or discard */
 442              		.loc 1 594 3 is_stmt 1 view .LVU158
 594:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* packet not for us, route or discard */
 443              		.loc 1 594 6 is_stmt 0 view .LVU159
 444 00e8 002C     		cmp	r4, #0
 445 00ea 3CD0     		beq	.L54
 613:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_REASSEMBLY /* packet fragment reassembly code present? */
 446              		.loc 1 613 3 is_stmt 1 view .LVU160
 613:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_REASSEMBLY /* packet fragment reassembly code present? */
 447              		.loc 1 613 8 is_stmt 0 view .LVU161
 448 00ec B8F80630 		ldrh	r3, [r8, #6]	@ unaligned
 613:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_REASSEMBLY /* packet fragment reassembly code present? */
 449              		.loc 1 613 6 view .LVU162
 450 00f0 23F0C003 		bic	r3, r3, #192
 451 00f4 9BB2     		uxth	r3, r3
 452 00f6 3BB1     		cbz	r3, .L38
 616:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* reassemble the packet*/
 453              		.loc 1 616 179 is_stmt 1 view .LVU163
 618:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* packet not fully reassembled yet? */
 454              		.loc 1 618 5 view .LVU164
 618:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* packet not fully reassembled yet? */
 455              		.loc 1 618 9 is_stmt 0 view .LVU165
 456 00f8 2846     		mov	r0, r5
 457 00fa FFF7FEFF 		bl	ip4_reass
 458              	.LVL33:
 620:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return ERR_OK;
 459              		.loc 1 620 5 is_stmt 1 view .LVU166
 620:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return ERR_OK;
 460              		.loc 1 620 8 is_stmt 0 view .LVU167
 461 00fe 0546     		mov	r5, r0
 462 0100 0028     		cmp	r0, #0
 463 0102 89D0     		beq	.L25
 623:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* IP_REASSEMBLY == 0, no packet fragment reassembly code present */
 464              		.loc 1 623 5 is_stmt 1 view .LVU168
 623:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* IP_REASSEMBLY == 0, no packet fragment reassembly code present */
 465              		.loc 1 623 11 is_stmt 0 view .LVU169
 466 0104 D0F80480 		ldr	r8, [r0, #4]
 467              	.LVL34:
 468              	.L38:
 655:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip4_debug_print(p);
 469              		.loc 1 655 43 is_stmt 1 view .LVU170
 656:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_DEBUGF(IP_DEBUG, ("ip4_input: p->len %"U16_F" p->tot_len %"U16_F"\n", p->len, p->tot_len));
 470              		.loc 1 656 21 view .LVU171
ARM GAS  /tmp/ccgskpjE.s 			page 24


 657:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 471              		.loc 1 657 98 view .LVU172
 659:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_input_netif = inp;
 472              		.loc 1 659 3 view .LVU173
 659:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_input_netif = inp;
 473              		.loc 1 659 25 is_stmt 0 view .LVU174
 474 0108 2A4A     		ldr	r2, .L57
 475 010a 1460     		str	r4, [r2]
 660:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip4_header = iphdr;
 476              		.loc 1 660 3 is_stmt 1 view .LVU175
 660:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip4_header = iphdr;
 477              		.loc 1 660 31 is_stmt 0 view .LVU176
 478 010c 5660     		str	r6, [r2, #4]
 661:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip_header_tot_len = IPH_HL(iphdr) * 4;
 479              		.loc 1 661 3 is_stmt 1 view .LVU177
 661:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip_header_tot_len = IPH_HL(iphdr) * 4;
 480              		.loc 1 661 30 is_stmt 0 view .LVU178
 481 010e C2F80880 		str	r8, [r2, #8]
 662:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 482              		.loc 1 662 3 is_stmt 1 view .LVU179
 662:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 483              		.loc 1 662 39 is_stmt 0 view .LVU180
 484 0112 98F80030 		ldrb	r3, [r8]	@ zero_extendqisi2
 662:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 485              		.loc 1 662 37 view .LVU181
 486 0116 03F00F03 		and	r3, r3, #15
 487 011a 9B00     		lsls	r3, r3, #2
 488 011c 9381     		strh	r3, [r2, #12]	@ movhi
 669:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 489              		.loc 1 669 5 is_stmt 1 view .LVU182
 490 011e 7942     		rsbs	r1, r7, #0
 491 0120 2846     		mov	r0, r5
 492 0122 FFF7FEFF 		bl	pbuf_header
 493              	.LVL35:
 671:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_UDP
 494              		.loc 1 671 5 view .LVU183
 671:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_UDP
 495              		.loc 1 671 13 is_stmt 0 view .LVU184
 496 0126 98F80930 		ldrb	r3, [r8, #9]	@ zero_extendqisi2
 671:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_UDP
 497              		.loc 1 671 5 view .LVU185
 498 012a 062B     		cmp	r3, #6
 499 012c 2CD0     		beq	.L39
 671:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_UDP
 500              		.loc 1 671 5 view .LVU186
 501 012e 112B     		cmp	r3, #17
 502 0130 1DD0     		beq	.L40
 503 0132 012B     		cmp	r3, #1
 504 0134 2DD0     		beq	.L55
 701:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           !ip4_addr_ismulticast(ip4_current_dest_addr())) {
 505              		.loc 1 701 7 is_stmt 1 view .LVU187
 701:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           !ip4_addr_ismulticast(ip4_current_dest_addr())) {
 506              		.loc 1 701 12 is_stmt 0 view .LVU188
 507 0136 2146     		mov	r1, r4
 508 0138 1E4B     		ldr	r3, .L57
 509 013a 5869     		ldr	r0, [r3, #20]
 510 013c FFF7FEFF 		bl	ip4_addr_isbroadcast_u32
ARM GAS  /tmp/ccgskpjE.s 			page 25


 511              	.LVL36:
 701:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           !ip4_addr_ismulticast(ip4_current_dest_addr())) {
 512              		.loc 1 701 10 view .LVU189
 513 0140 28B9     		cbnz	r0, .L44
 702:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         pbuf_header_force(p, iphdr_hlen); /* Move to ip header, no check necessary. */
 514              		.loc 1 702 12 discriminator 1 view .LVU190
 515 0142 1C4B     		ldr	r3, .L57
 516 0144 5B69     		ldr	r3, [r3, #20]
 517 0146 03F0F003 		and	r3, r3, #240
 701:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           !ip4_addr_ismulticast(ip4_current_dest_addr())) {
 518              		.loc 1 701 65 discriminator 1 view .LVU191
 519 014a E02B     		cmp	r3, #224
 520 014c 26D1     		bne	.L56
 521              	.L44:
 708:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 522              		.loc 1 708 7 is_stmt 1 view .LVU192
 523 014e 2846     		mov	r0, r5
 524 0150 FFF7FEFF 		bl	pbuf_free
 525              	.LVL37:
 526 0154 0FE0     		b	.L43
 527              	.LVL38:
 528              	.L47:
 480:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     } else {
 529              		.loc 1 480 13 is_stmt 0 view .LVU193
 530 0156 3446     		mov	r4, r6
 531 0158 B9E7     		b	.L30
 532              	.LVL39:
 533              	.L48:
 534              	.LBB4:
 530:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           break;
 535              		.loc 1 530 17 view .LVU194
 536 015a 0024     		movs	r4, #0
 537              	.LVL40:
 530:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           break;
 538              		.loc 1 530 17 view .LVU195
 539 015c B7E7     		b	.L30
 540              	.LVL41:
 541              	.L35:
 530:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           break;
 542              		.loc 1 530 17 view .LVU196
 543              	.LBE4:
 583:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* free (drop) packet pbufs */
 544              		.loc 1 583 116 is_stmt 1 view .LVU197
 585:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP_STATS_INC(ip.drop);
 545              		.loc 1 585 7 view .LVU198
 546 015e 2846     		mov	r0, r5
 547 0160 FFF7FEFF 		bl	pbuf_free
 548              	.LVL42:
 586:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipinaddrerrors);
 549              		.loc 1 586 28 view .LVU199
 587:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipindiscards);
 550              		.loc 1 587 42 view .LVU200
 588:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return ERR_OK;
 551              		.loc 1 588 40 view .LVU201
 589:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 552              		.loc 1 589 7 view .LVU202
 589:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
ARM GAS  /tmp/ccgskpjE.s 			page 26


 553              		.loc 1 589 14 is_stmt 0 view .LVU203
 554 0164 58E7     		b	.L25
 555              	.L54:
 596:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_FORWARD
 556              		.loc 1 596 80 is_stmt 1 view .LVU204
 605:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipinaddrerrors);
 557              		.loc 1 605 28 view .LVU205
 606:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipindiscards);
 558              		.loc 1 606 42 view .LVU206
 607:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 559              		.loc 1 607 40 view .LVU207
 609:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ERR_OK;
 560              		.loc 1 609 5 view .LVU208
 561 0166 2846     		mov	r0, r5
 562 0168 FFF7FEFF 		bl	pbuf_free
 563              	.LVL43:
 610:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 564              		.loc 1 610 5 view .LVU209
 610:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 565              		.loc 1 610 12 is_stmt 0 view .LVU210
 566 016c 54E7     		b	.L25
 567              	.L40:
 677:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       udp_input(p, inp);
 568              		.loc 1 677 40 is_stmt 1 view .LVU211
 678:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       break;
 569              		.loc 1 678 7 view .LVU212
 570 016e 3146     		mov	r1, r6
 571 0170 2846     		mov	r0, r5
 572 0172 FFF7FEFF 		bl	udp_input
 573              	.LVL44:
 679:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_UDP */
 574              		.loc 1 679 7 view .LVU213
 575              	.L43:
 710:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 576              		.loc 1 710 125 view .LVU214
 712:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP_STATS_INC(ip.drop);
 577              		.loc 1 712 31 view .LVU215
 713:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipinunknownprotos);
 578              		.loc 1 713 28 view .LVU216
 714:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 579              		.loc 1 714 45 view .LVU217
 719:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_input_netif = NULL;
 580              		.loc 1 719 3 view .LVU218
 719:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_input_netif = NULL;
 581              		.loc 1 719 25 is_stmt 0 view .LVU219
 582 0176 0F4B     		ldr	r3, .L57
 583 0178 0022     		movs	r2, #0
 584 017a 1A60     		str	r2, [r3]
 720:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip4_header = NULL;
 585              		.loc 1 720 3 is_stmt 1 view .LVU220
 720:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip4_header = NULL;
 586              		.loc 1 720 31 is_stmt 0 view .LVU221
 587 017c 5A60     		str	r2, [r3, #4]
 721:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip_header_tot_len = 0;
 588              		.loc 1 721 3 is_stmt 1 view .LVU222
 721:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip_data.current_ip_header_tot_len = 0;
 589              		.loc 1 721 30 is_stmt 0 view .LVU223
ARM GAS  /tmp/ccgskpjE.s 			page 27


 590 017e 9A60     		str	r2, [r3, #8]
 722:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip4_addr_set_any(ip4_current_src_addr());
 591              		.loc 1 722 3 is_stmt 1 view .LVU224
 722:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip4_addr_set_any(ip4_current_src_addr());
 592              		.loc 1 722 37 is_stmt 0 view .LVU225
 593 0180 9A81     		strh	r2, [r3, #12]	@ movhi
 723:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip4_addr_set_any(ip4_current_dest_addr());
 594              		.loc 1 723 3 is_stmt 1 view .LVU226
 595 0182 1A61     		str	r2, [r3, #16]
 724:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 596              		.loc 1 724 3 view .LVU227
 597 0184 5A61     		str	r2, [r3, #20]
 726:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 598              		.loc 1 726 3 view .LVU228
 726:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 599              		.loc 1 726 10 is_stmt 0 view .LVU229
 600 0186 47E7     		b	.L25
 601              	.L39:
 683:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       tcp_input(p, inp);
 602              		.loc 1 683 40 is_stmt 1 view .LVU230
 684:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       break;
 603              		.loc 1 684 7 view .LVU231
 604 0188 3146     		mov	r1, r6
 605 018a 2846     		mov	r0, r5
 606 018c FFF7FEFF 		bl	tcp_input
 607              	.LVL45:
 685:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_TCP */
 608              		.loc 1 685 7 view .LVU232
 609 0190 F1E7     		b	.L43
 610              	.L55:
 689:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       icmp_input(p, inp);
 611              		.loc 1 689 40 view .LVU233
 690:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       break;
 612              		.loc 1 690 7 view .LVU234
 613 0192 3146     		mov	r1, r6
 614 0194 2846     		mov	r0, r5
 615 0196 FFF7FEFF 		bl	icmp_input
 616              	.LVL46:
 691:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_ICMP */
 617              		.loc 1 691 7 view .LVU235
 618 019a ECE7     		b	.L43
 619              	.L56:
 703:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         p->payload = iphdr;
 620              		.loc 1 703 9 view .LVU236
 621 019c 3946     		mov	r1, r7
 622 019e 2846     		mov	r0, r5
 623 01a0 FFF7FEFF 		bl	pbuf_header_force
 624              	.LVL47:
 704:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         icmp_dest_unreach(p, ICMP_DUR_PROTO);
 625              		.loc 1 704 9 view .LVU237
 704:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         icmp_dest_unreach(p, ICMP_DUR_PROTO);
 626              		.loc 1 704 20 is_stmt 0 view .LVU238
 627 01a4 C5F80480 		str	r8, [r5, #4]
 705:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 628              		.loc 1 705 9 is_stmt 1 view .LVU239
 629 01a8 0221     		movs	r1, #2
 630 01aa 2846     		mov	r0, r5
ARM GAS  /tmp/ccgskpjE.s 			page 28


 631 01ac FFF7FEFF 		bl	icmp_dest_unreach
 632              	.LVL48:
 633 01b0 CDE7     		b	.L44
 634              	.L58:
 635 01b2 00BF     		.align	2
 636              	.L57:
 637 01b4 00000000 		.word	ip_data
 638 01b8 00000000 		.word	netif_list
 639              		.cfi_endproc
 640              	.LFE98:
 642              		.section	.rodata.ip4_output_if_src.str1.4,"aMS",%progbits,1
 643              		.align	2
 644              	.LC0:
 645 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c\000"
 645      6C657761 
 645      7265732F 
 645      54686972 
 645      645F5061 
 646 0031 000000   		.align	2
 647              	.LC1:
 648 0034 702D3E72 		.ascii	"p->ref == 1\000"
 648      6566203D 
 648      3D203100 
 649              		.align	2
 650              	.LC2:
 651 0040 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
 651      7274696F 
 651      6E202225 
 651      73222066 
 651      61696C65 
 652              		.align	2
 653              	.LC3:
 654 0068 63686563 		.ascii	"check that first pbuf can hold struct ip_hdr\000"
 654      6B207468 
 654      61742066 
 654      69727374 
 654      20706275 
 655              		.section	.text.ip4_output_if_src,"ax",%progbits
 656              		.align	1
 657              		.global	ip4_output_if_src
 658              		.syntax unified
 659              		.thumb
 660              		.thumb_func
 662              	ip4_output_if_src:
 663              	.LVL49:
 664              	.LFB100:
 728:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 729:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 730:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Sends an IP packet on a network interface. This function constructs
 731:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * the IP header and calculates the IP header checksum. If the source
 732:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * IP address is NULL, the IP address of the outgoing network
 733:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * interface is filled in as source address.
 734:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * If the destination IP address is LWIP_IP_HDRINCL, p is assumed to already
 735:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * include an IP header and p->payload points to it instead of the data.
 736:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
 737:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param p the packet to send (p->payload points to the data, e.g. next
 738:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             protocol header; if dest == LWIP_IP_HDRINCL, p already includes an
ARM GAS  /tmp/ccgskpjE.s 			page 29


 739:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             IP header and p->payload points to that IP header)
 740:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param src the source IP address to send from (if src == IP4_ADDR_ANY, the
 741:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *         IP  address of the netif used to send is used as source address)
 742:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param dest the destination IP address to send the packet to
 743:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param ttl the TTL value to be set in the IP header
 744:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param tos the TOS value to be set in the IP header
 745:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param proto the PROTOCOL to be set in the IP header
 746:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param netif the netif on which to send this packet
 747:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @return ERR_OK if the packet was sent OK
 748:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *         ERR_BUF if p doesn't have enough space for IP/LINK headers
 749:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *         returns errors returned by netif->output
 750:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
 751:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @note ip_id: RFC791 "some host may be able to simply use
 752:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *  unique identifiers independent of destination"
 753:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 754:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** err_t
 755:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_output_if(struct pbuf *p, const ip4_addr_t *src, const ip4_addr_t *dest,
 756:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****              u8_t ttl, u8_t tos,
 757:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****              u8_t proto, struct netif *netif)
 758:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 759:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_OPTIONS_SEND
 760:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return ip4_output_if_opt(p, src, dest, ttl, tos, proto, netif, NULL, 0);
 761:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 762:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 763:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 764:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Same as ip_output_if() but with the possibility to include IP options:
 765:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
 766:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @ param ip_options pointer to the IP options, copied into the IP header
 767:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @ param optlen length of ip_options
 768:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 769:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** err_t
 770:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_output_if_opt(struct pbuf *p, const ip4_addr_t *src, const ip4_addr_t *dest,
 771:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****        u8_t ttl, u8_t tos, u8_t proto, struct netif *netif, void *ip_options,
 772:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****        u16_t optlen)
 773:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 774:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_OPTIONS_SEND */
 775:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   const ip4_addr_t *src_used = src;
 776:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (dest != LWIP_IP_HDRINCL) {
 777:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (ip4_addr_isany(src)) {
 778:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       src_used = netif_ip4_addr(netif);
 779:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 780:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 781:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 782:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_OPTIONS_SEND
 783:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return ip4_output_if_opt_src(p, src_used, dest, ttl, tos, proto, netif,
 784:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     ip_options, optlen);
 785:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* IP_OPTIONS_SEND */
 786:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return ip4_output_if_src(p, src_used, dest, ttl, tos, proto, netif);
 787:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_OPTIONS_SEND */
 788:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 789:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 790:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 791:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Same as ip_output_if() but 'src' address is not replaced by netif address
 792:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * when it is 'any'.
 793:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 794:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** err_t
 795:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_output_if_src(struct pbuf *p, const ip4_addr_t *src, const ip4_addr_t *dest,
ARM GAS  /tmp/ccgskpjE.s 			page 30


 796:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****              u8_t ttl, u8_t tos,
 797:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****              u8_t proto, struct netif *netif)
 798:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 665              		.loc 1 798 1 view -0
 666              		.cfi_startproc
 667              		@ args = 12, pretend = 0, frame = 8
 668              		@ frame_needed = 0, uses_anonymous_args = 0
 669              		.loc 1 798 1 is_stmt 0 view .LVU241
 670 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 671              	.LCFI5:
 672              		.cfi_def_cfa_offset 28
 673              		.cfi_offset 4, -28
 674              		.cfi_offset 5, -24
 675              		.cfi_offset 6, -20
 676              		.cfi_offset 7, -16
 677              		.cfi_offset 8, -12
 678              		.cfi_offset 9, -8
 679              		.cfi_offset 14, -4
 680 0004 83B0     		sub	sp, sp, #12
 681              	.LCFI6:
 682              		.cfi_def_cfa_offset 40
 683 0006 0446     		mov	r4, r0
 684 0008 0F46     		mov	r7, r1
 685 000a 1646     		mov	r6, r2
 686 000c 9946     		mov	r9, r3
 687 000e DDF83080 		ldr	r8, [sp, #48]
 799:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_OPTIONS_SEND
 800:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return ip4_output_if_opt_src(p, src, dest, ttl, tos, proto, netif, NULL, 0);
 801:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 802:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 803:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 804:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Same as ip_output_if_opt() but 'src' address is not replaced by netif address
 805:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * when it is 'any'.
 806:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 807:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** err_t
 808:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_output_if_opt_src(struct pbuf *p, const ip4_addr_t *src, const ip4_addr_t *dest,
 809:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****        u8_t ttl, u8_t tos, u8_t proto, struct netif *netif, void *ip_options,
 810:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****        u16_t optlen)
 811:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 812:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_OPTIONS_SEND */
 813:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   struct ip_hdr *iphdr;
 688              		.loc 1 813 3 is_stmt 1 view .LVU242
 814:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip4_addr_t dest_addr;
 689              		.loc 1 814 3 view .LVU243
 815:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 816:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   u32_t chk_sum = 0;
 817:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
 818:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 819:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_IP_CHECK_PBUF_REF_COUNT_FOR_TX(p);
 690              		.loc 1 819 3 view .LVU244
 691              		.loc 1 819 3 view .LVU245
 692 0012 C289     		ldrh	r2, [r0, #14]
 693              	.LVL50:
 694              		.loc 1 819 3 is_stmt 0 view .LVU246
 695 0014 012A     		cmp	r2, #1
 696 0016 3FD1     		bne	.L70
 697              	.LVL51:
ARM GAS  /tmp/ccgskpjE.s 			page 31


 698              	.L60:
 699              		.loc 1 819 3 is_stmt 1 discriminator 3 view .LVU247
 700              		.loc 1 819 3 discriminator 3 view .LVU248
 820:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 821:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   MIB2_STATS_INC(mib2.ipoutrequests);
 701              		.loc 1 821 37 discriminator 3 view .LVU249
 822:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 823:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* Should the IP header be generated or is it already included in p? */
 824:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (dest != LWIP_IP_HDRINCL) {
 702              		.loc 1 824 3 discriminator 3 view .LVU250
 703              		.loc 1 824 6 is_stmt 0 discriminator 3 view .LVU251
 704 0018 002E     		cmp	r6, #0
 705 001a 51D0     		beq	.L61
 706              	.LBB5:
 825:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     u16_t ip_hlen = IP_HLEN;
 707              		.loc 1 825 5 is_stmt 1 view .LVU252
 708              	.LVL52:
 826:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_OPTIONS_SEND
 827:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     u16_t optlen_aligned = 0;
 828:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (optlen != 0) {
 829:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 830:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       int i;
 831:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
 832:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* round up to a multiple of 4 */
 833:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       optlen_aligned = ((optlen + 3) & ~3);
 834:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip_hlen += optlen_aligned;
 835:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* First write in the IP options */
 836:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (pbuf_header(p, optlen_aligned)) {
 837:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("ip4_output_if_opt: not enough room for IP 
 838:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         IP_STATS_INC(ip.err);
 839:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         MIB2_STATS_INC(mib2.ipoutdiscards);
 840:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         return ERR_BUF;
 841:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 842:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MEMCPY(p->payload, ip_options, optlen);
 843:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       if (optlen < optlen_aligned) {
 844:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         /* zero the remaining bytes */
 845:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         memset(((char*)p->payload) + optlen, 0, optlen_aligned - optlen);
 846:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 847:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 848:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       for (i = 0; i < optlen_aligned/2; i++) {
 849:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****         chk_sum += ((u16_t*)p->payload)[i];
 850:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       }
 851:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
 852:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 853:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_OPTIONS_SEND */
 854:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* generate IP header */
 855:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (pbuf_header(p, IP_HLEN)) {
 709              		.loc 1 855 5 view .LVU253
 710              		.loc 1 855 9 is_stmt 0 view .LVU254
 711 001c 1421     		movs	r1, #20
 712 001e 2046     		mov	r0, r4
 713 0020 FFF7FEFF 		bl	pbuf_header
 714              	.LVL53:
 715              		.loc 1 855 8 view .LVU255
 716 0024 0028     		cmp	r0, #0
 717 0026 56D1     		bne	.L68
 856:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       LWIP_DEBUGF(IP_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("ip4_output: not enough room for IP header in
ARM GAS  /tmp/ccgskpjE.s 			page 32


 857:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 858:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IP_STATS_INC(ip.err);
 859:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       MIB2_STATS_INC(mib2.ipoutdiscards);
 860:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       return ERR_BUF;
 861:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 862:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 863:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     iphdr = (struct ip_hdr *)p->payload;
 718              		.loc 1 863 5 is_stmt 1 view .LVU256
 719              		.loc 1 863 11 is_stmt 0 view .LVU257
 720 0028 6568     		ldr	r5, [r4, #4]
 721              	.LVL54:
 864:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_ASSERT("check that first pbuf can hold struct ip_hdr",
 722              		.loc 1 864 5 is_stmt 1 view .LVU258
 723              		.loc 1 864 5 view .LVU259
 724 002a 6389     		ldrh	r3, [r4, #10]
 725 002c 132B     		cmp	r3, #19
 726 002e 3BD9     		bls	.L71
 727              	.L63:
 728              		.loc 1 864 5 discriminator 3 view .LVU260
 729              		.loc 1 864 5 discriminator 3 view .LVU261
 865:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                (p->len >= sizeof(struct ip_hdr)));
 866:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 867:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_TTL_SET(iphdr, ttl);
 730              		.loc 1 867 5 discriminator 3 view .LVU262
 731 0030 85F80890 		strb	r9, [r5, #8]
 868:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_PROTO_SET(iphdr, proto);
 732              		.loc 1 868 5 discriminator 3 view .LVU263
 733 0034 9DF82C30 		ldrb	r3, [sp, #44]	@ zero_extendqisi2
 734 0038 6B72     		strb	r3, [r5, #9]
 869:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 870:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum += PP_NTOHS(proto | (ttl << 8));
 871:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
 872:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 873:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* dest cannot be NULL here */
 874:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     ip4_addr_copy(iphdr->dest, *dest);
 735              		.loc 1 874 5 discriminator 3 view .LVU264
 736 003a 3368     		ldr	r3, [r6]
 737 003c 2B61     		str	r3, [r5, #16]	@ unaligned
 875:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 876:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum += ip4_addr_get_u32(&iphdr->dest) & 0xFFFF;
 877:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum += ip4_addr_get_u32(&iphdr->dest) >> 16;
 878:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
 879:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 880:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_VHL_SET(iphdr, 4, ip_hlen / 4);
 738              		.loc 1 880 5 discriminator 3 view .LVU265
 739 003e 4523     		movs	r3, #69
 740 0040 2B70     		strb	r3, [r5]
 881:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_TOS_SET(iphdr, tos);
 741              		.loc 1 881 5 discriminator 3 view .LVU266
 742 0042 9DF82830 		ldrb	r3, [sp, #40]	@ zero_extendqisi2
 743 0046 6B70     		strb	r3, [r5, #1]
 882:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 883:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum += PP_NTOHS(tos | (iphdr->_v_hl << 8));
 884:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
 885:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_LEN_SET(iphdr, lwip_htons(p->tot_len));
 744              		.loc 1 885 5 discriminator 3 view .LVU267
 745 0048 2089     		ldrh	r0, [r4, #8]
ARM GAS  /tmp/ccgskpjE.s 			page 33


 746 004a FFF7FEFF 		bl	lwip_htons
 747              	.LVL55:
 748 004e 6880     		strh	r0, [r5, #2]	@ unaligned
 886:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 887:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum += iphdr->_len;
 888:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
 889:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_OFFSET_SET(iphdr, 0);
 749              		.loc 1 889 5 discriminator 3 view .LVU268
 750 0050 0023     		movs	r3, #0
 751 0052 AB71     		strb	r3, [r5, #6]
 752 0054 EB71     		strb	r3, [r5, #7]
 890:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_ID_SET(iphdr, lwip_htons(ip_id));
 753              		.loc 1 890 5 discriminator 3 view .LVU269
 754 0056 DFF88490 		ldr	r9, .L74
 755 005a B9F80000 		ldrh	r0, [r9]
 756 005e FFF7FEFF 		bl	lwip_htons
 757              	.LVL56:
 758 0062 A880     		strh	r0, [r5, #4]	@ unaligned
 891:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 892:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum += iphdr->_id;
 893:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
 894:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     ++ip_id;
 759              		.loc 1 894 5 discriminator 3 view .LVU270
 760 0064 B9F80030 		ldrh	r3, [r9]
 761 0068 0133     		adds	r3, r3, #1
 762 006a A9F80030 		strh	r3, [r9]	@ movhi
 895:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 896:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (src == NULL) {
 763              		.loc 1 896 5 discriminator 3 view .LVU271
 764              		.loc 1 896 8 is_stmt 0 discriminator 3 view .LVU272
 765 006e 1FB3     		cbz	r7, .L72
 897:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr_copy(iphdr->src, *IP4_ADDR_ANY4);
 898:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     } else {
 899:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       /* src cannot be NULL here */
 900:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr_copy(iphdr->src, *src);
 766              		.loc 1 900 7 is_stmt 1 view .LVU273
 767 0070 3B68     		ldr	r3, [r7]
 768 0072 EB60     		str	r3, [r5, #12]	@ unaligned
 769              	.L65:
 901:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 902:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 903:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP_INLINE
 904:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum += ip4_addr_get_u32(&iphdr->src) & 0xFFFF;
 905:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum += ip4_addr_get_u32(&iphdr->src) >> 16;
 906:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum = (chk_sum >> 16) + (chk_sum & 0xFFFF);
 907:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum = (chk_sum >> 16) + chk_sum;
 908:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     chk_sum = ~chk_sum;
 909:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IF__NETIF_CHECKSUM_ENABLED(netif, NETIF_CHECKSUM_GEN_IP) {
 910:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       iphdr->_chksum = (u16_t)chk_sum; /* network order */
 911:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 912:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_CHECKSUM_CTRL_PER_NETIF
 913:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     else {
 914:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IPH_CHKSUM_SET(iphdr, 0);
 915:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 916:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_CHECKSUM_CTRL_PER_NETIF*/
 917:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #else /* CHECKSUM_GEN_IP_INLINE */
 918:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IPH_CHKSUM_SET(iphdr, 0);
ARM GAS  /tmp/ccgskpjE.s 			page 34


 770              		.loc 1 918 5 view .LVU274
 771 0074 0023     		movs	r3, #0
 772 0076 AB72     		strb	r3, [r5, #10]
 773 0078 EB72     		strb	r3, [r5, #11]
 774              	.LVL57:
 775              	.L66:
 776              		.loc 1 918 5 is_stmt 0 view .LVU275
 777              	.LBE5:
 919:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if CHECKSUM_GEN_IP
 920:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IF__NETIF_CHECKSUM_ENABLED(netif, NETIF_CHECKSUM_GEN_IP) {
 921:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       IPH_CHKSUM_SET(iphdr, inet_chksum(iphdr, ip_hlen));
 922:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 923:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP */
 924:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* CHECKSUM_GEN_IP_INLINE */
 925:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   } else {
 926:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* IP header already included in p */
 927:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     iphdr = (struct ip_hdr *)p->payload;
 928:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     ip4_addr_copy(dest_addr, iphdr->dest);
 929:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     dest = &dest_addr;
 930:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 931:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 932:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   IP_STATS_INC(ip.xmit);
 778              		.loc 1 932 24 is_stmt 1 view .LVU276
 933:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 934:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_DEBUGF(IP_DEBUG, ("ip4_output_if: %c%c%"U16_F"\n", netif->name[0], netif->name[1], (u16_t)ne
 779              		.loc 1 934 110 view .LVU277
 935:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   ip4_debug_print(p);
 780              		.loc 1 935 21 view .LVU278
 936:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 937:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if ENABLE_LOOPBACK
 938:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (ip4_addr_cmp(dest, netif_ip4_addr(netif))
 939:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if !LWIP_HAVE_LOOPIF
 940:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       || ip4_addr_isloopback(dest)
 941:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* !LWIP_HAVE_LOOPIF */
 942:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ) {
 943:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     /* Packet to self, enqueue it for loopback */
 944:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG, ("netif_loop_output()"));
 945:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return netif_loop_output(netif, p);
 946:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 947:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if LWIP_MULTICAST_TX_OPTIONS
 948:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if ((p->flags & PBUF_FLAG_MCASTLOOP) != 0) {
 949:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     netif_loop_output(netif, p);
 950:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 951:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* LWIP_MULTICAST_TX_OPTIONS */
 952:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* ENABLE_LOOPBACK */
 953:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_FRAG
 954:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   /* don't fragment if interface has mtu set to 0 [loopif] */
 955:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (netif->mtu && (p->tot_len > netif->mtu)) {
 781              		.loc 1 955 3 view .LVU279
 782              		.loc 1 955 12 is_stmt 0 view .LVU280
 783 007a B8F82630 		ldrh	r3, [r8, #38]
 784              		.loc 1 955 6 view .LVU281
 785 007e 13B1     		cbz	r3, .L67
 786              		.loc 1 955 23 discriminator 1 view .LVU282
 787 0080 2289     		ldrh	r2, [r4, #8]
 788              		.loc 1 955 18 discriminator 1 view .LVU283
 789 0082 9342     		cmp	r3, r2
ARM GAS  /tmp/ccgskpjE.s 			page 35


 790 0084 21D3     		bcc	.L73
 791              	.L67:
 956:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ip4_frag(p, netif, dest);
 957:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 958:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_FRAG */
 959:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 960:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_DEBUGF(IP_DEBUG, ("ip4_output_if: call netif->output()\n"));
 792              		.loc 1 960 67 is_stmt 1 view .LVU284
 961:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return netif->output(netif, p, dest);
 793              		.loc 1 961 3 view .LVU285
 794              		.loc 1 961 15 is_stmt 0 view .LVU286
 795 0086 D8F81430 		ldr	r3, [r8, #20]
 796              		.loc 1 961 10 view .LVU287
 797 008a 3246     		mov	r2, r6
 798 008c 2146     		mov	r1, r4
 799 008e 4046     		mov	r0, r8
 800 0090 9847     		blx	r3
 801              	.LVL58:
 802              	.L62:
 962:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 803              		.loc 1 962 1 view .LVU288
 804 0092 03B0     		add	sp, sp, #12
 805              	.LCFI7:
 806              		.cfi_remember_state
 807              		.cfi_def_cfa_offset 28
 808              		@ sp needed
 809 0094 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 810              	.LVL59:
 811              	.L70:
 812              	.LCFI8:
 813              		.cfi_restore_state
 819:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 814              		.loc 1 819 3 is_stmt 1 discriminator 1 view .LVU289
 819:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 815              		.loc 1 819 3 discriminator 1 view .LVU290
 816 0098 114B     		ldr	r3, .L74+4
 817              	.LVL60:
 819:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 818              		.loc 1 819 3 is_stmt 0 discriminator 1 view .LVU291
 819 009a 40F23332 		movw	r2, #819
 820 009e 1149     		ldr	r1, .L74+8
 821              	.LVL61:
 819:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 822              		.loc 1 819 3 discriminator 1 view .LVU292
 823 00a0 1148     		ldr	r0, .L74+12
 824              	.LVL62:
 819:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 825              		.loc 1 819 3 discriminator 1 view .LVU293
 826 00a2 FFF7FEFF 		bl	printf
 827              	.LVL63:
 828 00a6 B7E7     		b	.L60
 829              	.LVL64:
 830              	.L71:
 831              	.LBB6:
 864:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                (p->len >= sizeof(struct ip_hdr)));
 832              		.loc 1 864 5 is_stmt 1 discriminator 1 view .LVU294
 864:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****                (p->len >= sizeof(struct ip_hdr)));
ARM GAS  /tmp/ccgskpjE.s 			page 36


 833              		.loc 1 864 5 discriminator 1 view .LVU295
 834 00a8 0D4B     		ldr	r3, .L74+4
 835 00aa 4FF45872 		mov	r2, #864
 836 00ae 0F49     		ldr	r1, .L74+16
 837 00b0 0D48     		ldr	r0, .L74+12
 838 00b2 FFF7FEFF 		bl	printf
 839              	.LVL65:
 840 00b6 BBE7     		b	.L63
 841              	.L72:
 897:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     } else {
 842              		.loc 1 897 7 view .LVU296
 843 00b8 0D4B     		ldr	r3, .L74+20
 844 00ba 1B68     		ldr	r3, [r3]
 845 00bc EB60     		str	r3, [r5, #12]	@ unaligned
 846 00be D9E7     		b	.L65
 847              	.LVL66:
 848              	.L61:
 897:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     } else {
 849              		.loc 1 897 7 is_stmt 0 view .LVU297
 850              	.LBE6:
 927:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     ip4_addr_copy(dest_addr, iphdr->dest);
 851              		.loc 1 927 5 is_stmt 1 view .LVU298
 927:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     ip4_addr_copy(dest_addr, iphdr->dest);
 852              		.loc 1 927 11 is_stmt 0 view .LVU299
 853 00c0 6368     		ldr	r3, [r4, #4]
 854              	.LVL67:
 928:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     dest = &dest_addr;
 855              		.loc 1 928 5 is_stmt 1 view .LVU300
 856 00c2 1B69     		ldr	r3, [r3, #16]	@ unaligned
 857              	.LVL68:
 928:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     dest = &dest_addr;
 858              		.loc 1 928 5 is_stmt 0 view .LVU301
 859 00c4 0193     		str	r3, [sp, #4]
 929:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 860              		.loc 1 929 5 is_stmt 1 view .LVU302
 861              	.LVL69:
 929:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 862              		.loc 1 929 10 is_stmt 0 view .LVU303
 863 00c6 01AE     		add	r6, sp, #4
 864              	.LVL70:
 929:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 865              		.loc 1 929 10 view .LVU304
 866 00c8 D7E7     		b	.L66
 867              	.LVL71:
 868              	.L73:
 956:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 869              		.loc 1 956 5 is_stmt 1 view .LVU305
 956:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 870              		.loc 1 956 12 is_stmt 0 view .LVU306
 871 00ca 3246     		mov	r2, r6
 872 00cc 4146     		mov	r1, r8
 873 00ce 2046     		mov	r0, r4
 874 00d0 FFF7FEFF 		bl	ip4_frag
 875              	.LVL72:
 876 00d4 DDE7     		b	.L62
 877              	.LVL73:
 878              	.L68:
ARM GAS  /tmp/ccgskpjE.s 			page 37


 879              	.LBB7:
 860:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 880              		.loc 1 860 14 view .LVU307
 881 00d6 6FF00100 		mvn	r0, #1
 882 00da DAE7     		b	.L62
 883              	.L75:
 884              		.align	2
 885              	.L74:
 886 00dc 00000000 		.word	.LANCHOR0
 887 00e0 00000000 		.word	.LC0
 888 00e4 34000000 		.word	.LC1
 889 00e8 40000000 		.word	.LC2
 890 00ec 68000000 		.word	.LC3
 891 00f0 00000000 		.word	ip_addr_any
 892              	.LBE7:
 893              		.cfi_endproc
 894              	.LFE100:
 896              		.section	.text.ip4_output_if,"ax",%progbits
 897              		.align	1
 898              		.global	ip4_output_if
 899              		.syntax unified
 900              		.thumb
 901              		.thumb_func
 903              	ip4_output_if:
 904              	.LVL74:
 905              	.LFB99:
 758:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_OPTIONS_SEND
 906              		.loc 1 758 1 is_stmt 1 view -0
 907              		.cfi_startproc
 908              		@ args = 12, pretend = 0, frame = 0
 909              		@ frame_needed = 0, uses_anonymous_args = 0
 758:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #if IP_OPTIONS_SEND
 910              		.loc 1 758 1 is_stmt 0 view .LVU309
 911 0000 10B5     		push	{r4, lr}
 912              	.LCFI9:
 913              		.cfi_def_cfa_offset 8
 914              		.cfi_offset 4, -8
 915              		.cfi_offset 14, -4
 916 0002 84B0     		sub	sp, sp, #16
 917              	.LCFI10:
 918              		.cfi_def_cfa_offset 24
 919 0004 089C     		ldr	r4, [sp, #32]
 775:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if (dest != LWIP_IP_HDRINCL) {
 920              		.loc 1 775 3 is_stmt 1 view .LVU310
 921              	.LVL75:
 776:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (ip4_addr_isany(src)) {
 922              		.loc 1 776 3 view .LVU311
 776:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     if (ip4_addr_isany(src)) {
 923              		.loc 1 776 6 is_stmt 0 view .LVU312
 924 0006 9446     		mov	ip, r2
 925 0008 1AB1     		cbz	r2, .L77
 777:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       src_used = netif_ip4_addr(netif);
 926              		.loc 1 777 5 is_stmt 1 view .LVU313
 777:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       src_used = netif_ip4_addr(netif);
 927              		.loc 1 777 8 is_stmt 0 view .LVU314
 928 000a 09B1     		cbz	r1, .L78
 777:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       src_used = netif_ip4_addr(netif);
ARM GAS  /tmp/ccgskpjE.s 			page 38


 929              		.loc 1 777 9 discriminator 1 view .LVU315
 930 000c 0A68     		ldr	r2, [r1]
 931              	.LVL76:
 777:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       src_used = netif_ip4_addr(netif);
 932              		.loc 1 777 9 discriminator 1 view .LVU316
 933 000e 02B9     		cbnz	r2, .L77
 934              	.L78:
 778:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 935              		.loc 1 778 7 is_stmt 1 view .LVU317
 778:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     }
 936              		.loc 1 778 16 is_stmt 0 view .LVU318
 937 0010 211D     		adds	r1, r4, #4
 938              	.LVL77:
 939              	.L77:
 786:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_OPTIONS_SEND */
 940              		.loc 1 786 3 is_stmt 1 view .LVU319
 786:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** #endif /* IP_OPTIONS_SEND */
 941              		.loc 1 786 10 is_stmt 0 view .LVU320
 942 0012 0294     		str	r4, [sp, #8]
 943 0014 9DF81C20 		ldrb	r2, [sp, #28]	@ zero_extendqisi2
 944 0018 0192     		str	r2, [sp, #4]
 945 001a 9DF81820 		ldrb	r2, [sp, #24]	@ zero_extendqisi2
 946 001e 0092     		str	r2, [sp]
 947 0020 6246     		mov	r2, ip
 948 0022 FFF7FEFF 		bl	ip4_output_if_src
 949              	.LVL78:
 788:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 950              		.loc 1 788 1 view .LVU321
 951 0026 04B0     		add	sp, sp, #16
 952              	.LCFI11:
 953              		.cfi_def_cfa_offset 8
 954              		@ sp needed
 955 0028 10BD     		pop	{r4, pc}
 788:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 956              		.loc 1 788 1 view .LVU322
 957              		.cfi_endproc
 958              	.LFE99:
 960              		.section	.text.ip4_output,"ax",%progbits
 961              		.align	1
 962              		.global	ip4_output
 963              		.syntax unified
 964              		.thumb
 965              		.thumb_func
 967              	ip4_output:
 968              	.LVL79:
 969              	.LFB101:
 963:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 964:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** /**
 965:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * Simple interface to ip_output_if. It finds the outgoing network
 966:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * interface and calls upon ip_output_if to do the actual work.
 967:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
 968:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param p the packet to send (p->payload points to the data, e.g. next
 969:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             protocol header; if dest == LWIP_IP_HDRINCL, p already includes an
 970:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****             IP header and p->payload points to that IP header)
 971:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param src the source IP address to send from (if src == IP4_ADDR_ANY, the
 972:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *         IP  address of the netif used to send is used as source address)
 973:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param dest the destination IP address to send the packet to
ARM GAS  /tmp/ccgskpjE.s 			page 39


 974:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param ttl the TTL value to be set in the IP header
 975:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param tos the TOS value to be set in the IP header
 976:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @param proto the PROTOCOL to be set in the IP header
 977:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *
 978:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  * @return ERR_RTE if no route is found
 979:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  *         see ip_output_if() for more return values
 980:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****  */
 981:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** err_t
 982:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** ip4_output(struct pbuf *p, const ip4_addr_t *src, const ip4_addr_t *dest,
 983:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****           u8_t ttl, u8_t tos, u8_t proto)
 984:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** {
 970              		.loc 1 984 1 is_stmt 1 view -0
 971              		.cfi_startproc
 972              		@ args = 8, pretend = 0, frame = 0
 973              		@ frame_needed = 0, uses_anonymous_args = 0
 974              		.loc 1 984 1 is_stmt 0 view .LVU324
 975 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 976              	.LCFI12:
 977              		.cfi_def_cfa_offset 20
 978              		.cfi_offset 4, -20
 979              		.cfi_offset 5, -16
 980              		.cfi_offset 6, -12
 981              		.cfi_offset 7, -8
 982              		.cfi_offset 14, -4
 983 0002 85B0     		sub	sp, sp, #20
 984              	.LCFI13:
 985              		.cfi_def_cfa_offset 40
 986 0004 0446     		mov	r4, r0
 987 0006 0F46     		mov	r7, r1
 988 0008 1546     		mov	r5, r2
 989 000a 1E46     		mov	r6, r3
 985:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   struct netif *netif;
 990              		.loc 1 985 3 is_stmt 1 view .LVU325
 986:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 987:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   LWIP_IP_CHECK_PBUF_REF_COUNT_FOR_TX(p);
 991              		.loc 1 987 3 view .LVU326
 992              		.loc 1 987 3 view .LVU327
 993 000c C289     		ldrh	r2, [r0, #14]
 994              	.LVL80:
 995              		.loc 1 987 3 is_stmt 0 view .LVU328
 996 000e 012A     		cmp	r2, #1
 997 0010 12D1     		bne	.L85
 998              	.LVL81:
 999              	.L81:
 1000              		.loc 1 987 3 is_stmt 1 discriminator 3 view .LVU329
 1001              		.loc 1 987 3 discriminator 3 view .LVU330
 988:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 989:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   if ((netif = ip4_route_src(dest, src)) == NULL) {
 1002              		.loc 1 989 3 discriminator 3 view .LVU331
 1003              		.loc 1 989 16 is_stmt 0 discriminator 3 view .LVU332
 1004 0012 2846     		mov	r0, r5
 1005 0014 FFF7FEFF 		bl	ip4_route
 1006              	.LVL82:
 1007              		.loc 1 989 6 discriminator 3 view .LVU333
 1008 0018 B0B1     		cbz	r0, .L83
 990:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     LWIP_DEBUGF(IP_DEBUG, ("ip4_output: No route to %"U16_F".%"U16_F".%"U16_F".%"U16_F"\n",
 991:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****       ip4_addr1_16(dest), ip4_addr2_16(dest), ip4_addr3_16(dest), ip4_addr4_16(dest)));
ARM GAS  /tmp/ccgskpjE.s 			page 40


 992:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     IP_STATS_INC(ip.rterr);
 993:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****     return ERR_RTE;
 994:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 995:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 996:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   return ip4_output_if(p, src, dest, ttl, tos, proto, netif);
 1009              		.loc 1 996 3 is_stmt 1 view .LVU334
 1010              		.loc 1 996 10 is_stmt 0 view .LVU335
 1011 001a 0290     		str	r0, [sp, #8]
 1012 001c 9DF82C30 		ldrb	r3, [sp, #44]	@ zero_extendqisi2
 1013 0020 0193     		str	r3, [sp, #4]
 1014 0022 9DF82830 		ldrb	r3, [sp, #40]	@ zero_extendqisi2
 1015 0026 0093     		str	r3, [sp]
 1016 0028 3346     		mov	r3, r6
 1017 002a 2A46     		mov	r2, r5
 1018 002c 3946     		mov	r1, r7
 1019 002e 2046     		mov	r0, r4
 1020              	.LVL83:
 1021              		.loc 1 996 10 view .LVU336
 1022 0030 FFF7FEFF 		bl	ip4_output_if
 1023              	.LVL84:
 1024              	.L82:
 997:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** }
 1025              		.loc 1 997 1 view .LVU337
 1026 0034 05B0     		add	sp, sp, #20
 1027              	.LCFI14:
 1028              		.cfi_remember_state
 1029              		.cfi_def_cfa_offset 20
 1030              		@ sp needed
 1031 0036 F0BD     		pop	{r4, r5, r6, r7, pc}
 1032              	.LVL85:
 1033              	.L85:
 1034              	.LCFI15:
 1035              		.cfi_restore_state
 987:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 1036              		.loc 1 987 3 is_stmt 1 discriminator 1 view .LVU338
 987:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 1037              		.loc 1 987 3 discriminator 1 view .LVU339
 1038 0038 054B     		ldr	r3, .L86
 1039              	.LVL86:
 987:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 1040              		.loc 1 987 3 is_stmt 0 discriminator 1 view .LVU340
 1041 003a 40F2DB32 		movw	r2, #987
 1042 003e 0549     		ldr	r1, .L86+4
 1043              	.LVL87:
 987:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 1044              		.loc 1 987 3 discriminator 1 view .LVU341
 1045 0040 0548     		ldr	r0, .L86+8
 1046              	.LVL88:
 987:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c **** 
 1047              		.loc 1 987 3 discriminator 1 view .LVU342
 1048 0042 FFF7FEFF 		bl	printf
 1049              	.LVL89:
 1050 0046 E4E7     		b	.L81
 1051              	.LVL90:
 1052              	.L83:
 993:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 1053              		.loc 1 993 12 view .LVU343
ARM GAS  /tmp/ccgskpjE.s 			page 41


 1054 0048 6FF00300 		mvn	r0, #3
 1055              	.LVL91:
 993:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4.c ****   }
 1056              		.loc 1 993 12 view .LVU344
 1057 004c F2E7     		b	.L82
 1058              	.L87:
 1059 004e 00BF     		.align	2
 1060              	.L86:
 1061 0050 00000000 		.word	.LC0
 1062 0054 34000000 		.word	.LC1
 1063 0058 40000000 		.word	.LC2
 1064              		.cfi_endproc
 1065              	.LFE101:
 1067              		.section	.bss.ip_id,"aw",%nobits
 1068              		.align	1
 1069              		.set	.LANCHOR0,. + 0
 1072              	ip_id:
 1073 0000 0000     		.space	2
 1074              		.text
 1075              	.Letext0:
 1076              		.file 2 "/opt/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/machine/_default_types.h"
 1077              		.file 3 "/opt/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/sys/_stdint.h"
 1078              		.file 4 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 1079              		.file 5 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 1080              		.file 6 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 1081              		.file 7 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 1082              		.file 8 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
 1083              		.file 9 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 1084              		.file 10 "Middlewares/Third_Party/LwIP/src/include/lwip/netif.h"
 1085              		.file 11 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/ip4.h"
 1086              		.file 12 "Middlewares/Third_Party/LwIP/src/include/lwip/ip.h"
 1087              		.file 13 "/opt/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/stdio.h"
 1088              		.file 14 "Middlewares/Third_Party/LwIP/src/include/lwip/def.h"
 1089              		.file 15 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_frag.h"
 1090              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/udp.h"
 1091              		.file 17 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/tcp_priv.h"
 1092              		.file 18 "Middlewares/Third_Party/LwIP/src/include/lwip/icmp.h"
ARM GAS  /tmp/ccgskpjE.s 			page 42


DEFINED SYMBOLS
                            *ABS*:0000000000000000 ip4.c
     /tmp/ccgskpjE.s:18     .text.ip4_route:0000000000000000 $t
     /tmp/ccgskpjE.s:24     .text.ip4_route:0000000000000000 ip4_route
     /tmp/ccgskpjE.s:174    .text.ip4_route:0000000000000098 $d
     /tmp/ccgskpjE.s:180    .text.ip4_input:0000000000000000 $t
     /tmp/ccgskpjE.s:186    .text.ip4_input:0000000000000000 ip4_input
     /tmp/ccgskpjE.s:637    .text.ip4_input:00000000000001b4 $d
     /tmp/ccgskpjE.s:643    .rodata.ip4_output_if_src.str1.4:0000000000000000 $d
     /tmp/ccgskpjE.s:656    .text.ip4_output_if_src:0000000000000000 $t
     /tmp/ccgskpjE.s:662    .text.ip4_output_if_src:0000000000000000 ip4_output_if_src
     /tmp/ccgskpjE.s:886    .text.ip4_output_if_src:00000000000000dc $d
     /tmp/ccgskpjE.s:897    .text.ip4_output_if:0000000000000000 $t
     /tmp/ccgskpjE.s:903    .text.ip4_output_if:0000000000000000 ip4_output_if
     /tmp/ccgskpjE.s:961    .text.ip4_output:0000000000000000 $t
     /tmp/ccgskpjE.s:967    .text.ip4_output:0000000000000000 ip4_output
     /tmp/ccgskpjE.s:1061   .text.ip4_output:0000000000000050 $d
     /tmp/ccgskpjE.s:1068   .bss.ip_id:0000000000000000 $d
     /tmp/ccgskpjE.s:1072   .bss.ip_id:0000000000000000 ip_id

UNDEFINED SYMBOLS
netif_list
netif_default
pbuf_free
lwip_htons
pbuf_realloc
ip4_addr_isbroadcast_u32
ip4_reass
pbuf_header
udp_input
tcp_input
icmp_input
pbuf_header_force
icmp_dest_unreach
ip_data
printf
ip4_frag
ip_addr_any
