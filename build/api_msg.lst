ARM GAS  /tmp/cc0Mfu8z.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"api_msg.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.rodata.recv_udp.str1.4,"aMS",%progbits,1
  18              		.align	2
  19              	.LC0:
  20 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/api/api_msg.c\000"
  20      6C657761 
  20      7265732F 
  20      54686972 
  20      645F5061 
  21 002f 00       		.align	2
  22              	.LC1:
  23 0030 72656376 		.ascii	"recv_udp must have a pcb argument\000"
  23      5F756470 
  23      206D7573 
  23      74206861 
  23      76652061 
  24 0052 0000     		.align	2
  25              	.LC2:
  26 0054 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
  26      7274696F 
  26      6E202225 
  26      73222066 
  26      61696C65 
  27              		.align	2
  28              	.LC3:
  29 007c 72656376 		.ascii	"recv_udp must have an argument\000"
  29      5F756470 
  29      206D7573 
  29      74206861 
  29      76652061 
  30 009b 00       		.align	2
  31              	.LC4:
  32 009c 72656376 		.ascii	"recv_udp: recv for wrong pcb!\000"
  32      5F756470 
  32      3A207265 
  32      63762066 
  32      6F722077 
  33              		.section	.text.recv_udp,"ax",%progbits
  34              		.align	1
  35              		.syntax unified
  36              		.thumb
  37              		.thumb_func
ARM GAS  /tmp/cc0Mfu8z.s 			page 2


  39              	recv_udp:
  40              	.LVL0:
  41              	.LFB102:
  42              		.file 1 "Middlewares/Third_Party/LwIP/src/api/api_msg.c"
   1:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
   2:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Sequential API Internal module
   4:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
   5:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
   6:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
   7:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /*
   8:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
   9:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * All rights reserved.
  10:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
  11:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Redistribution and use in source and binary forms, with or without modification,
  12:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * are permitted provided that the following conditions are met:
  13:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
  14:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  15:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *    this list of conditions and the following disclaimer.
  16:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  17:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *    this list of conditions and the following disclaimer in the documentation
  18:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *    and/or other materials provided with the distribution.
  19:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * 3. The name of the author may not be used to endorse or promote products
  20:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *    derived from this software without specific prior written permission.
  21:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
  22:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  23:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  24:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  25:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  26:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  27:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  28:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  29:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  30:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  31:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * OF SUCH DAMAGE.
  32:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
  33:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * This file is part of the lwIP TCP/IP stack.
  34:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
  35:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Author: Adam Dunkels <adam@sics.se>
  36:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
  37:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
  38:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  39:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/opt.h"
  40:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  41:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN /* don't build if not configured for use in lwipopts.h */
  42:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  43:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/priv/api_msg.h"
  44:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  45:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/ip.h"
  46:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/ip_addr.h"
  47:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/udp.h"
  48:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/tcp.h"
  49:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/raw.h"
  50:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  51:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/memp.h"
  52:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/igmp.h"
  53:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/dns.h"
ARM GAS  /tmp/cc0Mfu8z.s 			page 3


  54:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/mld6.h"
  55:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include "lwip/priv/tcpip_priv.h"
  56:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  57:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #include <string.h>
  58:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  59:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /* netconns are polled once per second (e.g. continue write on memory error) */
  60:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define NETCONN_TCP_POLL_INTERVAL 2
  61:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  62:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define SET_NONBLOCKING_CONNECT(conn, val)  do { if (val) { \
  63:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   (conn)->flags |= NETCONN_FLAG_IN_NONBLOCKING_CONNECT; \
  64:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** } else { \
  65:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   (conn)->flags &= ~ NETCONN_FLAG_IN_NONBLOCKING_CONNECT; }} while(0)
  66:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define IN_NONBLOCKING_CONNECT(conn) (((conn)->flags & NETCONN_FLAG_IN_NONBLOCKING_CONNECT) != 0)
  67:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  68:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /* forward declarations */
  69:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
  70:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
  71:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define WRITE_DELAYED         , 1
  72:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define WRITE_DELAYED_PARAM   , u8_t delayed
  73:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
  74:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define WRITE_DELAYED
  75:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define WRITE_DELAYED_PARAM
  76:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
  77:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t lwip_netconn_do_writemore(struct netconn *conn  WRITE_DELAYED_PARAM);
  78:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t lwip_netconn_do_close_internal(struct netconn *conn  WRITE_DELAYED_PARAM);
  79:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
  80:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  81:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
  82:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define TCPIP_APIMSG_ACK(m)   NETCONN_SET_SAFE_ERR((m)->conn, (m)->err)
  83:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
  84:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #define TCPIP_APIMSG_ACK(m)   do { NETCONN_SET_SAFE_ERR((m)->conn, (m)->err); sys_sem_signal(LWIP_A
  85:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
  86:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  87:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
  88:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** u8_t netconn_aborted;
  89:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
  90:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
  91:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
  92:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
  93:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Receive callback function for RAW netconns.
  94:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Doesn't 'eat' the packet, only copies it and sends it to
  95:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * conn->recvmbox
  96:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
  97:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see raw.h (struct raw_pcb.recv) for parameters and return value
  98:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
  99:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static u8_t
 100:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** recv_raw(void *arg, struct raw_pcb *pcb, struct pbuf *p,
 101:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     const ip_addr_t *addr)
 102:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 103:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct pbuf *q;
 104:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netbuf *buf;
 105:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 106:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 107:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(addr);
 108:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 109:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 110:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if ((conn != NULL) && sys_mbox_valid(&conn->recvmbox)) {
ARM GAS  /tmp/cc0Mfu8z.s 			page 4


 111:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 112:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     int recv_avail;
 113:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     SYS_ARCH_GET(conn->recv_avail, recv_avail);
 114:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((recv_avail + (int)(p->tot_len)) > conn->recv_bufsize) {
 115:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return 0;
 116:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 117:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* copy the whole packet into new pbufs */
 119:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     q = pbuf_alloc(PBUF_RAW, p->tot_len, PBUF_RAM);
 120:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (q != NULL) {
 121:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (pbuf_copy(q, p) != ERR_OK) {
 122:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         pbuf_free(q);
 123:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         q = NULL;
 124:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 125:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 126:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 127:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (q != NULL) {
 128:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       u16_t len;
 129:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf = (struct netbuf *)memp_malloc(MEMP_NETBUF);
 130:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (buf == NULL) {
 131:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         pbuf_free(q);
 132:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         return 0;
 133:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 134:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 135:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf->p = q;
 136:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf->ptr = q;
 137:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ip_addr_copy(buf->addr, *ip_current_src_addr());
 138:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf->port = pcb->protocol;
 139:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 140:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       len = q->tot_len;
 141:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (sys_mbox_trypost(&conn->recvmbox, buf) != ERR_OK) {
 142:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         netbuf_delete(buf);
 143:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         return 0;
 144:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 145:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 146:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         SYS_ARCH_INC(conn->recv_avail, len);
 147:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 148:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Register event with callback */
 149:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_RCVPLUS, len);
 150:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 151:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 152:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 153:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 154:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return 0; /* do not eat the packet */
 155:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 156:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW*/
 157:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 158:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
 159:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 160:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Receive callback function for UDP netconns.
 161:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Posts the packet to conn->recvmbox or deletes it on memory error.
 162:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 163:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see udp.h (struct udp_pcb.recv) for parameters
 164:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 165:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
 166:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** recv_udp(void *arg, struct udp_pcb *pcb, struct pbuf *p,
 167:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****    const ip_addr_t *addr, u16_t port)
ARM GAS  /tmp/cc0Mfu8z.s 			page 5


 168:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
  43              		.loc 1 168 1 view -0
  44              		.cfi_startproc
  45              		@ args = 4, pretend = 0, frame = 0
  46              		@ frame_needed = 0, uses_anonymous_args = 0
  47              		.loc 1 168 1 is_stmt 0 view .LVU1
  48 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
  49              	.LCFI0:
  50              		.cfi_def_cfa_offset 24
  51              		.cfi_offset 4, -24
  52              		.cfi_offset 5, -20
  53              		.cfi_offset 6, -16
  54              		.cfi_offset 7, -12
  55              		.cfi_offset 8, -8
  56              		.cfi_offset 14, -4
  57 0004 0446     		mov	r4, r0
  58 0006 1546     		mov	r5, r2
  59 0008 9846     		mov	r8, r3
 169:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netbuf *buf;
  60              		.loc 1 169 3 is_stmt 1 view .LVU2
 170:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
  61              		.loc 1 170 3 view .LVU3
 171:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u16_t len;
  62              		.loc 1 171 3 view .LVU4
 172:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 173:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   int recv_avail;
 174:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 175:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 176:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(pcb); /* only used for asserts... */
  63              		.loc 1 176 3 view .LVU5
 177:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have a pcb argument", pcb != NULL);
  64              		.loc 1 177 3 view .LVU6
  65              		.loc 1 177 3 view .LVU7
  66 000a 0E46     		mov	r6, r1
  67 000c 79B3     		cbz	r1, .L13
  68              	.LVL1:
  69              	.L2:
  70              		.loc 1 177 3 discriminator 3 view .LVU8
  71              		.loc 1 177 3 discriminator 3 view .LVU9
 178:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
  72              		.loc 1 178 3 discriminator 3 view .LVU10
  73              		.loc 1 178 3 discriminator 3 view .LVU11
  74 000e 002C     		cmp	r4, #0
  75 0010 34D0     		beq	.L14
  76              	.L3:
  77              		.loc 1 178 3 discriminator 3 view .LVU12
  78              		.loc 1 178 3 discriminator 3 view .LVU13
 179:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
  79              		.loc 1 179 3 discriminator 3 view .LVU14
  80              	.LVL2:
 180:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 181:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
  81              		.loc 1 181 3 discriminator 3 view .LVU15
  82              		.loc 1 181 6 is_stmt 0 discriminator 3 view .LVU16
  83 0012 002C     		cmp	r4, #0
  84 0014 39D0     		beq	.L15
 182:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pbuf_free(p);
ARM GAS  /tmp/cc0Mfu8z.s 			page 6


 183:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 184:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 185:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 186:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp: recv for wrong pcb!", conn->pcb.udp == pcb);
  85              		.loc 1 186 3 is_stmt 1 view .LVU17
  86              		.loc 1 186 3 view .LVU18
  87 0016 6368     		ldr	r3, [r4, #4]
  88 0018 B342     		cmp	r3, r6
  89 001a 05D0     		beq	.L6
  90              		.loc 1 186 3 discriminator 1 view .LVU19
  91              		.loc 1 186 3 discriminator 1 view .LVU20
  92 001c 244B     		ldr	r3, .L19
  93 001e BA22     		movs	r2, #186
  94 0020 2449     		ldr	r1, .L19+4
  95 0022 2548     		ldr	r0, .L19+8
  96 0024 FFF7FEFF 		bl	printf
  97              	.LVL3:
  98              	.L6:
  99              		.loc 1 186 3 discriminator 3 view .LVU21
 100              		.loc 1 186 3 discriminator 3 view .LVU22
 187:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 188:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 189:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   SYS_ARCH_GET(conn->recv_avail, recv_avail);
 190:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (!sys_mbox_valid(&conn->recvmbox) ||
 191:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((recv_avail + (int)(p->tot_len)) > conn->recv_bufsize)) {
 192:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else  /* LWIP_SO_RCVBUF */
 193:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (!sys_mbox_valid(&conn->recvmbox)) {
 101              		.loc 1 193 3 discriminator 3 view .LVU23
 102              		.loc 1 193 8 is_stmt 0 discriminator 3 view .LVU24
 103 0028 04F11007 		add	r7, r4, #16
 104 002c 3846     		mov	r0, r7
 105 002e FFF7FEFF 		bl	sys_mbox_valid
 106              	.LVL4:
 107              		.loc 1 193 6 discriminator 3 view .LVU25
 108 0032 70B3     		cbz	r0, .L16
 194:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 195:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pbuf_free(p);
 196:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 197:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 198:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 199:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   buf = (struct netbuf *)memp_malloc(MEMP_NETBUF);
 109              		.loc 1 199 3 is_stmt 1 view .LVU26
 110              		.loc 1 199 26 is_stmt 0 view .LVU27
 111 0034 0620     		movs	r0, #6
 112 0036 FFF7FEFF 		bl	memp_malloc
 113              	.LVL5:
 200:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (buf == NULL) {
 114              		.loc 1 200 3 is_stmt 1 view .LVU28
 115              		.loc 1 200 6 is_stmt 0 view .LVU29
 116 003a 0646     		mov	r6, r0
 117              	.LVL6:
 118              		.loc 1 200 6 view .LVU30
 119 003c 70B3     		cbz	r0, .L17
 201:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pbuf_free(p);
 202:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 203:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 204:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     buf->p = p;
ARM GAS  /tmp/cc0Mfu8z.s 			page 7


 120              		.loc 1 204 5 is_stmt 1 view .LVU31
 121              		.loc 1 204 12 is_stmt 0 view .LVU32
 122 003e 0560     		str	r5, [r0]
 205:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     buf->ptr = p;
 123              		.loc 1 205 5 is_stmt 1 view .LVU33
 124              		.loc 1 205 14 is_stmt 0 view .LVU34
 125 0040 4560     		str	r5, [r0, #4]
 206:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     ip_addr_set(&buf->addr, addr);
 126              		.loc 1 206 5 is_stmt 1 view .LVU35
 127 0042 B8F1000F 		cmp	r8, #0
 128 0046 2DD0     		beq	.L11
 129              		.loc 1 206 5 is_stmt 0 discriminator 1 view .LVU36
 130 0048 D8F80030 		ldr	r3, [r8]
 131              	.L9:
 132              		.loc 1 206 5 discriminator 4 view .LVU37
 133 004c B360     		str	r3, [r6, #8]
 207:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     buf->port = port;
 134              		.loc 1 207 5 is_stmt 1 discriminator 4 view .LVU38
 135              		.loc 1 207 15 is_stmt 0 discriminator 4 view .LVU39
 136 004e BDF81830 		ldrh	r3, [sp, #24]
 137 0052 B381     		strh	r3, [r6, #12]	@ movhi
 208:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETBUF_RECVINFO
 209:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     {
 210:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* get the UDP header - always in the first pbuf, ensured by udp_input */
 211:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       const struct udp_hdr* udphdr = (const struct udp_hdr*)ip_next_header_ptr();
 212:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_CHECKSUM_ON_COPY
 213:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf->flags = NETBUF_FLAG_DESTADDR;
 214:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_CHECKSUM_ON_COPY */
 215:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ip_addr_set(&buf->toaddr, ip_current_dest_addr());
 216:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       buf->toport_chksum = udphdr->dest;
 217:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 218:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETBUF_RECVINFO */
 219:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 220:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 221:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   len = p->tot_len;
 138              		.loc 1 221 3 is_stmt 1 discriminator 4 view .LVU40
 139              		.loc 1 221 7 is_stmt 0 discriminator 4 view .LVU41
 140 0054 2D89     		ldrh	r5, [r5, #8]
 141              	.LVL7:
 222:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_trypost(&conn->recvmbox, buf) != ERR_OK) {
 142              		.loc 1 222 3 is_stmt 1 discriminator 4 view .LVU42
 143              		.loc 1 222 7 is_stmt 0 discriminator 4 view .LVU43
 144 0056 3146     		mov	r1, r6
 145 0058 3846     		mov	r0, r7
 146              	.LVL8:
 147              		.loc 1 222 7 discriminator 4 view .LVU44
 148 005a FFF7FEFF 		bl	sys_mbox_trypost
 149              	.LVL9:
 150              		.loc 1 222 6 discriminator 4 view .LVU45
 151 005e 18BB     		cbnz	r0, .L18
 223:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     netbuf_delete(buf);
 224:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 225:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 226:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 227:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     SYS_ARCH_INC(conn->recv_avail, len);
 228:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 229:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Register event with callback */
ARM GAS  /tmp/cc0Mfu8z.s 			page 8


 230:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(conn, NETCONN_EVT_RCVPLUS, len);
 152              		.loc 1 230 5 is_stmt 1 view .LVU46
 153 0060 A36A     		ldr	r3, [r4, #40]
 154 0062 CBB1     		cbz	r3, .L1
 155              		.loc 1 230 5 discriminator 1 view .LVU47
 156 0064 2A46     		mov	r2, r5
 157 0066 0021     		movs	r1, #0
 158 0068 2046     		mov	r0, r4
 159 006a 9847     		blx	r3
 160              	.LVL10:
 161              		.loc 1 230 46 discriminator 1 view .LVU48
 162 006c 14E0     		b	.L1
 163              	.LVL11:
 164              	.L13:
 177:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
 165              		.loc 1 177 3 discriminator 1 view .LVU49
 177:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
 166              		.loc 1 177 3 discriminator 1 view .LVU50
 167 006e 104B     		ldr	r3, .L19
 168              	.LVL12:
 177:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
 169              		.loc 1 177 3 is_stmt 0 discriminator 1 view .LVU51
 170 0070 B122     		movs	r2, #177
 171              	.LVL13:
 177:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
 172              		.loc 1 177 3 discriminator 1 view .LVU52
 173 0072 1249     		ldr	r1, .L19+12
 174              	.LVL14:
 177:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
 175              		.loc 1 177 3 discriminator 1 view .LVU53
 176 0074 1048     		ldr	r0, .L19+8
 177              	.LVL15:
 177:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_udp must have an argument", arg != NULL);
 178              		.loc 1 177 3 discriminator 1 view .LVU54
 179 0076 FFF7FEFF 		bl	printf
 180              	.LVL16:
 181 007a C8E7     		b	.L2
 182              	.L14:
 178:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 183              		.loc 1 178 3 is_stmt 1 discriminator 1 view .LVU55
 178:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 184              		.loc 1 178 3 discriminator 1 view .LVU56
 185 007c 0C4B     		ldr	r3, .L19
 186 007e B222     		movs	r2, #178
 187 0080 0F49     		ldr	r1, .L19+16
 188 0082 0D48     		ldr	r0, .L19+8
 189 0084 FFF7FEFF 		bl	printf
 190              	.LVL17:
 191 0088 C3E7     		b	.L3
 192              	.LVL18:
 193              	.L15:
 182:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 194              		.loc 1 182 5 view .LVU57
 195 008a 2846     		mov	r0, r5
 196 008c FFF7FEFF 		bl	pbuf_free
 197              	.LVL19:
 183:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
ARM GAS  /tmp/cc0Mfu8z.s 			page 9


 198              		.loc 1 183 5 view .LVU58
 199 0090 02E0     		b	.L1
 200              	.L16:
 195:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 201              		.loc 1 195 5 view .LVU59
 202 0092 2846     		mov	r0, r5
 203 0094 FFF7FEFF 		bl	pbuf_free
 204              	.LVL20:
 196:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 205              		.loc 1 196 5 view .LVU60
 206              	.L1:
 231:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 232:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 207              		.loc 1 232 1 is_stmt 0 view .LVU61
 208 0098 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 209              	.LVL21:
 210              	.L17:
 201:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 211              		.loc 1 201 5 is_stmt 1 view .LVU62
 212 009c 2846     		mov	r0, r5
 213              	.LVL22:
 201:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 214              		.loc 1 201 5 is_stmt 0 view .LVU63
 215 009e FFF7FEFF 		bl	pbuf_free
 216              	.LVL23:
 202:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 217              		.loc 1 202 5 is_stmt 1 view .LVU64
 218 00a2 F9E7     		b	.L1
 219              	.LVL24:
 220              	.L11:
 206:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     buf->port = port;
 221              		.loc 1 206 5 is_stmt 0 view .LVU65
 222 00a4 0023     		movs	r3, #0
 223 00a6 D1E7     		b	.L9
 224              	.LVL25:
 225              	.L18:
 223:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 226              		.loc 1 223 5 is_stmt 1 view .LVU66
 227 00a8 3046     		mov	r0, r6
 228 00aa FFF7FEFF 		bl	netbuf_delete
 229              	.LVL26:
 224:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 230              		.loc 1 224 5 view .LVU67
 231 00ae F3E7     		b	.L1
 232              	.L20:
 233              		.align	2
 234              	.L19:
 235 00b0 00000000 		.word	.LC0
 236 00b4 9C000000 		.word	.LC4
 237 00b8 54000000 		.word	.LC2
 238 00bc 30000000 		.word	.LC1
 239 00c0 7C000000 		.word	.LC3
 240              		.cfi_endproc
 241              	.LFE102:
 243              		.section	.text.setup_tcp,"ax",%progbits
 244              		.align	1
 245              		.syntax unified
ARM GAS  /tmp/cc0Mfu8z.s 			page 10


 246              		.thumb
 247              		.thumb_func
 249              	setup_tcp:
 250              	.LVL27:
 251              	.LFB107:
 233:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 234:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 235:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 236:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 237:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Receive callback function for TCP netconns.
 238:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Posts the packet to conn->recvmbox, but doesn't delete it on errors.
 239:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 240:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb.recv) for parameters and return value
 241:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 242:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
 243:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** recv_tcp(void *arg, struct tcp_pcb *pcb, struct pbuf *p, err_t err)
 244:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 245:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 246:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u16_t len;
 247:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 248:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(pcb);
 249:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have a pcb argument", pcb != NULL);
 250:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 251:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 252:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 253:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 254:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 255:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 256:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp: recv for wrong pcb!", conn->pcb.tcp == pcb);
 257:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 258:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (!sys_mbox_valid(&conn->recvmbox)) {
 259:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* recvmbox already deleted */
 260:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (p != NULL) {
 261:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_recved(pcb, p->tot_len);
 262:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       pbuf_free(p);
 263:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 264:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_OK;
 265:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 266:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Unlike for UDP or RAW pcbs, don't check for available space
 267:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      using recv_avail since that could break the connection
 268:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      (data is already ACKed) */
 269:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 270:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* don't overwrite fatal errors! */
 271:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (err != ERR_OK) {
 272:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     NETCONN_SET_SAFE_ERR(conn, err);
 273:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 274:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 275:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (p != NULL) {
 276:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     len = p->tot_len;
 277:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 278:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     len = 0;
 279:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 280:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 281:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_trypost(&conn->recvmbox, p) != ERR_OK) {
 282:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* don't deallocate p: it is presented to us later again from tcp_fasttmr! */
 283:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_MEM;
 284:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
ARM GAS  /tmp/cc0Mfu8z.s 			page 11


 285:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 286:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     SYS_ARCH_INC(conn->recv_avail, len);
 287:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 288:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Register event with callback */
 289:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(conn, NETCONN_EVT_RCVPLUS, len);
 290:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 291:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 292:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
 293:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 294:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 295:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 296:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Poll callback function for TCP netconns.
 297:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Wakes up an application thread that waits for a connection to close
 298:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * or data to be sent. The application thread then takes the
 299:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * appropriate action to go on.
 300:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 301:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Signals the conn->sem.
 302:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * netconn_close waits for conn->sem if closing failed.
 303:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 304:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb.poll) for parameters and return value
 305:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 306:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
 307:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** poll_tcp(void *arg, struct tcp_pcb *pcb)
 308:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 309:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 310:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 311:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(pcb);
 312:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
 313:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 314:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn->state == NETCONN_WRITE) {
 315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 316:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (conn->state == NETCONN_CLOSE) {
 317:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if !LWIP_SO_SNDTIMEO && !LWIP_SO_LINGER
 318:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (conn->current_msg && conn->current_msg->msg.sd.polls_left) {
 319:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->msg.sd.polls_left--;
 320:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 321:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* !LWIP_SO_SNDTIMEO && !LWIP_SO_LINGER */
 322:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     lwip_netconn_do_close_internal(conn  WRITE_DELAYED);
 323:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 324:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* @todo: implement connect timeout here? */
 325:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 326:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Did a nonblocking write fail before? Then check available write-space. */
 327:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn->flags & NETCONN_FLAG_CHECK_WRITESPACE) {
 328:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* If the queued byte- or pbuf-count drops below the configured low-water limit,
 329:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        let select mark this pcb as writable again. */
 330:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((conn->pcb.tcp != NULL) && (tcp_sndbuf(conn->pcb.tcp) > TCP_SNDLOWAT) &&
 331:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 332:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->flags &= ~NETCONN_FLAG_CHECK_WRITESPACE;
 333:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 334:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 335:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 336:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 337:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
 338:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 339:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 340:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 341:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Sent callback function for TCP netconns.
ARM GAS  /tmp/cc0Mfu8z.s 			page 12


 342:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Signals the conn->sem and calls API_EVENT.
 343:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * netconn_write waits for conn->sem if send buffer is low.
 344:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 345:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb.sent) for parameters and return value
 346:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 347:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
 348:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** sent_tcp(void *arg, struct tcp_pcb *pcb, u16_t len)
 349:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 350:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 351:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 352:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(pcb);
 353:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
 354:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 355:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn) {
 356:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (conn->state == NETCONN_WRITE) {
 357:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 358:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else if (conn->state == NETCONN_CLOSE) {
 359:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_close_internal(conn  WRITE_DELAYED);
 360:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 361:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 362:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* If the queued byte- or pbuf-count drops below the configured low-water limit,
 363:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        let select mark this pcb as writable again. */
 364:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((conn->pcb.tcp != NULL) && (tcp_sndbuf(conn->pcb.tcp) > TCP_SNDLOWAT) &&
 365:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 366:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->flags &= ~NETCONN_FLAG_CHECK_WRITESPACE;
 367:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, len);
 368:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 369:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 370:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 371:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
 372:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 373:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 374:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 375:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Error callback function for TCP netconns.
 376:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Signals conn->sem, posts to all conn mboxes and calls API_EVENT.
 377:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * The application thread has then to decide what to do.
 378:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 379:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb.err) for parameters
 380:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 381:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
 382:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** err_tcp(void *arg, err_t err)
 383:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 385:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   enum netconn_state old_state;
 386:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 387:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 388:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
 389:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 390:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->pcb.tcp = NULL;
 391:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* reset conn->state now before waking up other threads */
 393:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   old_state = conn->state;
 394:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->state = NETCONN_NONE;
 395:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 396:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (old_state == NETCONN_CLOSE) {
 397:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* RST during close: let close return success & dealloc the netconn */
 398:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_OK;
ARM GAS  /tmp/cc0Mfu8z.s 			page 13


 399:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     NETCONN_SET_SAFE_ERR(conn, ERR_OK);
 400:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 401:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* no check since this is always fatal! */
 402:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     SYS_ARCH_SET(conn->last_err, err);
 403:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 404:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* @todo: the type of NETCONN_EVT created should depend on 'old_state' */
 406:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 407:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Notify the user layer about a connection error. Used to signal select. */
 408:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_ERROR, 0);
 409:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Try to release selects pending on 'read' or 'write', too.
 410:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      They will get an error if they actually try to read or write. */
 411:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 412:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 413:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 414:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* pass NULL-message to recvmbox to wake up pending recv */
 415:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_valid(&conn->recvmbox)) {
 416:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to prevent deadlock */
 417:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_trypost(&conn->recvmbox, NULL);
 418:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 419:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* pass NULL-message to acceptmbox to wake up pending accept */
 420:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_valid(&conn->acceptmbox)) {
 421:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to preven deadlock */
 422:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_trypost(&conn->acceptmbox, NULL);
 423:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 424:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 425:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if ((old_state == NETCONN_WRITE) || (old_state == NETCONN_CLOSE) ||
 426:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (old_state == NETCONN_CONNECT)) {
 427:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* calling lwip_netconn_do_writemore/lwip_netconn_do_close_internal is not necessary
 428:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        since the pcb has already been deleted! */
 429:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     int was_nonblocking_connect = IN_NONBLOCKING_CONNECT(conn);
 430:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     SET_NONBLOCKING_CONNECT(conn, 0);
 431:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 432:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (!was_nonblocking_connect) {
 433:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_t* op_completed_sem;
 434:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* set error return code */
 435:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 436:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->err = err;
 437:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       op_completed_sem = LWIP_API_MSG_SEM(conn->current_msg);
 438:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("inavlid op_completed_sem", sys_sem_valid(op_completed_sem));
 439:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg = NULL;
 440:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* wake up the waiting task */
 441:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       NETCONN_SET_SAFE_ERR(conn, err);
 442:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
 443:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 444:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 445:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_ASSERT("conn->current_msg == NULL", conn->current_msg == NULL);
 446:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 447:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 448:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 449:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 450:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Setup a tcp_pcb with the correct callback function pointers
 451:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * and their arguments.
 452:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 453:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param conn the TCP netconn to setup
 454:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 455:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
ARM GAS  /tmp/cc0Mfu8z.s 			page 14


 456:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** setup_tcp(struct netconn *conn)
 457:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 252              		.loc 1 457 1 view -0
 253              		.cfi_startproc
 254              		@ args = 0, pretend = 0, frame = 0
 255              		@ frame_needed = 0, uses_anonymous_args = 0
 256              		.loc 1 457 1 is_stmt 0 view .LVU69
 257 0000 10B5     		push	{r4, lr}
 258              	.LCFI1:
 259              		.cfi_def_cfa_offset 8
 260              		.cfi_offset 4, -8
 261              		.cfi_offset 14, -4
 262 0002 0146     		mov	r1, r0
 458:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct tcp_pcb *pcb;
 263              		.loc 1 458 3 is_stmt 1 view .LVU70
 459:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 460:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   pcb = conn->pcb.tcp;
 264              		.loc 1 460 3 view .LVU71
 265              		.loc 1 460 7 is_stmt 0 view .LVU72
 266 0004 4468     		ldr	r4, [r0, #4]
 267              	.LVL28:
 461:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_arg(pcb, conn);
 268              		.loc 1 461 3 is_stmt 1 view .LVU73
 269 0006 2046     		mov	r0, r4
 270              	.LVL29:
 271              		.loc 1 461 3 is_stmt 0 view .LVU74
 272 0008 FFF7FEFF 		bl	tcp_arg
 273              	.LVL30:
 462:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_recv(pcb, recv_tcp);
 274              		.loc 1 462 3 is_stmt 1 view .LVU75
 275 000c 0849     		ldr	r1, .L23
 276 000e 2046     		mov	r0, r4
 277 0010 FFF7FEFF 		bl	tcp_recv
 278              	.LVL31:
 463:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_sent(pcb, sent_tcp);
 279              		.loc 1 463 3 view .LVU76
 280 0014 0749     		ldr	r1, .L23+4
 281 0016 2046     		mov	r0, r4
 282 0018 FFF7FEFF 		bl	tcp_sent
 283              	.LVL32:
 464:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_poll(pcb, poll_tcp, NETCONN_TCP_POLL_INTERVAL);
 284              		.loc 1 464 3 view .LVU77
 285 001c 0222     		movs	r2, #2
 286 001e 0649     		ldr	r1, .L23+8
 287 0020 2046     		mov	r0, r4
 288 0022 FFF7FEFF 		bl	tcp_poll
 289              	.LVL33:
 465:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_err(pcb, err_tcp);
 290              		.loc 1 465 3 view .LVU78
 291 0026 0549     		ldr	r1, .L23+12
 292 0028 2046     		mov	r0, r4
 293 002a FFF7FEFF 		bl	tcp_err
 294              	.LVL34:
 466:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 295              		.loc 1 466 1 is_stmt 0 view .LVU79
 296 002e 10BD     		pop	{r4, pc}
 297              	.LVL35:
ARM GAS  /tmp/cc0Mfu8z.s 			page 15


 298              	.L24:
 299              		.loc 1 466 1 view .LVU80
 300              		.align	2
 301              	.L23:
 302 0030 00000000 		.word	recv_tcp
 303 0034 00000000 		.word	sent_tcp
 304 0038 00000000 		.word	poll_tcp
 305 003c 00000000 		.word	err_tcp
 306              		.cfi_endproc
 307              	.LFE107:
 309              		.section	.rodata.pcb_new.str1.4,"aMS",%progbits,1
 310              		.align	2
 311              	.LC5:
 312 0000 7063625F 		.ascii	"pcb_new: pcb already allocated\000"
 312      6E65773A 
 312      20706362 
 312      20616C72 
 312      65616479 
 313              		.section	.text.pcb_new,"ax",%progbits
 314              		.align	1
 315              		.syntax unified
 316              		.thumb
 317              		.thumb_func
 319              	pcb_new:
 320              	.LVL36:
 321              	.LFB109:
 467:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 468:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 469:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Accept callback function for TCP netconns.
 470:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Allocates a new netconn and posts that to conn->acceptmbox.
 471:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 472:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb_listen.accept) for parameters and return value
 473:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 474:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
 475:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** accept_function(void *arg, struct tcp_pcb *newpcb, err_t err)
 476:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 477:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *newconn;
 478:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 479:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 480:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 481:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 482:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 483:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (!sys_mbox_valid(&conn->acceptmbox)) {
 484:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_DEBUGF(API_MSG_DEBUG, ("accept_function: acceptmbox already deleted\n"));
 485:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 487:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 488:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (newpcb == NULL) {
 489:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* out-of-pcbs during connect: pass on this error to the application */
 490:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (sys_mbox_trypost(&conn->acceptmbox, &netconn_aborted) == ERR_OK) {
 491:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 493:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 494:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 496:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 497:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_DEBUGF(API_MSG_DEBUG, ("accept_function: newpcb->tate: %s\n", tcp_debug_state_str(newpcb->st
ARM GAS  /tmp/cc0Mfu8z.s 			page 16


 498:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 499:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* We have to set the callback here even though
 500:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****    * the new socket is unknown. newconn->socket is marked as -1. */
 501:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   newconn = netconn_alloc(conn->type, conn->callback);
 502:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (newconn == NULL) {
 503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* outof netconns: pass on this error to the application */
 504:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (sys_mbox_trypost(&conn->acceptmbox, &netconn_aborted) == ERR_OK) {
 505:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 506:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 507:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 508:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_MEM;
 509:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 510:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   newconn->pcb.tcp = newpcb;
 511:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   setup_tcp(newconn);
 512:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* no protection: when creating the pcb, the netconn is not yet known
 513:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      to the application thread */
 514:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   newconn->last_err = err;
 515:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 516:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* handle backlog counter */
 517:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tcp_backlog_delayed(newpcb);
 518:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 519:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_trypost(&conn->acceptmbox, newconn) != ERR_OK) {
 520:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* When returning != ERR_OK, the pcb is aborted in tcp_process(),
 521:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        so do nothing here! */
 522:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* remove all references to this netconn from the pcb */
 523:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     struct tcp_pcb* pcb = newconn->pcb.tcp;
 524:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_arg(pcb, NULL);
 525:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_recv(pcb, NULL);
 526:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_sent(pcb, NULL);
 527:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_poll(pcb, NULL, 0);
 528:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_err(pcb, NULL);
 529:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* remove reference from to the pcb from this netconn */
 530:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     newconn->pcb.tcp = NULL;
 531:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* no need to drain since we know the recvmbox is empty. */
 532:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&newconn->recvmbox);
 533:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&newconn->recvmbox);
 534:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     netconn_free(newconn);
 535:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_MEM;
 536:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 537:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Register event with callback */
 538:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 539:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 540:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 541:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
 542:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 543:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 544:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 545:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 546:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Create a new pcb of a specific type.
 547:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from lwip_netconn_do_newconn().
 548:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 549:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param msg the api_msg_msg describing the connection type
 550:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 551:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
 552:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** pcb_new(struct api_msg *msg)
 553:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 322              		.loc 1 553 1 is_stmt 1 view -0
ARM GAS  /tmp/cc0Mfu8z.s 			page 17


 323              		.cfi_startproc
 324              		@ args = 0, pretend = 0, frame = 0
 325              		@ frame_needed = 0, uses_anonymous_args = 0
 326              		.loc 1 553 1 is_stmt 0 view .LVU82
 327 0000 38B5     		push	{r3, r4, r5, lr}
 328              	.LCFI2:
 329              		.cfi_def_cfa_offset 16
 330              		.cfi_offset 3, -16
 331              		.cfi_offset 4, -12
 332              		.cfi_offset 5, -8
 333              		.cfi_offset 14, -4
 334 0002 0446     		mov	r4, r0
 554:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   enum lwip_ip_addr_type iptype = IPADDR_TYPE_V4;
 335              		.loc 1 554 3 is_stmt 1 view .LVU83
 336              	.LVL37:
 555:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 556:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb_new: pcb already allocated", msg->conn->pcb.tcp == NULL);
 337              		.loc 1 556 3 view .LVU84
 338              		.loc 1 556 3 view .LVU85
 339 0004 0368     		ldr	r3, [r0]
 340 0006 5B68     		ldr	r3, [r3, #4]
 341 0008 33B1     		cbz	r3, .L26
 342              		.loc 1 556 3 discriminator 1 view .LVU86
 343              		.loc 1 556 3 discriminator 1 view .LVU87
 344 000a 1B4B     		ldr	r3, .L35
 345 000c 4FF40B72 		mov	r2, #556
 346 0010 1A49     		ldr	r1, .L35+4
 347 0012 1B48     		ldr	r0, .L35+8
 348              	.LVL38:
 349              		.loc 1 556 3 is_stmt 0 discriminator 1 view .LVU88
 350 0014 FFF7FEFF 		bl	printf
 351              	.LVL39:
 352              	.L26:
 353              		.loc 1 556 3 is_stmt 1 discriminator 3 view .LVU89
 354              		.loc 1 556 3 discriminator 3 view .LVU90
 557:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  
 558:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_IPV6 && LWIP_IPV4
 559:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* IPv6: Dual-stack by default, unless netconn_set_ipv6only() is called */
 560:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if(NETCONNTYPE_ISIPV6(netconn_type(msg->conn))) {
 561:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     iptype = IPADDR_TYPE_ANY;
 562:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 563:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   
 565:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Allocate a PCB for this connection */
 566:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   switch(NETCONNTYPE_GROUP(msg->conn->type)) {
 355              		.loc 1 566 3 discriminator 3 view .LVU91
 356              		.loc 1 566 10 is_stmt 0 discriminator 3 view .LVU92
 357 0018 2568     		ldr	r5, [r4]
 358 001a 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 359 001c 03F0F003 		and	r3, r3, #240
 360              		.loc 1 566 3 discriminator 3 view .LVU93
 361 0020 102B     		cmp	r3, #16
 362 0022 17D0     		beq	.L27
 363              		.loc 1 566 3 view .LVU94
 364 0024 202B     		cmp	r3, #32
 365 0026 20D1     		bne	.L28
 567:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
ARM GAS  /tmp/cc0Mfu8z.s 			page 18


 568:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   case NETCONN_RAW:
 569:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->conn->pcb.raw = raw_new_ip_type(iptype, msg->msg.n.proto);
 570:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.raw != NULL) {
 571:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_IPV6
 572:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* ICMPv6 packets should always have checksum calculated by the stack as per RFC 3542 chapter
 573:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (NETCONNTYPE_ISIPV6(msg->conn->type) && msg->conn->pcb.raw->protocol == IP6_NEXTH_ICMP6) {
 574:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->pcb.raw->chksum_reqd = 1;
 575:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->pcb.raw->chksum_offset = 2;
 576:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 577:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_IPV6 */
 578:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       raw_recv(msg->conn->pcb.raw, recv_raw, msg->conn);
 579:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 580:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     break;
 581:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
 582:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
 583:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   case NETCONN_UDP:
 584:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->conn->pcb.udp = udp_new_ip_type(iptype);
 366              		.loc 1 584 5 is_stmt 1 view .LVU95
 367              		.loc 1 584 26 is_stmt 0 view .LVU96
 368 0028 0020     		movs	r0, #0
 369 002a FFF7FEFF 		bl	udp_new_ip_type
 370              	.LVL40:
 371              		.loc 1 584 24 view .LVU97
 372 002e 6860     		str	r0, [r5, #4]
 585:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.udp != NULL) {
 373              		.loc 1 585 5 is_stmt 1 view .LVU98
 374              		.loc 1 585 12 is_stmt 0 view .LVU99
 375 0030 2368     		ldr	r3, [r4]
 376              		.loc 1 585 23 view .LVU100
 377 0032 5A68     		ldr	r2, [r3, #4]
 378              		.loc 1 585 8 view .LVU101
 379 0034 3AB1     		cbz	r2, .L29
 586:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDPLITE
 587:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (NETCONNTYPE_ISUDPLITE(msg->conn->type)) {
 588:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         udp_setflags(msg->conn->pcb.udp, UDP_FLAGS_UDPLITE);
 589:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 590:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDPLITE */
 591:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (NETCONNTYPE_ISUDPNOCHKSUM(msg->conn->type)) {
 380              		.loc 1 591 7 is_stmt 1 view .LVU102
 381              		.loc 1 591 11 is_stmt 0 view .LVU103
 382 0036 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 383              		.loc 1 591 10 view .LVU104
 384 0038 222B     		cmp	r3, #34
 385 003a 08D0     		beq	.L33
 386              	.L30:
 592:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         udp_setflags(msg->conn->pcb.udp, UDP_FLAGS_NOCHKSUM);
 593:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 594:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       udp_recv(msg->conn->pcb.udp, recv_udp, msg->conn);
 387              		.loc 1 594 7 is_stmt 1 view .LVU105
 388              		.loc 1 594 19 is_stmt 0 view .LVU106
 389 003c 2268     		ldr	r2, [r4]
 390              		.loc 1 594 7 view .LVU107
 391 003e 1149     		ldr	r1, .L35+12
 392 0040 5068     		ldr	r0, [r2, #4]
 393 0042 FFF7FEFF 		bl	udp_recv
 394              	.LVL41:
 395              	.L29:
ARM GAS  /tmp/cc0Mfu8z.s 			page 19


 595:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 596:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     break;
 597:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 598:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 599:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   case NETCONN_TCP:
 600:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->conn->pcb.tcp = tcp_new_ip_type(iptype);
 601:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
 602:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       setup_tcp(msg->conn);
 603:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 604:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     break;
 605:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 606:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   default:
 607:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Unsupported netconn type, e.g. protocol disabled */
 608:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_VAL;
 609:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 610:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 611:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.ip == NULL) {
 396              		.loc 1 611 3 is_stmt 1 view .LVU108
 397              		.loc 1 611 10 is_stmt 0 view .LVU109
 398 0046 2368     		ldr	r3, [r4]
 399              		.loc 1 611 21 view .LVU110
 400 0048 5B68     		ldr	r3, [r3, #4]
 401              		.loc 1 611 6 view .LVU111
 402 004a 8BB1     		cbz	r3, .L34
 403              	.L25:
 612:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_MEM;
 613:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 614:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 404              		.loc 1 614 1 view .LVU112
 405 004c 38BD     		pop	{r3, r4, r5, pc}
 406              	.LVL42:
 407              	.L33:
 592:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 408              		.loc 1 592 9 is_stmt 1 view .LVU113
 409 004e 0123     		movs	r3, #1
 410 0050 1374     		strb	r3, [r2, #16]
 411 0052 F3E7     		b	.L30
 412              	.L27:
 600:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
 413              		.loc 1 600 5 view .LVU114
 600:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
 414              		.loc 1 600 26 is_stmt 0 view .LVU115
 415 0054 0020     		movs	r0, #0
 416 0056 FFF7FEFF 		bl	tcp_new_ip_type
 417              	.LVL43:
 600:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
 418              		.loc 1 600 24 view .LVU116
 419 005a 6860     		str	r0, [r5, #4]
 601:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       setup_tcp(msg->conn);
 420              		.loc 1 601 5 is_stmt 1 view .LVU117
 601:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       setup_tcp(msg->conn);
 421              		.loc 1 601 12 is_stmt 0 view .LVU118
 422 005c 2068     		ldr	r0, [r4]
 601:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       setup_tcp(msg->conn);
 423              		.loc 1 601 23 view .LVU119
 424 005e 4368     		ldr	r3, [r0, #4]
 601:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       setup_tcp(msg->conn);
ARM GAS  /tmp/cc0Mfu8z.s 			page 20


 425              		.loc 1 601 8 view .LVU120
 426 0060 002B     		cmp	r3, #0
 427 0062 F0D0     		beq	.L29
 602:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 428              		.loc 1 602 7 is_stmt 1 view .LVU121
 429 0064 FFF7FEFF 		bl	setup_tcp
 430              	.LVL44:
 431 0068 EDE7     		b	.L29
 432              	.L28:
 608:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 433              		.loc 1 608 5 view .LVU122
 608:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return;
 434              		.loc 1 608 14 is_stmt 0 view .LVU123
 435 006a FA23     		movs	r3, #250
 436 006c 2371     		strb	r3, [r4, #4]
 609:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 437              		.loc 1 609 5 is_stmt 1 view .LVU124
 438 006e EDE7     		b	.L25
 439              	.L34:
 612:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 440              		.loc 1 612 5 view .LVU125
 612:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 441              		.loc 1 612 14 is_stmt 0 view .LVU126
 442 0070 FF23     		movs	r3, #255
 443 0072 2371     		strb	r3, [r4, #4]
 444 0074 EAE7     		b	.L25
 445              	.L36:
 446 0076 00BF     		.align	2
 447              	.L35:
 448 0078 00000000 		.word	.LC0
 449 007c 00000000 		.word	.LC5
 450 0080 54000000 		.word	.LC2
 451 0084 00000000 		.word	recv_udp
 452              		.cfi_endproc
 453              	.LFE109:
 455              		.section	.rodata.err_tcp.str1.4,"aMS",%progbits,1
 456              		.align	2
 457              	.LC6:
 458 0000 636F6E6E 		.ascii	"conn != NULL\000"
 458      20213D20 
 458      4E554C4C 
 458      00
 459 000d 000000   		.align	2
 460              	.LC7:
 461 0010 636F6E6E 		.ascii	"conn->current_msg != NULL\000"
 461      2D3E6375 
 461      7272656E 
 461      745F6D73 
 461      6720213D 
 462 002a 0000     		.align	2
 463              	.LC8:
 464 002c 696E6176 		.ascii	"inavlid op_completed_sem\000"
 464      6C696420 
 464      6F705F63 
 464      6F6D706C 
 464      65746564 
 465 0045 000000   		.align	2
ARM GAS  /tmp/cc0Mfu8z.s 			page 21


 466              	.LC9:
 467 0048 636F6E6E 		.ascii	"conn->current_msg == NULL\000"
 467      2D3E6375 
 467      7272656E 
 467      745F6D73 
 467      67203D3D 
 468              		.section	.text.err_tcp,"ax",%progbits
 469              		.align	1
 470              		.syntax unified
 471              		.thumb
 472              		.thumb_func
 474              	err_tcp:
 475              	.LVL45:
 476              	.LFB106:
 383:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 477              		.loc 1 383 1 is_stmt 1 view -0
 478              		.cfi_startproc
 479              		@ args = 0, pretend = 0, frame = 0
 480              		@ frame_needed = 0, uses_anonymous_args = 0
 383:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 481              		.loc 1 383 1 is_stmt 0 view .LVU128
 482 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 483              	.LCFI3:
 484              		.cfi_def_cfa_offset 24
 485              		.cfi_offset 3, -24
 486              		.cfi_offset 4, -20
 487              		.cfi_offset 5, -16
 488              		.cfi_offset 6, -12
 489              		.cfi_offset 7, -8
 490              		.cfi_offset 14, -4
 491 0002 0D46     		mov	r5, r1
 384:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   enum netconn_state old_state;
 492              		.loc 1 384 3 is_stmt 1 view .LVU129
 385:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 493              		.loc 1 385 3 view .LVU130
 387:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
 494              		.loc 1 387 3 view .LVU131
 495              	.LVL46:
 388:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 496              		.loc 1 388 3 view .LVU132
 388:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 497              		.loc 1 388 3 view .LVU133
 498 0004 0446     		mov	r4, r0
 499 0006 A0B1     		cbz	r0, .L56
 500              	.LVL47:
 501              	.L38:
 388:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 502              		.loc 1 388 3 discriminator 3 view .LVU134
 388:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 503              		.loc 1 388 3 discriminator 3 view .LVU135
 390:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 504              		.loc 1 390 3 discriminator 3 view .LVU136
 390:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 505              		.loc 1 390 17 is_stmt 0 discriminator 3 view .LVU137
 506 0008 0023     		movs	r3, #0
 507 000a 6360     		str	r3, [r4, #4]
 393:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->state = NETCONN_NONE;
ARM GAS  /tmp/cc0Mfu8z.s 			page 22


 508              		.loc 1 393 3 is_stmt 1 discriminator 3 view .LVU138
 393:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->state = NETCONN_NONE;
 509              		.loc 1 393 13 is_stmt 0 discriminator 3 view .LVU139
 510 000c 6678     		ldrb	r6, [r4, #1]	@ zero_extendqisi2
 511              	.LVL48:
 394:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 512              		.loc 1 394 3 is_stmt 1 discriminator 3 view .LVU140
 394:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 513              		.loc 1 394 15 is_stmt 0 discriminator 3 view .LVU141
 514 000e 6370     		strb	r3, [r4, #1]
 396:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* RST during close: let close return success & dealloc the netconn */
 515              		.loc 1 396 3 is_stmt 1 discriminator 3 view .LVU142
 396:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* RST during close: let close return success & dealloc the netconn */
 516              		.loc 1 396 6 is_stmt 0 discriminator 3 view .LVU143
 517 0010 042E     		cmp	r6, #4
 518 0012 16D1     		bne	.L39
 398:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     NETCONN_SET_SAFE_ERR(conn, ERR_OK);
 519              		.loc 1 398 5 is_stmt 1 view .LVU144
 520              	.LVL49:
 399:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 521              		.loc 1 399 5 view .LVU145
 399:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 522              		.loc 1 399 5 view .LVU146
 523 0014 002C     		cmp	r4, #0
 524 0016 47D0     		beq	.L54
 525              	.LBB2:
 399:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 526              		.loc 1 399 5 discriminator 1 view .LVU147
 399:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 527              		.loc 1 399 5 discriminator 1 view .LVU148
 528 0018 FFF7FEFF 		bl	sys_arch_protect
 529              	.LVL50:
 399:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 530              		.loc 1 399 5 discriminator 1 view .LVU149
 531 001c 94F90830 		ldrsb	r3, [r4, #8]
 532 0020 13F10C0F 		cmn	r3, #12
 533 0024 01DB     		blt	.L41
 399:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 534              		.loc 1 399 5 discriminator 3 view .LVU150
 535 0026 0023     		movs	r3, #0
 536 0028 2372     		strb	r3, [r4, #8]
 537              	.L41:
 399:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 538              		.loc 1 399 5 discriminator 5 view .LVU151
 539 002a FFF7FEFF 		bl	sys_arch_unprotect
 540              	.LVL51:
 399:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 541              		.loc 1 399 5 is_stmt 0 discriminator 5 view .LVU152
 542              	.LBE2:
 398:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     NETCONN_SET_SAFE_ERR(conn, ERR_OK);
 543              		.loc 1 398 9 discriminator 5 view .LVU153
 544 002e 0025     		movs	r5, #0
 545 0030 0CE0     		b	.L40
 546              	.LVL52:
 547              	.L56:
 388:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 548              		.loc 1 388 3 is_stmt 1 discriminator 1 view .LVU154
ARM GAS  /tmp/cc0Mfu8z.s 			page 23


 388:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 549              		.loc 1 388 3 discriminator 1 view .LVU155
 550 0032 3D4B     		ldr	r3, .L61
 551 0034 4FF4C272 		mov	r2, #388
 552 0038 3C49     		ldr	r1, .L61+4
 553              	.LVL53:
 388:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 554              		.loc 1 388 3 is_stmt 0 discriminator 1 view .LVU156
 555 003a 3D48     		ldr	r0, .L61+8
 556              	.LVL54:
 388:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 557              		.loc 1 388 3 discriminator 1 view .LVU157
 558 003c FFF7FEFF 		bl	printf
 559              	.LVL55:
 560 0040 E2E7     		b	.L38
 561              	.LVL56:
 562              	.L39:
 402:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 563              		.loc 1 402 5 is_stmt 1 view .LVU158
 564              	.LBB3:
 402:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 565              		.loc 1 402 5 view .LVU159
 402:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 566              		.loc 1 402 5 view .LVU160
 567 0042 FFF7FEFF 		bl	sys_arch_protect
 568              	.LVL57:
 402:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 569              		.loc 1 402 5 view .LVU161
 570 0046 2572     		strb	r5, [r4, #8]
 402:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 571              		.loc 1 402 5 view .LVU162
 572 0048 FFF7FEFF 		bl	sys_arch_unprotect
 573              	.LVL58:
 574              	.L40:
 402:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 575              		.loc 1 402 5 is_stmt 0 view .LVU163
 576              	.LBE3:
 402:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 577              		.loc 1 402 5 is_stmt 1 discriminator 1 view .LVU164
 408:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Try to release selects pending on 'read' or 'write', too.
 578              		.loc 1 408 3 discriminator 1 view .LVU165
 579 004c A36A     		ldr	r3, [r4, #40]
 580 004e 1BB1     		cbz	r3, .L42
 408:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Try to release selects pending on 'read' or 'write', too.
 581              		.loc 1 408 3 discriminator 1 view .LVU166
 582 0050 0022     		movs	r2, #0
 583 0052 0421     		movs	r1, #4
 584 0054 2046     		mov	r0, r4
 585 0056 9847     		blx	r3
 586              	.LVL59:
 587              	.L42:
 408:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Try to release selects pending on 'read' or 'write', too.
 588              		.loc 1 408 40 discriminator 3 view .LVU167
 411:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 589              		.loc 1 411 3 discriminator 3 view .LVU168
 590 0058 A36A     		ldr	r3, [r4, #40]
 591 005a 1BB1     		cbz	r3, .L43
ARM GAS  /tmp/cc0Mfu8z.s 			page 24


 411:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 592              		.loc 1 411 3 discriminator 1 view .LVU169
 593 005c 0022     		movs	r2, #0
 594 005e 1146     		mov	r1, r2
 595 0060 2046     		mov	r0, r4
 596 0062 9847     		blx	r3
 597              	.LVL60:
 598              	.L43:
 411:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 599              		.loc 1 411 42 discriminator 3 view .LVU170
 412:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 600              		.loc 1 412 3 discriminator 3 view .LVU171
 601 0064 A36A     		ldr	r3, [r4, #40]
 602 0066 1BB1     		cbz	r3, .L44
 412:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 603              		.loc 1 412 3 discriminator 1 view .LVU172
 604 0068 0022     		movs	r2, #0
 605 006a 0221     		movs	r1, #2
 606 006c 2046     		mov	r0, r4
 607 006e 9847     		blx	r3
 608              	.LVL61:
 609              	.L44:
 412:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 610              		.loc 1 412 43 discriminator 3 view .LVU173
 415:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to prevent deadlock */
 611              		.loc 1 415 3 discriminator 3 view .LVU174
 415:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to prevent deadlock */
 612              		.loc 1 415 7 is_stmt 0 discriminator 3 view .LVU175
 613 0070 04F11007 		add	r7, r4, #16
 614 0074 3846     		mov	r0, r7
 615 0076 FFF7FEFF 		bl	sys_mbox_valid
 616              	.LVL62:
 415:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to prevent deadlock */
 617              		.loc 1 415 6 discriminator 3 view .LVU176
 618 007a B8B9     		cbnz	r0, .L57
 619              	.L45:
 420:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to preven deadlock */
 620              		.loc 1 420 3 is_stmt 1 view .LVU177
 420:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to preven deadlock */
 621              		.loc 1 420 7 is_stmt 0 view .LVU178
 622 007c 04F11407 		add	r7, r4, #20
 623 0080 3846     		mov	r0, r7
 624 0082 FFF7FEFF 		bl	sys_mbox_valid
 625              	.LVL63:
 420:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* use trypost to preven deadlock */
 626              		.loc 1 420 6 view .LVU179
 627 0086 B0B9     		cbnz	r0, .L58
 628              	.L46:
 425:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (old_state == NETCONN_CONNECT)) {
 629              		.loc 1 425 3 is_stmt 1 view .LVU180
 425:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (old_state == NETCONN_CONNECT)) {
 630              		.loc 1 425 6 is_stmt 0 view .LVU181
 631 0088 012E     		cmp	r6, #1
 632 008a 19D0     		beq	.L47
 425:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (old_state == NETCONN_CONNECT)) {
 633              		.loc 1 425 36 discriminator 1 view .LVU182
 634 008c 042E     		cmp	r6, #4
ARM GAS  /tmp/cc0Mfu8z.s 			page 25


 635 008e 17D0     		beq	.L47
 425:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (old_state == NETCONN_CONNECT)) {
 636              		.loc 1 425 68 discriminator 2 view .LVU183
 637 0090 032E     		cmp	r6, #3
 638 0092 15D0     		beq	.L47
 445:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 639              		.loc 1 445 5 is_stmt 1 view .LVU184
 445:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 640              		.loc 1 445 5 view .LVU185
 641 0094 636A     		ldr	r3, [r4, #36]
 642 0096 ABB3     		cbz	r3, .L37
 445:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 643              		.loc 1 445 5 discriminator 1 view .LVU186
 445:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 644              		.loc 1 445 5 discriminator 1 view .LVU187
 645 0098 234B     		ldr	r3, .L61
 646 009a 40F2BD12 		movw	r2, #445
 647 009e 2549     		ldr	r1, .L61+12
 648 00a0 2348     		ldr	r0, .L61+8
 649 00a2 FFF7FEFF 		bl	printf
 650              	.LVL64:
 445:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 651              		.loc 1 445 5 discriminator 1 view .LVU188
 445:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 652              		.loc 1 445 5 discriminator 1 view .LVU189
 447:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 653              		.loc 1 447 1 is_stmt 0 discriminator 1 view .LVU190
 654 00a6 2DE0     		b	.L37
 655              	.LVL65:
 656              	.L54:
 398:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     NETCONN_SET_SAFE_ERR(conn, ERR_OK);
 657              		.loc 1 398 9 view .LVU191
 658 00a8 0025     		movs	r5, #0
 659 00aa CFE7     		b	.L40
 660              	.LVL66:
 661              	.L57:
 417:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 662              		.loc 1 417 5 is_stmt 1 view .LVU192
 663 00ac 0021     		movs	r1, #0
 664 00ae 3846     		mov	r0, r7
 665 00b0 FFF7FEFF 		bl	sys_mbox_trypost
 666              	.LVL67:
 667 00b4 E2E7     		b	.L45
 668              	.L58:
 422:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 669              		.loc 1 422 5 view .LVU193
 670 00b6 0021     		movs	r1, #0
 671 00b8 3846     		mov	r0, r7
 672 00ba FFF7FEFF 		bl	sys_mbox_trypost
 673              	.LVL68:
 674 00be E3E7     		b	.L46
 675              	.L47:
 676              	.LBB4:
 429:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     SET_NONBLOCKING_CONNECT(conn, 0);
 677              		.loc 1 429 5 view .LVU194
 429:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     SET_NONBLOCKING_CONNECT(conn, 0);
 678              		.loc 1 429 35 is_stmt 0 view .LVU195
ARM GAS  /tmp/cc0Mfu8z.s 			page 26


 679 00c0 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 680              	.LVL69:
 430:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 681              		.loc 1 430 5 is_stmt 1 view .LVU196
 430:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 682              		.loc 1 430 5 view .LVU197
 430:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 683              		.loc 1 430 5 view .LVU198
 684 00c2 23F00402 		bic	r2, r3, #4
 685 00c6 2277     		strb	r2, [r4, #28]
 430:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 686              		.loc 1 430 5 view .LVU199
 432:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_t* op_completed_sem;
 687              		.loc 1 432 5 view .LVU200
 432:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_t* op_completed_sem;
 688              		.loc 1 432 8 is_stmt 0 view .LVU201
 689 00c8 13F0040F 		tst	r3, #4
 690 00cc 1AD1     		bne	.L37
 691              	.LBB5:
 433:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* set error return code */
 692              		.loc 1 433 7 is_stmt 1 view .LVU202
 435:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->err = err;
 693              		.loc 1 435 7 view .LVU203
 435:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->err = err;
 694              		.loc 1 435 7 view .LVU204
 695 00ce 636A     		ldr	r3, [r4, #36]
 696              	.LVL70:
 435:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->err = err;
 697              		.loc 1 435 7 is_stmt 0 view .LVU205
 698 00d0 CBB1     		cbz	r3, .L59
 699              	.L50:
 435:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->err = err;
 700              		.loc 1 435 7 is_stmt 1 discriminator 3 view .LVU206
 435:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->err = err;
 701              		.loc 1 435 7 discriminator 3 view .LVU207
 436:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       op_completed_sem = LWIP_API_MSG_SEM(conn->current_msg);
 702              		.loc 1 436 7 discriminator 3 view .LVU208
 436:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       op_completed_sem = LWIP_API_MSG_SEM(conn->current_msg);
 703              		.loc 1 436 11 is_stmt 0 discriminator 3 view .LVU209
 704 00d2 636A     		ldr	r3, [r4, #36]
 436:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       op_completed_sem = LWIP_API_MSG_SEM(conn->current_msg);
 705              		.loc 1 436 30 discriminator 3 view .LVU210
 706 00d4 1D71     		strb	r5, [r3, #4]
 437:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("inavlid op_completed_sem", sys_sem_valid(op_completed_sem));
 707              		.loc 1 437 7 is_stmt 1 discriminator 3 view .LVU211
 437:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("inavlid op_completed_sem", sys_sem_valid(op_completed_sem));
 708              		.loc 1 437 26 is_stmt 0 discriminator 3 view .LVU212
 709 00d6 636A     		ldr	r3, [r4, #36]
 710 00d8 1E68     		ldr	r6, [r3]
 711              	.LVL71:
 437:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("inavlid op_completed_sem", sys_sem_valid(op_completed_sem));
 712              		.loc 1 437 24 discriminator 3 view .LVU213
 713 00da 0C36     		adds	r6, r6, #12
 714              	.LVL72:
 438:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg = NULL;
 715              		.loc 1 438 7 is_stmt 1 discriminator 3 view .LVU214
 438:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg = NULL;
ARM GAS  /tmp/cc0Mfu8z.s 			page 27


 716              		.loc 1 438 7 discriminator 3 view .LVU215
 717 00dc 3046     		mov	r0, r6
 718 00de FFF7FEFF 		bl	sys_sem_valid
 719              	.LVL73:
 720 00e2 C0B1     		cbz	r0, .L60
 721              	.L51:
 438:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg = NULL;
 722              		.loc 1 438 7 discriminator 3 view .LVU216
 438:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg = NULL;
 723              		.loc 1 438 7 discriminator 3 view .LVU217
 439:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* wake up the waiting task */
 724              		.loc 1 439 7 discriminator 3 view .LVU218
 439:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* wake up the waiting task */
 725              		.loc 1 439 25 is_stmt 0 discriminator 3 view .LVU219
 726 00e4 0023     		movs	r3, #0
 727 00e6 6362     		str	r3, [r4, #36]
 441:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
 728              		.loc 1 441 7 is_stmt 1 discriminator 3 view .LVU220
 441:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
 729              		.loc 1 441 7 discriminator 3 view .LVU221
 730 00e8 4CB1     		cbz	r4, .L52
 731              	.LBB6:
 441:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
 732              		.loc 1 441 7 discriminator 1 view .LVU222
 441:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
 733              		.loc 1 441 7 discriminator 1 view .LVU223
 734 00ea FFF7FEFF 		bl	sys_arch_protect
 735              	.LVL74:
 441:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
 736              		.loc 1 441 7 discriminator 1 view .LVU224
 737 00ee 94F90830 		ldrsb	r3, [r4, #8]
 738 00f2 13F10C0F 		cmn	r3, #12
 739 00f6 00DB     		blt	.L53
 441:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
 740              		.loc 1 441 7 discriminator 3 view .LVU225
 741 00f8 2572     		strb	r5, [r4, #8]
 742              	.L53:
 441:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
 743              		.loc 1 441 7 discriminator 5 view .LVU226
 744 00fa FFF7FEFF 		bl	sys_arch_unprotect
 745              	.LVL75:
 746              	.L52:
 441:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
 747              		.loc 1 441 7 is_stmt 0 discriminator 5 view .LVU227
 748              	.LBE6:
 441:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
 749              		.loc 1 441 7 is_stmt 1 discriminator 6 view .LVU228
 441:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
 750              		.loc 1 441 38 discriminator 6 view .LVU229
 442:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 751              		.loc 1 442 7 discriminator 6 view .LVU230
 752 00fe 3046     		mov	r0, r6
 753 0100 FFF7FEFF 		bl	sys_sem_signal
 754              	.LVL76:
 755              	.L37:
 442:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 756              		.loc 1 442 7 is_stmt 0 discriminator 6 view .LVU231
ARM GAS  /tmp/cc0Mfu8z.s 			page 28


 757              	.LBE5:
 758              	.LBE4:
 447:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 759              		.loc 1 447 1 view .LVU232
 760 0104 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 761              	.LVL77:
 762              	.L59:
 763              	.LBB8:
 764              	.LBB7:
 435:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->err = err;
 765              		.loc 1 435 7 is_stmt 1 discriminator 1 view .LVU233
 435:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->err = err;
 766              		.loc 1 435 7 discriminator 1 view .LVU234
 767 0106 084B     		ldr	r3, .L61
 768 0108 40F2B312 		movw	r2, #435
 769 010c 0A49     		ldr	r1, .L61+16
 770 010e 0848     		ldr	r0, .L61+8
 771 0110 FFF7FEFF 		bl	printf
 772              	.LVL78:
 773 0114 DDE7     		b	.L50
 774              	.LVL79:
 775              	.L60:
 438:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg = NULL;
 776              		.loc 1 438 7 discriminator 1 view .LVU235
 438:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg = NULL;
 777              		.loc 1 438 7 discriminator 1 view .LVU236
 778 0116 044B     		ldr	r3, .L61
 779 0118 4FF4DB72 		mov	r2, #438
 780 011c 0749     		ldr	r1, .L61+20
 781 011e 0448     		ldr	r0, .L61+8
 782 0120 FFF7FEFF 		bl	printf
 783              	.LVL80:
 784 0124 DEE7     		b	.L51
 785              	.L62:
 786 0126 00BF     		.align	2
 787              	.L61:
 788 0128 00000000 		.word	.LC0
 789 012c 00000000 		.word	.LC6
 790 0130 54000000 		.word	.LC2
 791 0134 48000000 		.word	.LC9
 792 0138 10000000 		.word	.LC7
 793 013c 2C000000 		.word	.LC8
 794              	.LBE7:
 795              	.LBE8:
 796              		.cfi_endproc
 797              	.LFE106:
 799              		.section	.rodata.lwip_netconn_do_connected.str1.4,"aMS",%progbits,1
 800              		.align	2
 801              	.LC10:
 802 0000 636F6E6E 		.ascii	"conn->state == NETCONN_CONNECT\000"
 802      2D3E7374 
 802      61746520 
 802      3D3D204E 
 802      4554434F 
 803 001f 00       		.align	2
 804              	.LC11:
 805 0020 28636F6E 		.ascii	"(conn->current_msg != NULL) || conn->in_non_blockin"
ARM GAS  /tmp/cc0Mfu8z.s 			page 29


 805      6E2D3E63 
 805      75727265 
 805      6E745F6D 
 805      73672021 
 806 0053 675F636F 		.ascii	"g_connect\000"
 806      6E6E6563 
 806      7400
 807 005d 000000   		.align	2
 808              	.LC12:
 809 0060 626C6F63 		.ascii	"blocking connect state error\000"
 809      6B696E67 
 809      20636F6E 
 809      6E656374 
 809      20737461 
 810              		.section	.text.lwip_netconn_do_connected,"ax",%progbits
 811              		.align	1
 812              		.syntax unified
 813              		.thumb
 814              		.thumb_func
 816              	lwip_netconn_do_connected:
 817              	.LVL81:
 818              	.LFB117:
 615:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 616:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 617:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Create a new pcb of a specific type inside a netconn.
 618:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_new_with_proto_and_callback.
 619:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 620:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg_msg describing the connection type
 621:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 622:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
 623:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_newconn(void *m)
 624:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 625:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
 626:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 627:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = ERR_OK;
 628:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp == NULL) {
 629:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pcb_new(msg);
 630:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 631:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Else? This "new" connection already has a PCB allocated. */
 632:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Is this an error condition? Should it be deleted? */
 633:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* We currently just are happy and return. */
 634:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 635:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 636:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 637:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 638:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 639:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Create a new netconn (of a specific type) that has a callback function.
 640:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * The corresponding pcb is NOT created!
 641:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 642:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param t the type of 'connection' to create (@see enum netconn_type)
 643:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param callback a function to call on status changes (RX available, TX'ed)
 644:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @return a newly allocated struct netconn or
 645:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *         NULL on memory error
 646:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 647:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** struct netconn*
 648:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** netconn_alloc(enum netconn_type t, netconn_callback callback)
 649:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
ARM GAS  /tmp/cc0Mfu8z.s 			page 30


 650:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 651:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   int size;
 652:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 653:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)memp_malloc(MEMP_NETCONN);
 654:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 655:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return NULL;
 656:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 657:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 658:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->last_err = ERR_OK;
 659:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->type = t;
 660:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->pcb.tcp = NULL;
 661:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 662:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* If all sizes are the same, every compiler should optimize this switch to nothing */
 663:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   switch(NETCONNTYPE_GROUP(t)) {
 664:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 665:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   case NETCONN_RAW:
 666:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     size = DEFAULT_RAW_RECVMBOX_SIZE;
 667:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     break;
 668:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
 669:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
 670:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   case NETCONN_UDP:
 671:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     size = DEFAULT_UDP_RECVMBOX_SIZE;
 672:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     break;
 673:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 674:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 675:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   case NETCONN_TCP:
 676:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     size = DEFAULT_TCP_RECVMBOX_SIZE;
 677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     break;
 678:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 679:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   default:
 680:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_ASSERT("netconn_alloc: undefined netconn_type", 0);
 681:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 682:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 683:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 684:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_new(&conn->recvmbox, size) != ERR_OK) {
 685:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 686:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 687:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if !LWIP_NETCONN_SEM_PER_THREAD
 688:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_sem_new(&conn->op_completed, 0) != ERR_OK) {
 689:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&conn->recvmbox);
 690:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 691:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 692:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 693:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 694:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 695:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   sys_mbox_set_invalid(&conn->acceptmbox);
 696:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 697:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->state        = NETCONN_NONE;
 698:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SOCKET
 699:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* initialize socket to -1 since 0 is a valid socket */
 700:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->socket       = -1;
 701:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SOCKET */
 702:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->callback     = callback;
 703:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 704:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->current_msg  = NULL;
 705:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->write_offset = 0;
 706:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
ARM GAS  /tmp/cc0Mfu8z.s 			page 31


 707:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_SNDTIMEO
 708:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->send_timeout = 0;
 709:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO */
 710:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVTIMEO
 711:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->recv_timeout = 0;
 712:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVTIMEO */
 713:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_RCVBUF
 714:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->recv_bufsize = RECV_BUFSIZE_DEFAULT;
 715:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->recv_avail   = 0;
 716:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_RCVBUF */
 717:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
 718:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->linger = -1;
 719:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_LINGER */
 720:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->flags = 0;
 721:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return conn;
 722:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** free_and_return:
 723:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   memp_free(MEMP_NETCONN, conn);
 724:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return NULL;
 725:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 726:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 727:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 728:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Delete a netconn and all its resources.
 729:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * The pcb is NOT freed (since we might not be in the right thread context do this).
 730:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 731:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param conn the netconn to free
 732:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 733:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
 734:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** netconn_free(struct netconn *conn)
 735:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 736:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("PCB must be deallocated outside this function", conn->pcb.tcp == NULL);
 737:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recvmbox must be deallocated before calling this function",
 738:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     !sys_mbox_valid(&conn->recvmbox));
 739:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 740:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("acceptmbox must be deallocated before calling this function",
 741:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     !sys_mbox_valid(&conn->acceptmbox));
 742:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 743:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 744:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if !LWIP_NETCONN_SEM_PER_THREAD
 745:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   sys_sem_free(&conn->op_completed);
 746:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   sys_sem_set_invalid(&conn->op_completed);
 747:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 748:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 749:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   memp_free(MEMP_NETCONN, conn);
 750:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 751:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 752:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 753:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Delete rcvmbox and acceptmbox of a netconn and free the left-over data in
 754:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * these mboxes
 755:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 756:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param conn the netconn to free
 757:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @bytes_drained bytes drained from recvmbox
 758:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @accepts_drained pending connections drained from acceptmbox
 759:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 760:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static void
 761:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** netconn_drain(struct netconn *conn)
 762:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 763:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   void *mem;
ARM GAS  /tmp/cc0Mfu8z.s 			page 32


 764:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 765:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct pbuf *p;
 766:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 767:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 768:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* This runs in tcpip_thread, so we don't need to lock against rx packets */
 769:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 770:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Delete and drain the recvmbox. */
 771:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_valid(&conn->recvmbox)) {
 772:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->recvmbox, &mem) != SYS_MBOX_EMPTY) {
 773:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP) {
 775:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (mem != NULL) {
 776:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           p = (struct pbuf*)mem;
 777:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* pcb might be set to NULL already by err_tcp() */
 778:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (conn->pcb.tcp != NULL) {
 779:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             tcp_recved(conn->pcb.tcp, p->tot_len);
 780:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 781:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           pbuf_free(p);
 782:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 783:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else
 784:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 785:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       {
 786:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         netbuf_delete((struct netbuf *)mem);
 787:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 788:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 789:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&conn->recvmbox);
 790:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&conn->recvmbox);
 791:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 792:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 793:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Delete and drain the acceptmbox. */
 794:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 795:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_mbox_valid(&conn->acceptmbox)) {
 796:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->acceptmbox, &mem) != SYS_MBOX_EMPTY) {
 797:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (mem != &netconn_aborted) {
 798:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         struct netconn *newconn = (struct netconn *)mem;
 799:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Only tcp pcbs have an acceptmbox, so no need to check conn->type */
 800:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* pcb might be set to NULL already by err_tcp() */
 801:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* drain recvmbox */
 802:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         netconn_drain(newconn);
 803:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (newconn->pcb.tcp != NULL) {
 804:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           tcp_abort(newconn->pcb.tcp);
 805:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           newconn->pcb.tcp = NULL;
 806:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 807:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         netconn_free(newconn);
 808:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 809:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 810:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&conn->acceptmbox);
 811:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&conn->acceptmbox);
 812:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 813:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 814:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 815:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 816:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 817:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
 818:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Internal helper function to close a TCP netconn: since this sometimes
 819:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * doesn't work at the first attempt, this function is called from multiple
 820:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * places.
ARM GAS  /tmp/cc0Mfu8z.s 			page 33


 821:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
 822:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param conn the TCP netconn to close
 823:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
 824:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
 825:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_close_internal(struct netconn *conn  WRITE_DELAYED_PARAM)
 826:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 827:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
 828:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t shut, shut_rx, shut_tx, close;
 829:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t close_finished = 0;
 830:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct tcp_pcb* tpcb;
 831:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
 832:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t linger_wait_required = 0;
 833:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_LINGER */
 834:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 835:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("invalid conn", (conn != NULL));
 836:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 837:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 838:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 839:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 840:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 841:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   tpcb = conn->pcb.tcp;
 842:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut = conn->current_msg->msg.sd.shut;
 843:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut_rx = shut & NETCONN_SHUT_RD;
 844:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut_tx = shut & NETCONN_SHUT_WR;
 845:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* shutting down both ends is the same as closing
 846:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      (also if RD or WR side was shut down before already) */
 847:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (shut == NETCONN_SHUT_RDWR) {
 848:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     close = 1;
 849:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (shut_rx &&
 850:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****              ((tpcb->state == FIN_WAIT_1) ||
 851:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (tpcb->state == FIN_WAIT_2) ||
 852:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (tpcb->state == CLOSING))) {
 853:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     close = 1;
 854:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (shut_tx && ((tpcb->flags & TF_RXCLOSED) != 0)) {
 855:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     close = 1;
 856:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 857:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     close = 0;
 858:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 859:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 860:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Set back some callback pointers */
 861:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (close) {
 862:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_arg(tpcb, NULL);
 863:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 864:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (tpcb->state == LISTEN) {
 865:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_accept(tpcb, NULL);
 866:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 867:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* some callbacks have to be reset if tcp_close is not successful */
 868:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_rx) {
 869:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_recv(tpcb, NULL);
 870:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_accept(tpcb, NULL);
 871:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 872:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
 873:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_sent(tpcb, NULL);
 874:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 875:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (close) {
 876:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_poll(tpcb, NULL, 0);
 877:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_err(tpcb, NULL);
ARM GAS  /tmp/cc0Mfu8z.s 			page 34


 878:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 879:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 880:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* Try to close the connection */
 881:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (close) {
 882:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
 883:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* check linger possibilites before calling tcp_close */
 884:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = ERR_OK;
 885:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* linger enabled/required at all? (i.e. is there untransmitted data left?) */
 886:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((conn->linger >= 0) && (conn->pcb.tcp->unsent || conn->pcb.tcp->unacked)) {
 887:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if ((conn->linger == 0)) {
 888:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* data left but linger prevents waiting */
 889:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_abort(tpcb);
 890:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tpcb = NULL;
 891:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (conn->linger > 0) {
 892:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* data left and linger says we should wait */
 893:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (netconn_is_nonblocking(conn)) {
 894:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* data left on a nonblocking netconn -> cannot linger */
 895:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_WOULDBLOCK;
 896:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else if ((s32_t)(sys_now() - conn->current_msg->msg.sd.time_started) >=
 897:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           (conn->linger * 1000)) {
 898:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* data left but linger timeout has expired (this happens on further
 899:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****              calls to this function through poll_tcp */
 900:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           tcp_abort(tpcb);
 901:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           tpcb = NULL;
 902:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
 903:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* data left -> need to wait for ACK after successful close */
 904:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           linger_wait_required = 1;
 905:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 906:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 907:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 908:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((err == ERR_OK) && (tpcb != NULL))
 909:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_LINGER */
 910:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     {
 911:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = tcp_close(tpcb);
 912:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 913:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 914:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = tcp_shutdown(tpcb, shut_rx, shut_tx);
 915:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 916:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (err == ERR_OK) {
 917:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     close_finished = 1;
 918:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
 919:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (linger_wait_required) {
 920:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* wait for ACK of all unsent/unacked data by just getting called again */
 921:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       close_finished = 0;
 922:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = ERR_INPROGRESS;
 923:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 924:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_LINGER */
 925:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 926:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (err == ERR_MEM) {
 927:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Closing failed because of memory shortage, try again later. Even for
 928:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          nonblocking netconns, we have to wait since no standard socket application
 929:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          is prepared for close failing because of resource shortage.
 930:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          Check the timeout: this is kind of an lwip addition to the standard sockets:
 931:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          we wait for some time when failing to allocate a segment for the FIN */
 932:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_SNDTIMEO || LWIP_SO_LINGER
 933:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       s32_t close_timeout = LWIP_TCP_CLOSE_TIMEOUT_MS_DEFAULT;
 934:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_SNDTIMEO
ARM GAS  /tmp/cc0Mfu8z.s 			page 35


 935:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (conn->send_timeout > 0) {
 936:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         close_timeout = conn->send_timeout;
 937:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 938:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO */
 939:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
 940:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (conn->linger >= 0) {
 941:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* use linger timeout (seconds) */
 942:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         close_timeout = conn->linger * 1000U;
 943:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 944:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 945:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if ((s32_t)(sys_now() - conn->current_msg->msg.sd.time_started) >= close_timeout) {
 946:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_SO_SNDTIMEO || LWIP_SO_LINGER */
 947:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (conn->current_msg->msg.sd.polls_left == 0) {
 948:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO || LWIP_SO_LINGER */
 949:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         close_finished = 1;
 950:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (close) {
 951:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* in this case, we want to RST the connection */
 952:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           tcp_abort(tpcb);
 953:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_OK;
 954:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 955:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 956:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
 957:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Closing failed for a non-memory error: give up */
 958:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       close_finished = 1;
 959:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 960:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 961:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (close_finished) {
 962:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Closing done (succeeded, non-memory error, nonblocking error or timeout) */
 963:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_sem_t* op_completed_sem = LWIP_API_MSG_SEM(conn->current_msg);
 964:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
 965:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg = NULL;
 966:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->state = NETCONN_NONE;
 967:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (err == ERR_OK) {
 968:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (close) {
 969:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Set back some callback pointers as conn is going away */
 970:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->pcb.tcp = NULL;
 971:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Trigger select() in socket layer. Make sure everybody notices activity
 972:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          on the connection, error first! */
 973:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_ERROR, 0);
 974:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 975:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (shut_rx) {
 976:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 977:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 978:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (shut_tx) {
 979:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 980:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 981:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 982:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     NETCONN_SET_SAFE_ERR(conn, err);
 983:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 984:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (delayed)
 985:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 986:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     {
 987:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* wake up the application task */
 988:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
 989:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 990:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_OK;
 991:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
ARM GAS  /tmp/cc0Mfu8z.s 			page 36


 992:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (!close_finished) {
 993:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Closing failed and we want to wait: restore some of the callbacks */
 994:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Closing of listen pcb will never fail! */
 995:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_ASSERT("Closing a listen pcb may not fail!", (tpcb->state != LISTEN));
 996:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
 997:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_sent(tpcb, sent_tcp);
 998:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 999:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* when waiting for close, set up poll interval to 500ms */
1000:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_poll(tpcb, poll_tcp, 1);
1001:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_err(tpcb, err_tcp);
1002:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_arg(tpcb, conn);
1003:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* don't restore recv callback: we don't want to receive any more data */
1004:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1005:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* If closing didn't succeed, we get called again either
1006:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      from poll_tcp or from sent_tcp */
1007:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("err != ERR_OK", err != ERR_OK);
1008:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return err;
1009:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1010:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1011:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1012:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1013:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Delete the pcb inside a netconn.
1014:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_delete.
1015:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1016:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg_msg pointing to the connection
1017:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1018:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1019:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_delconn(void *m)
1020:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1021:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
1022:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1023:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   enum netconn_state state = msg->conn->state;
1024:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("netconn state error", /* this only happens for TCP netconns */
1025:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
1026:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
1027:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* In full duplex mode, blocking write/connect is aborted with ERR_CLSD */
1028:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (state != NETCONN_NONE) {
1029:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((state == NETCONN_WRITE) ||
1030:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         ((state == NETCONN_CONNECT) && !IN_NONBLOCKING_CONNECT(msg->conn))) {
1031:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* close requested, abort running write/connect */
1032:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_t* op_completed_sem;
1033:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("msg->conn->current_msg != NULL", msg->conn->current_msg != NULL);
1034:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       op_completed_sem = LWIP_API_MSG_SEM(msg->conn->current_msg);
1035:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->current_msg->err = ERR_CLSD;
1036:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->current_msg = NULL;
1037:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->write_offset = 0;
1038:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->state = NETCONN_NONE;
1039:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       NETCONN_SET_SAFE_ERR(msg->conn, ERR_CLSD);
1040:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
1041:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1042:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1043:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
1044:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (((state != NETCONN_NONE) &&
1045:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        (state != NETCONN_LISTEN) &&
1046:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        (state != NETCONN_CONNECT)) ||
1047:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((state == NETCONN_CONNECT) && !IN_NONBLOCKING_CONNECT(msg->conn))) {
1048:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This means either a blocking write or blocking connect is running
ARM GAS  /tmp/cc0Mfu8z.s 			page 37


1049:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        (nonblocking write returns and sets state to NONE) */
1050:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_INPROGRESS;
1051:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
1052:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
1053:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   {
1054:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_ASSERT("blocking connect in progress",
1055:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
1056:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_OK;
1057:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Drain and delete mboxes */
1058:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     netconn_drain(msg->conn);
1059:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1060:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
1061:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1062:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
1063:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
1064:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_RAW:
1065:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         raw_remove(msg->conn->pcb.raw);
1066:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1067:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
1068:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1069:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_UDP:
1070:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->pcb.udp->recv_arg = NULL;
1071:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         udp_remove(msg->conn->pcb.udp);
1072:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1073:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1074:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1075:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_TCP:
1076:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("already writing or closing", msg->conn->current_msg == NULL &&
1077:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->write_offset == 0);
1078:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->state = NETCONN_CLOSE;
1079:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->msg.sd.shut = NETCONN_SHUT_RDWR;
1080:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
1081:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1082:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (lwip_netconn_do_close_internal(msg->conn, 0) != ERR_OK) {
1083:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
1084:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
1085:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
1086:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LOCK_TCPIP_CORE();
1087:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state == NETCONN_NONE);
1088:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1089:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
1090:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         lwip_netconn_do_close_internal(msg->conn);
1091:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
1092:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* API_EVENT is called inside lwip_netconn_do_close_internal, before releasing
1093:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            the application thread, so we can return at this point! */
1094:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         return;
1095:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1096:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       default:
1097:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1098:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1099:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->pcb.tcp = NULL;
1100:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1101:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* tcp netconns don't come here! */
1102:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1103:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* @todo: this lets select make the socket readable and writable,
1104:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        which is wrong! errfd instead? */
1105:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(msg->conn, NETCONN_EVT_RCVPLUS, 0);
ARM GAS  /tmp/cc0Mfu8z.s 			page 38


1106:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(msg->conn, NETCONN_EVT_SENDPLUS, 0);
1107:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1108:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (sys_sem_valid(LWIP_API_MSG_SEM(msg))) {
1109:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     TCPIP_APIMSG_ACK(msg);
1110:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1111:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1112:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1113:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1114:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Bind a pcb contained in a netconn
1115:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_bind.
1116:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1117:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg_msg pointing to the connection and containing
1118:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *          the IP address and port to bind to
1119:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1120:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1121:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_bind(void *m)
1122:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1123:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
1124:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1125:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (ERR_IS_FATAL(msg->conn->last_err)) {
1126:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = msg->conn->last_err;
1127:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1128:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_VAL;
1129:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
1130:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
1131:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
1132:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_RAW:
1133:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = raw_bind(msg->conn->pcb.raw, API_EXPR_REF(msg->msg.bc.ipaddr));
1134:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1135:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
1136:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1137:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_UDP:
1138:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = udp_bind(msg->conn->pcb.udp, API_EXPR_REF(msg->msg.bc.ipaddr), msg->msg.bc.port)
1139:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1140:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1141:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1142:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_TCP:
1143:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = tcp_bind(msg->conn->pcb.tcp, API_EXPR_REF(msg->msg.bc.ipaddr), msg->msg.bc.port)
1144:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1145:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1146:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       default:
1147:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1148:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1149:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1150:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1151:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1152:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1153:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1154:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1155:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1156:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * TCP callback function if a connection (opened by tcp_connect/lwip_netconn_do_connect) has
1157:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * been established (or reset by the remote host).
1158:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1159:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @see tcp.h (struct tcp_pcb.connected) for parameters and return values
1160:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1161:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
1162:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_connected(void *arg, struct tcp_pcb *pcb, err_t err)
ARM GAS  /tmp/cc0Mfu8z.s 			page 39


1163:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 819              		.loc 1 1163 1 view -0
 820              		.cfi_startproc
 821              		@ args = 0, pretend = 0, frame = 0
 822              		@ frame_needed = 0, uses_anonymous_args = 0
1164:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 823              		.loc 1 1164 3 view .LVU238
1165:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   int was_blocking;
 824              		.loc 1 1165 3 view .LVU239
1166:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   sys_sem_t* op_completed_sem = NULL;
 825              		.loc 1 1166 3 view .LVU240
1167:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1168:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_UNUSED_ARG(pcb);
 826              		.loc 1 1168 3 view .LVU241
1169:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1170:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 827              		.loc 1 1170 3 view .LVU242
1171:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1172:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 828              		.loc 1 1172 3 view .LVU243
 829              		.loc 1 1172 6 is_stmt 0 view .LVU244
 830 0000 0028     		cmp	r0, #0
 831 0002 5AD0     		beq	.L74
1163:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 832              		.loc 1 1163 1 view .LVU245
 833 0004 70B5     		push	{r4, r5, r6, lr}
 834              	.LCFI4:
 835              		.cfi_def_cfa_offset 16
 836              		.cfi_offset 4, -16
 837              		.cfi_offset 5, -12
 838              		.cfi_offset 6, -8
 839              		.cfi_offset 14, -4
 840 0006 1546     		mov	r5, r2
 841 0008 0446     		mov	r4, r0
1173:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
1174:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1175:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1176:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_CONNECT", conn->state == NETCONN_CONNECT);
 842              		.loc 1 1176 3 is_stmt 1 view .LVU246
 843              		.loc 1 1176 3 view .LVU247
 844 000a 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 845 000c 032B     		cmp	r3, #3
 846 000e 35D1     		bne	.L80
 847              	.LVL82:
 848              	.L65:
 849              		.loc 1 1176 3 discriminator 3 view .LVU248
 850              		.loc 1 1176 3 discriminator 3 view .LVU249
1177:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("(conn->current_msg != NULL) || conn->in_non_blocking_connect",
 851              		.loc 1 1177 3 discriminator 3 view .LVU250
 852              		.loc 1 1177 3 discriminator 3 view .LVU251
 853 0010 636A     		ldr	r3, [r4, #36]
 854 0012 002B     		cmp	r3, #0
 855 0014 3AD0     		beq	.L81
 856              	.L66:
 857              		.loc 1 1177 3 discriminator 5 view .LVU252
 858              		.loc 1 1177 3 discriminator 5 view .LVU253
1178:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     (conn->current_msg != NULL) || IN_NONBLOCKING_CONNECT(conn));
ARM GAS  /tmp/cc0Mfu8z.s 			page 40


1179:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1180:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn->current_msg != NULL) {
 859              		.loc 1 1180 3 discriminator 5 view .LVU254
 860              		.loc 1 1180 11 is_stmt 0 discriminator 5 view .LVU255
 861 0016 666A     		ldr	r6, [r4, #36]
 862              		.loc 1 1180 6 discriminator 5 view .LVU256
 863 0018 1EB1     		cbz	r6, .L67
1181:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
 864              		.loc 1 1181 5 is_stmt 1 view .LVU257
 865              		.loc 1 1181 28 is_stmt 0 view .LVU258
 866 001a 3571     		strb	r5, [r6, #4]
1182:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     op_completed_sem = LWIP_API_MSG_SEM(conn->current_msg);
 867              		.loc 1 1182 5 is_stmt 1 view .LVU259
 868              		.loc 1 1182 24 is_stmt 0 view .LVU260
 869 001c 636A     		ldr	r3, [r4, #36]
 870 001e 1E68     		ldr	r6, [r3]
 871              		.loc 1 1182 22 view .LVU261
 872 0020 0C36     		adds	r6, r6, #12
 873              	.LVL83:
 874              	.L67:
1183:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1184:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if ((NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP) && (err == ERR_OK)) {
 875              		.loc 1 1184 3 is_stmt 1 view .LVU262
 876              		.loc 1 1184 8 is_stmt 0 view .LVU263
 877 0022 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 878              		.loc 1 1184 6 view .LVU264
 879 0024 03F0F003 		and	r3, r3, #240
 880 0028 102B     		cmp	r3, #16
 881 002a 3BD0     		beq	.L82
 882              	.L68:
1185:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     setup_tcp(conn);
1186:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1187:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   was_blocking = !IN_NONBLOCKING_CONNECT(conn);
 883              		.loc 1 1187 3 is_stmt 1 view .LVU265
 884              		.loc 1 1187 19 is_stmt 0 view .LVU266
 885 002c 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 886              	.LVL84:
1188:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   SET_NONBLOCKING_CONNECT(conn, 0);
 887              		.loc 1 1188 3 is_stmt 1 view .LVU267
 888              		.loc 1 1188 3 view .LVU268
 889              		.loc 1 1188 3 view .LVU269
 890 002e 23F00402 		bic	r2, r3, #4
 891 0032 2277     		strb	r2, [r4, #28]
 892              		.loc 1 1188 3 view .LVU270
1189:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("blocking connect state error",
 893              		.loc 1 1189 3 view .LVU271
 894              		.loc 1 1189 3 view .LVU272
 895 0034 13F00405 		ands	r5, r3, #4
 896 0038 00D1     		bne	.L69
 897              		.loc 1 1189 3 is_stmt 0 discriminator 2 view .LVU273
 898 003a 46B9     		cbnz	r6, .L70
 899              	.L69:
 900              		.loc 1 1189 3 discriminator 3 view .LVU274
 901 003c 05B1     		cbz	r5, .L71
 902              		.loc 1 1189 3 discriminator 6 view .LVU275
 903 003e 36B1     		cbz	r6, .L70
 904              	.L71:
ARM GAS  /tmp/cc0Mfu8z.s 			page 41


 905              		.loc 1 1189 3 is_stmt 1 discriminator 7 view .LVU276
 906              		.loc 1 1189 3 discriminator 7 view .LVU277
 907 0040 1F4B     		ldr	r3, .L84
 908              	.LVL85:
 909              		.loc 1 1189 3 is_stmt 0 discriminator 7 view .LVU278
 910 0042 40F2A542 		movw	r2, #1189
 911 0046 1F49     		ldr	r1, .L84+4
 912 0048 1F48     		ldr	r0, .L84+8
 913 004a FFF7FEFF 		bl	printf
 914              	.LVL86:
 915              	.L70:
 916              		.loc 1 1189 3 is_stmt 1 discriminator 9 view .LVU279
 917              		.loc 1 1189 3 discriminator 9 view .LVU280
1190:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     (was_blocking && op_completed_sem != NULL) ||
1191:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     (!was_blocking && op_completed_sem == NULL));
1192:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->current_msg = NULL;
 918              		.loc 1 1192 3 discriminator 9 view .LVU281
 919              		.loc 1 1192 21 is_stmt 0 discriminator 9 view .LVU282
 920 004e 0023     		movs	r3, #0
 921 0050 6362     		str	r3, [r4, #36]
1193:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->state = NETCONN_NONE;
 922              		.loc 1 1193 3 is_stmt 1 discriminator 9 view .LVU283
 923              		.loc 1 1193 15 is_stmt 0 discriminator 9 view .LVU284
 924 0052 6370     		strb	r3, [r4, #1]
1194:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   NETCONN_SET_SAFE_ERR(conn, ERR_OK);
 925              		.loc 1 1194 3 is_stmt 1 discriminator 9 view .LVU285
 926              		.loc 1 1194 3 discriminator 9 view .LVU286
 927              	.LBB9:
 928              		.loc 1 1194 3 discriminator 9 view .LVU287
 929              		.loc 1 1194 3 discriminator 9 view .LVU288
 930 0054 FFF7FEFF 		bl	sys_arch_protect
 931              	.LVL87:
 932              		.loc 1 1194 3 discriminator 9 view .LVU289
 933 0058 94F90830 		ldrsb	r3, [r4, #8]
 934 005c 13F10C0F 		cmn	r3, #12
 935 0060 01DB     		blt	.L72
 936              		.loc 1 1194 3 discriminator 3 view .LVU290
 937 0062 0023     		movs	r3, #0
 938 0064 2372     		strb	r3, [r4, #8]
 939              	.L72:
 940              		.loc 1 1194 3 discriminator 5 view .LVU291
 941 0066 FFF7FEFF 		bl	sys_arch_unprotect
 942              	.LVL88:
 943              		.loc 1 1194 3 is_stmt 0 discriminator 5 view .LVU292
 944              	.LBE9:
 945              		.loc 1 1194 3 is_stmt 1 discriminator 5 view .LVU293
 946              		.loc 1 1194 37 discriminator 5 view .LVU294
1195:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 947              		.loc 1 1195 3 discriminator 5 view .LVU295
 948 006a A36A     		ldr	r3, [r4, #40]
 949 006c 1BB1     		cbz	r3, .L73
 950              		.loc 1 1195 3 discriminator 1 view .LVU296
 951 006e 0022     		movs	r2, #0
 952 0070 0221     		movs	r1, #2
 953 0072 2046     		mov	r0, r4
 954 0074 9847     		blx	r3
 955              	.LVL89:
ARM GAS  /tmp/cc0Mfu8z.s 			page 42


 956              	.L73:
 957              		.loc 1 1195 43 discriminator 3 view .LVU297
1196:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1197:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (was_blocking) {
 958              		.loc 1 1197 3 discriminator 3 view .LVU298
 959              		.loc 1 1197 6 is_stmt 0 discriminator 3 view .LVU299
 960 0076 DDB1     		cbz	r5, .L83
1198:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_sem_signal(op_completed_sem);
1199:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1200:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
 961              		.loc 1 1200 10 view .LVU300
 962 0078 0020     		movs	r0, #0
 963              	.L64:
1201:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 964              		.loc 1 1201 1 view .LVU301
 965 007a 70BD     		pop	{r4, r5, r6, pc}
 966              	.LVL90:
 967              	.L80:
1176:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("(conn->current_msg != NULL) || conn->in_non_blocking_connect",
 968              		.loc 1 1176 3 is_stmt 1 discriminator 1 view .LVU302
1176:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("(conn->current_msg != NULL) || conn->in_non_blocking_connect",
 969              		.loc 1 1176 3 discriminator 1 view .LVU303
 970 007c 104B     		ldr	r3, .L84
 971 007e 4FF49362 		mov	r2, #1176
 972              	.LVL91:
1176:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("(conn->current_msg != NULL) || conn->in_non_blocking_connect",
 973              		.loc 1 1176 3 is_stmt 0 discriminator 1 view .LVU304
 974 0082 1249     		ldr	r1, .L84+12
 975              	.LVL92:
1176:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("(conn->current_msg != NULL) || conn->in_non_blocking_connect",
 976              		.loc 1 1176 3 discriminator 1 view .LVU305
 977 0084 1048     		ldr	r0, .L84+8
 978              	.LVL93:
1176:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("(conn->current_msg != NULL) || conn->in_non_blocking_connect",
 979              		.loc 1 1176 3 discriminator 1 view .LVU306
 980 0086 FFF7FEFF 		bl	printf
 981              	.LVL94:
 982 008a C1E7     		b	.L65
 983              	.L81:
1177:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     (conn->current_msg != NULL) || IN_NONBLOCKING_CONNECT(conn));
 984              		.loc 1 1177 3 discriminator 1 view .LVU307
 985 008c 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 986 008e 13F0040F 		tst	r3, #4
 987 0092 C0D1     		bne	.L66
1177:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     (conn->current_msg != NULL) || IN_NONBLOCKING_CONNECT(conn));
 988              		.loc 1 1177 3 is_stmt 1 discriminator 3 view .LVU308
1177:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     (conn->current_msg != NULL) || IN_NONBLOCKING_CONNECT(conn));
 989              		.loc 1 1177 3 discriminator 3 view .LVU309
 990 0094 0A4B     		ldr	r3, .L84
 991 0096 40F29942 		movw	r2, #1177
 992 009a 0D49     		ldr	r1, .L84+16
 993 009c 0A48     		ldr	r0, .L84+8
 994 009e FFF7FEFF 		bl	printf
 995              	.LVL95:
 996 00a2 B8E7     		b	.L66
 997              	.LVL96:
 998              	.L82:
ARM GAS  /tmp/cc0Mfu8z.s 			page 43


1184:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     setup_tcp(conn);
 999              		.loc 1 1184 54 is_stmt 0 discriminator 1 view .LVU310
 1000 00a4 002D     		cmp	r5, #0
 1001 00a6 C1D1     		bne	.L68
1185:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 1002              		.loc 1 1185 5 is_stmt 1 view .LVU311
 1003 00a8 2046     		mov	r0, r4
 1004 00aa FFF7FEFF 		bl	setup_tcp
 1005              	.LVL97:
 1006 00ae BDE7     		b	.L68
 1007              	.L83:
1198:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 1008              		.loc 1 1198 5 view .LVU312
 1009 00b0 3046     		mov	r0, r6
 1010 00b2 FFF7FEFF 		bl	sys_sem_signal
 1011              	.LVL98:
1200:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 1012              		.loc 1 1200 10 is_stmt 0 view .LVU313
 1013 00b6 0020     		movs	r0, #0
 1014 00b8 DFE7     		b	.L64
 1015              	.LVL99:
 1016              	.L74:
 1017              	.LCFI5:
 1018              		.cfi_def_cfa_offset 0
 1019              		.cfi_restore 4
 1020              		.cfi_restore 5
 1021              		.cfi_restore 6
 1022              		.cfi_restore 14
1173:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 1023              		.loc 1 1173 12 view .LVU314
 1024 00ba 6FF00500 		mvn	r0, #5
 1025              	.LVL100:
 1026              		.loc 1 1201 1 view .LVU315
 1027 00be 7047     		bx	lr
 1028              	.L85:
 1029              		.align	2
 1030              	.L84:
 1031 00c0 00000000 		.word	.LC0
 1032 00c4 60000000 		.word	.LC12
 1033 00c8 54000000 		.word	.LC2
 1034 00cc 00000000 		.word	.LC10
 1035 00d0 20000000 		.word	.LC11
 1036              		.cfi_endproc
 1037              	.LFE117:
 1039              		.section	.rodata.lwip_netconn_do_writemore.str1.4,"aMS",%progbits,1
 1040              		.align	2
 1041              	.LC13:
 1042 0000 636F6E6E 		.ascii	"conn->state == NETCONN_WRITE\000"
 1042      2D3E7374 
 1042      61746520 
 1042      3D3D204E 
 1042      4554434F 
 1043 001d 000000   		.align	2
 1044              	.LC14:
 1045 0020 636F6E6E 		.ascii	"conn->pcb.tcp != NULL\000"
 1045      2D3E7063 
 1045      622E7463 
ARM GAS  /tmp/cc0Mfu8z.s 			page 44


 1045      7020213D 
 1045      204E554C 
 1046 0036 0000     		.align	2
 1047              	.LC15:
 1048 0038 636F6E6E 		.ascii	"conn->write_offset < conn->current_msg->msg.w.len\000"
 1048      2D3E7772 
 1048      6974655F 
 1048      6F666673 
 1048      6574203C 
 1049 006a 0000     		.align	2
 1050              	.LC16:
 1051 006c 6C776970 		.ascii	"lwip_netconn_do_writemore: invalid length!\000"
 1051      5F6E6574 
 1051      636F6E6E 
 1051      5F646F5F 
 1051      77726974 
 1052              		.section	.text.lwip_netconn_do_writemore,"ax",%progbits
 1053              		.align	1
 1054              		.syntax unified
 1055              		.thumb
 1056              		.thumb_func
 1058              	lwip_netconn_do_writemore:
 1059              	.LVL101:
 1060              	.LFB123:
1202:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1203:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1204:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1205:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Connect a pcb contained inside a netconn
1206:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_connect.
1207:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1208:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg_msg pointing to the connection and containing
1209:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *          the IP address and port to connect to
1210:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1211:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1212:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_connect(void *m)
1213:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1214:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
1215:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1216:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp == NULL) {
1217:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This may happen when calling netconn_connect() a second time */
1218:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_CLSD;
1219:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1220:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
1221:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
1222:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_RAW:
1223:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->err = raw_connect(msg->conn->pcb.raw, API_EXPR_REF(msg->msg.bc.ipaddr));
1224:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
1225:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
1226:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1227:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_UDP:
1228:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->err = udp_connect(msg->conn->pcb.udp, API_EXPR_REF(msg->msg.bc.ipaddr), msg->msg.bc.port
1229:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
1230:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1231:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1232:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_TCP:
1233:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Prevent connect while doing any other action. */
1234:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->state == NETCONN_CONNECT) {
ARM GAS  /tmp/cc0Mfu8z.s 			page 45


1235:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = ERR_ALREADY;
1236:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (msg->conn->state != NETCONN_NONE) {
1237:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = ERR_ISCONN;
1238:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1239:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         setup_tcp(msg->conn);
1240:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = tcp_connect(msg->conn->pcb.tcp, API_EXPR_REF(msg->msg.bc.ipaddr),
1241:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->msg.bc.port, lwip_netconn_do_connected);
1242:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (msg->err == ERR_OK) {
1243:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           u8_t non_blocking = netconn_is_nonblocking(msg->conn);
1244:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->state = NETCONN_CONNECT;
1245:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           SET_NONBLOCKING_CONNECT(msg->conn, non_blocking);
1246:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (non_blocking) {
1247:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->err = ERR_INPROGRESS;
1248:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
1249:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->conn->current_msg = msg;
1250:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* sys_sem_signal() is called from lwip_netconn_do_connected (or err_tcp()),
1251:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                when the connection is established! */
1252:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1253:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LWIP_ASSERT("state!", msg->conn->state == NETCONN_CONNECT);
1254:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
1255:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
1256:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LOCK_TCPIP_CORE();
1257:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LWIP_ASSERT("state!", msg->conn->state != NETCONN_CONNECT);
1258:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
1259:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             return;
1260:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1261:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1262:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1263:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
1264:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1265:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     default:
1266:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ERROR("Invalid netconn type", 0, do{ msg->err = ERR_VAL; }while(0));
1267:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
1268:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1269:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1270:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* For all other protocols, netconn_connect() calls TCPIP_APIMSG(),
1271:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****      so use TCPIP_APIMSG_ACK() here. */
1272:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1273:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1274:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1275:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1276:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Disconnect a pcb contained inside a netconn
1277:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Only used for UDP netconns.
1278:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_disconnect.
1279:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1280:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg_msg pointing to the connection to disconnect
1281:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1282:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1283:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_disconnect(void *m)
1284:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1285:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
1286:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1287:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1288:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_UDP) {
1289:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     udp_disconnect(msg->conn->pcb.udp);
1290:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_OK;
1291:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
ARM GAS  /tmp/cc0Mfu8z.s 			page 46


1292:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1293:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   {
1294:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_VAL;
1295:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1296:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1297:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1298:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1299:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1300:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1301:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Set a TCP pcb contained in a netconn into listen mode
1302:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_listen.
1303:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1304:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg_msg pointing to the connection
1305:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1306:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1307:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_listen(void *m)
1308:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1309:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
1310:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1311:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (ERR_IS_FATAL(msg->conn->last_err)) {
1312:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = msg->conn->last_err;
1313:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1314:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_CONN;
1315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
1316:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
1317:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (msg->conn->state == NETCONN_NONE) {
1318:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           struct tcp_pcb* lpcb;
1319:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (msg->conn->pcb.tcp->state != CLOSED) {
1320:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* connection is not closed, cannot listen */
1321:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->err = ERR_VAL;
1322:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
1323:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             err_t err;
1324:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             u8_t backlog;
1325:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if TCP_LISTEN_BACKLOG
1326:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             backlog = msg->msg.lb.backlog;
1327:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else  /* TCP_LISTEN_BACKLOG */
1328:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             backlog = TCP_DEFAULT_LISTEN_BACKLOG;
1329:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* TCP_LISTEN_BACKLOG */
1330:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_IPV4 && LWIP_IPV6
1331:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* "Socket API like" dual-stack support: If IP to listen to is IP6_ADDR_ANY,
1332:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****              * and NETCONN_FLAG_IPV6_V6ONLY is NOT set, use IP_ANY_TYPE to listen
1333:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****              */
1334:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (ip_addr_cmp(&msg->conn->pcb.ip->local_ip, IP6_ADDR_ANY) &&
1335:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 (netconn_get_ipv6only(msg->conn) == 0)) {
1336:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /* change PCB type to IPADDR_TYPE_ANY */
1337:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               IP_SET_TYPE_VAL(msg->conn->pcb.tcp->local_ip,  IPADDR_TYPE_ANY);
1338:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               IP_SET_TYPE_VAL(msg->conn->pcb.tcp->remote_ip, IPADDR_TYPE_ANY);
1339:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
1340:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_IPV4 && LWIP_IPV6 */
1341:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1342:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             lpcb = tcp_listen_with_backlog_and_err(msg->conn->pcb.tcp, backlog, &err);
1343:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1344:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             if (lpcb == NULL) {
1345:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /* in this case, the old pcb is still allocated */
1346:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->err = err;
1347:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             } else {
1348:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /* delete the recvmbox and allocate the acceptmbox */
ARM GAS  /tmp/cc0Mfu8z.s 			page 47


1349:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               if (sys_mbox_valid(&msg->conn->recvmbox)) {
1350:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 /** @todo: should we drain the recvmbox here? */
1351:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 sys_mbox_free(&msg->conn->recvmbox);
1352:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 sys_mbox_set_invalid(&msg->conn->recvmbox);
1353:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               }
1354:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               msg->err = ERR_OK;
1355:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               if (!sys_mbox_valid(&msg->conn->acceptmbox)) {
1356:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 msg->err = sys_mbox_new(&msg->conn->acceptmbox, DEFAULT_ACCEPTMBOX_SIZE);
1357:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               }
1358:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               if (msg->err == ERR_OK) {
1359:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 msg->conn->state = NETCONN_LISTEN;
1360:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 msg->conn->pcb.tcp = lpcb;
1361:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 tcp_arg(msg->conn->pcb.tcp, msg->conn);
1362:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 tcp_accept(msg->conn->pcb.tcp, accept_function);
1363:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               } else {
1364:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 /* since the old pcb is already deallocated, free lpcb now */
1365:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 tcp_close(lpcb);
1366:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 msg->conn->pcb.tcp = NULL;
1367:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               }
1368:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             }
1369:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
1370:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else if (msg->conn->state == NETCONN_LISTEN) {
1371:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* already listening, allow updating of the backlog */
1372:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = ERR_OK;
1373:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           tcp_backlog_set(msg->conn->pcb.tcp, msg->msg.lb.backlog);
1374:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1375:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1376:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = ERR_ARG;
1377:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1378:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1379:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1380:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1381:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1382:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1383:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1384:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1385:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Send some data on a RAW or UDP pcb contained in a netconn
1386:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_send
1387:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1388:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg_msg pointing to the connection
1389:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1390:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1391:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_send(void *m)
1392:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1393:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
1394:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1395:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (ERR_IS_FATAL(msg->conn->last_err)) {
1396:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = msg->conn->last_err;
1397:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1398:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_CONN;
1399:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
1400:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
1401:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
1402:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_RAW:
1403:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (ip_addr_isany(&msg->msg.b->addr) || IP_IS_ANY_TYPE_VAL(msg->msg.b->addr)) {
1404:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = raw_send(msg->conn->pcb.raw, msg->msg.b->p);
1405:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
ARM GAS  /tmp/cc0Mfu8z.s 			page 48


1406:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = raw_sendto(msg->conn->pcb.raw, msg->msg.b->p, &msg->msg.b->addr);
1407:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1408:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1409:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
1410:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1411:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       case NETCONN_UDP:
1412:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_CHECKSUM_ON_COPY
1413:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (ip_addr_isany(&msg->msg.b->addr) || IP_IS_ANY_TYPE_VAL(msg->msg.b->addr)) {
1414:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = udp_send_chksum(msg->conn->pcb.udp, msg->msg.b->p,
1415:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->msg.b->flags & NETBUF_FLAG_CHKSUM, msg->msg.b->toport_chksum);
1416:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
1417:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = udp_sendto_chksum(msg->conn->pcb.udp, msg->msg.b->p,
1418:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             &msg->msg.b->addr, msg->msg.b->port,
1419:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->msg.b->flags & NETBUF_FLAG_CHKSUM, msg->msg.b->toport_chksum);
1420:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1421:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_CHECKSUM_ON_COPY */
1422:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (ip_addr_isany_val(msg->msg.b->addr) || IP_IS_ANY_TYPE_VAL(msg->msg.b->addr)) {
1423:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = udp_send(msg->conn->pcb.udp, msg->msg.b->p);
1424:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
1425:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = udp_sendto(msg->conn->pcb.udp, msg->msg.b->p, &msg->msg.b->addr, msg->msg.b->p
1426:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1427:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_CHECKSUM_ON_COPY */
1428:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1429:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1430:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       default:
1431:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
1432:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1433:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1434:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1435:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1436:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1437:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1438:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1439:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1440:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Indicate data has been received from a TCP pcb contained in a netconn
1441:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_recv
1442:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1443:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg_msg pointing to the connection
1444:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1445:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1446:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_recv(void *m)
1447:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1448:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
1449:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1450:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = ERR_OK;
1451:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
1452:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
1453:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       u32_t remaining = msg->msg.r.len;
1454:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       do {
1455:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         u16_t recved = (remaining > 0xffff) ? 0xffff : (u16_t)remaining;
1456:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_recved(msg->conn->pcb.tcp, recved);
1457:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         remaining -= recved;
1458:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } while (remaining != 0);
1459:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1460:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1461:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1462:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
ARM GAS  /tmp/cc0Mfu8z.s 			page 49


1463:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1464:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if TCP_LISTEN_BACKLOG
1465:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /** Indicate that a TCP pcb has been accepted
1466:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_accept
1467:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1468:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg_msg pointing to the connection
1469:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1470:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1471:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_accepted(void *m)
1472:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
1473:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
1474:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1475:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   msg->err = ERR_OK;
1476:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
1477:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
1478:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_backlog_accepted(msg->conn->pcb.tcp);
1479:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1480:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1481:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
1482:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
1483:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* TCP_LISTEN_BACKLOG */
1484:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1485:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1486:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * See if more data needs to be written from a previous call to netconn_write.
1487:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called initially from lwip_netconn_do_write. If the first call can't send all data
1488:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * (because of low memory or empty send-buffer), this function is called again
1489:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * from sent_tcp() or poll_tcp() to send more data. If all data is sent, the
1490:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * blocking application thread (waiting in netconn_write) is released.
1491:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param conn netconn (that is currently in state NETCONN_WRITE) to process
1493:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @return ERR_OK
1494:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *         ERR_MEM if LWIP_TCPIP_CORE_LOCKING=1 and sending hasn't yet finished
1495:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1496:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** static err_t
1497:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_writemore(struct netconn *conn  WRITE_DELAYED_PARAM)
1498:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 1061              		.loc 1 1498 1 is_stmt 1 view -0
 1062              		.cfi_startproc
 1063              		@ args = 0, pretend = 0, frame = 0
 1064              		@ frame_needed = 0, uses_anonymous_args = 0
 1065              		.loc 1 1498 1 is_stmt 0 view .LVU317
 1066 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 1067              	.LCFI6:
 1068              		.cfi_def_cfa_offset 32
 1069              		.cfi_offset 3, -32
 1070              		.cfi_offset 4, -28
 1071              		.cfi_offset 5, -24
 1072              		.cfi_offset 6, -20
 1073              		.cfi_offset 7, -16
 1074              		.cfi_offset 8, -12
 1075              		.cfi_offset 9, -8
 1076              		.cfi_offset 14, -4
 1077 0004 8846     		mov	r8, r1
1499:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
 1078              		.loc 1 1499 3 is_stmt 1 view .LVU318
1500:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   const void *dataptr;
 1079              		.loc 1 1500 3 view .LVU319
ARM GAS  /tmp/cc0Mfu8z.s 			page 50


1501:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u16_t len, available;
 1080              		.loc 1 1501 3 view .LVU320
1502:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t write_finished = 0;
 1081              		.loc 1 1502 3 view .LVU321
 1082              	.LVL102:
1503:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   size_t diff;
 1083              		.loc 1 1503 3 view .LVU322
1504:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t dontblock;
 1084              		.loc 1 1504 3 view .LVU323
1505:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t apiflags;
 1085              		.loc 1 1505 3 view .LVU324
1506:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1507:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", conn != NULL);
 1086              		.loc 1 1507 3 view .LVU325
 1087              		.loc 1 1507 3 view .LVU326
 1088 0006 0446     		mov	r4, r0
 1089 0008 B8B1     		cbz	r0, .L121
 1090              	.LVL103:
 1091              	.L87:
 1092              		.loc 1 1507 3 discriminator 3 view .LVU327
 1093              		.loc 1 1507 3 discriminator 3 view .LVU328
1508:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_WRITE", (conn->state == NETCONN_WRITE));
 1094              		.loc 1 1508 3 discriminator 3 view .LVU329
 1095              		.loc 1 1508 3 discriminator 3 view .LVU330
 1096 000a 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 1097 000c 012B     		cmp	r3, #1
 1098 000e 1CD1     		bne	.L122
 1099              	.L88:
 1100              		.loc 1 1508 3 discriminator 3 view .LVU331
 1101              		.loc 1 1508 3 discriminator 3 view .LVU332
1509:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1102              		.loc 1 1509 3 discriminator 3 view .LVU333
 1103              		.loc 1 1509 3 discriminator 3 view .LVU334
 1104 0010 636A     		ldr	r3, [r4, #36]
 1105 0012 13B3     		cbz	r3, .L123
 1106              	.L89:
 1107              		.loc 1 1509 3 discriminator 3 view .LVU335
 1108              		.loc 1 1509 3 discriminator 3 view .LVU336
1510:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->pcb.tcp != NULL", conn->pcb.tcp != NULL);
 1109              		.loc 1 1510 3 discriminator 3 view .LVU337
 1110              		.loc 1 1510 3 discriminator 3 view .LVU338
 1111 0014 6368     		ldr	r3, [r4, #4]
 1112 0016 43B3     		cbz	r3, .L124
 1113              	.L90:
 1114              		.loc 1 1510 3 discriminator 3 view .LVU339
 1115              		.loc 1 1510 3 discriminator 3 view .LVU340
1511:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->write_offset < conn->current_msg->msg.w.len",
 1116              		.loc 1 1511 3 discriminator 3 view .LVU341
 1117              		.loc 1 1511 3 discriminator 3 view .LVU342
 1118 0018 226A     		ldr	r2, [r4, #32]
 1119 001a 636A     		ldr	r3, [r4, #36]
 1120 001c DB68     		ldr	r3, [r3, #12]
 1121 001e 9A42     		cmp	r2, r3
 1122 0020 2BD2     		bcs	.L125
 1123              	.L91:
 1124              		.loc 1 1511 3 discriminator 3 view .LVU343
 1125              		.loc 1 1511 3 discriminator 3 view .LVU344
ARM GAS  /tmp/cc0Mfu8z.s 			page 51


1512:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->write_offset < conn->current_msg->msg.w.len);
1513:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1514:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   apiflags = conn->current_msg->msg.w.apiflags;
 1126              		.loc 1 1514 3 discriminator 3 view .LVU345
 1127              		.loc 1 1514 18 is_stmt 0 discriminator 3 view .LVU346
 1128 0022 626A     		ldr	r2, [r4, #36]
 1129              		.loc 1 1514 12 discriminator 3 view .LVU347
 1130 0024 92F81090 		ldrb	r9, [r2, #16]	@ zero_extendqisi2
 1131              	.LVL104:
1515:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   dontblock = netconn_is_nonblocking(conn) || (apiflags & NETCONN_DONTBLOCK);
 1132              		.loc 1 1515 3 is_stmt 1 discriminator 3 view .LVU348
 1133              		.loc 1 1515 15 is_stmt 0 discriminator 3 view .LVU349
 1134 0028 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 1135              		.loc 1 1515 44 discriminator 3 view .LVU350
 1136 002a 13F0020F 		tst	r3, #2
 1137 002e 2CD1     		bne	.L116
 1138              		.loc 1 1515 44 discriminator 2 view .LVU351
 1139 0030 19F0040F 		tst	r9, #4
 1140 0034 41D0     		beq	.L117
 1141              		.loc 1 1515 44 view .LVU352
 1142 0036 0127     		movs	r7, #1
 1143 0038 28E0     		b	.L92
 1144              	.LVL105:
 1145              	.L121:
1507:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_WRITE", (conn->state == NETCONN_WRITE));
 1146              		.loc 1 1507 3 is_stmt 1 discriminator 1 view .LVU353
1507:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_WRITE", (conn->state == NETCONN_WRITE));
 1147              		.loc 1 1507 3 discriminator 1 view .LVU354
 1148 003a 6E4B     		ldr	r3, .L129
 1149 003c 40F2E352 		movw	r2, #1507
 1150 0040 6D49     		ldr	r1, .L129+4
 1151              	.LVL106:
1507:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_WRITE", (conn->state == NETCONN_WRITE));
 1152              		.loc 1 1507 3 is_stmt 0 discriminator 1 view .LVU355
 1153 0042 6E48     		ldr	r0, .L129+8
 1154              	.LVL107:
1507:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->state == NETCONN_WRITE", (conn->state == NETCONN_WRITE));
 1155              		.loc 1 1507 3 discriminator 1 view .LVU356
 1156 0044 FFF7FEFF 		bl	printf
 1157              	.LVL108:
 1158 0048 DFE7     		b	.L87
 1159              	.L122:
1508:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1160              		.loc 1 1508 3 is_stmt 1 discriminator 1 view .LVU357
1508:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1161              		.loc 1 1508 3 discriminator 1 view .LVU358
 1162 004a 6A4B     		ldr	r3, .L129
 1163 004c 40F2E452 		movw	r2, #1508
 1164 0050 6B49     		ldr	r1, .L129+12
 1165 0052 6A48     		ldr	r0, .L129+8
 1166 0054 FFF7FEFF 		bl	printf
 1167              	.LVL109:
 1168 0058 DAE7     		b	.L88
 1169              	.L123:
1509:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->pcb.tcp != NULL", conn->pcb.tcp != NULL);
 1170              		.loc 1 1509 3 discriminator 1 view .LVU359
1509:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->pcb.tcp != NULL", conn->pcb.tcp != NULL);
ARM GAS  /tmp/cc0Mfu8z.s 			page 52


 1171              		.loc 1 1509 3 discriminator 1 view .LVU360
 1172 005a 664B     		ldr	r3, .L129
 1173 005c 40F2E552 		movw	r2, #1509
 1174 0060 6849     		ldr	r1, .L129+16
 1175 0062 6648     		ldr	r0, .L129+8
 1176 0064 FFF7FEFF 		bl	printf
 1177              	.LVL110:
 1178 0068 D4E7     		b	.L89
 1179              	.L124:
1510:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->write_offset < conn->current_msg->msg.w.len",
 1180              		.loc 1 1510 3 discriminator 1 view .LVU361
1510:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->write_offset < conn->current_msg->msg.w.len",
 1181              		.loc 1 1510 3 discriminator 1 view .LVU362
 1182 006a 624B     		ldr	r3, .L129
 1183 006c 40F2E652 		movw	r2, #1510
 1184 0070 6549     		ldr	r1, .L129+20
 1185 0072 6248     		ldr	r0, .L129+8
 1186 0074 FFF7FEFF 		bl	printf
 1187              	.LVL111:
 1188 0078 CEE7     		b	.L90
 1189              	.L125:
1511:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->write_offset < conn->current_msg->msg.w.len);
 1190              		.loc 1 1511 3 discriminator 1 view .LVU363
1511:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->write_offset < conn->current_msg->msg.w.len);
 1191              		.loc 1 1511 3 discriminator 1 view .LVU364
 1192 007a 5E4B     		ldr	r3, .L129
 1193 007c 40F2E752 		movw	r2, #1511
 1194 0080 6249     		ldr	r1, .L129+24
 1195 0082 5E48     		ldr	r0, .L129+8
 1196 0084 FFF7FEFF 		bl	printf
 1197              	.LVL112:
 1198 0088 CBE7     		b	.L91
 1199              	.LVL113:
 1200              	.L116:
 1201              		.loc 1 1515 44 is_stmt 0 view .LVU365
 1202 008a 0127     		movs	r7, #1
 1203              	.L92:
 1204              		.loc 1 1515 13 discriminator 6 view .LVU366
 1205 008c FFB2     		uxtb	r7, r7
 1206              	.LVL114:
1516:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1517:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_SNDTIMEO
1518:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if ((conn->send_timeout != 0) &&
1519:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((s32_t)(sys_now() - conn->current_msg->msg.w.time_started) >= conn->send_timeout)) {
1520:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     write_finished = 1;
1521:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (conn->write_offset == 0) {
1522:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* nothing has been written */
1523:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = ERR_WOULDBLOCK;
1524:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->msg.w.len = 0;
1525:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1526:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* partial write */
1527:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err = ERR_OK;
1528:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->msg.w.len = conn->write_offset;
1529:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->write_offset = 0;
1530:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1531:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
1532:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO */
ARM GAS  /tmp/cc0Mfu8z.s 			page 53


1533:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   {
1534:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     dataptr = (const u8_t*)conn->current_msg->msg.w.dataptr + conn->write_offset;
 1207              		.loc 1 1534 5 is_stmt 1 discriminator 6 view .LVU367
 1208              		.loc 1 1534 52 is_stmt 0 discriminator 6 view .LVU368
 1209 008e 9668     		ldr	r6, [r2, #8]
 1210              		.loc 1 1534 67 discriminator 6 view .LVU369
 1211 0090 236A     		ldr	r3, [r4, #32]
 1212              		.loc 1 1534 13 discriminator 6 view .LVU370
 1213 0092 1E44     		add	r6, r6, r3
 1214              	.LVL115:
1535:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     diff = conn->current_msg->msg.w.len - conn->write_offset;
 1215              		.loc 1 1535 5 is_stmt 1 discriminator 6 view .LVU371
 1216              		.loc 1 1535 36 is_stmt 0 discriminator 6 view .LVU372
 1217 0094 D268     		ldr	r2, [r2, #12]
 1218              		.loc 1 1535 10 discriminator 6 view .LVU373
 1219 0096 D51A     		subs	r5, r2, r3
 1220              	.LVL116:
1536:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (diff > 0xffffUL) { /* max_u16_t */
 1221              		.loc 1 1536 5 is_stmt 1 discriminator 6 view .LVU374
 1222              		.loc 1 1536 8 is_stmt 0 discriminator 6 view .LVU375
 1223 0098 B5F5803F 		cmp	r5, #65536
 1224 009c 0FD3     		bcc	.L93
1537:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       len = 0xffff;
 1225              		.loc 1 1537 7 is_stmt 1 view .LVU376
 1226              	.LVL117:
1538:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       apiflags |= TCP_WRITE_FLAG_MORE;
 1227              		.loc 1 1538 7 view .LVU377
 1228              		.loc 1 1538 16 is_stmt 0 view .LVU378
 1229 009e 49F00209 		orr	r9, r9, #2
 1230              	.LVL118:
1537:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       len = 0xffff;
 1231              		.loc 1 1537 11 view .LVU379
 1232 00a2 4FF6FF75 		movw	r5, #65535
 1233              	.LVL119:
 1234              	.L94:
1539:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1540:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       len = (u16_t)diff;
1541:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1542:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     available = tcp_sndbuf(conn->pcb.tcp);
 1235              		.loc 1 1542 5 is_stmt 1 view .LVU380
 1236              		.loc 1 1542 17 is_stmt 0 view .LVU381
 1237 00a6 6168     		ldr	r1, [r4, #4]
 1238              		.loc 1 1542 15 view .LVU382
 1239 00a8 B1F86010 		ldrh	r1, [r1, #96]
 1240              	.LVL120:
1543:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (available < len) {
 1241              		.loc 1 1543 5 is_stmt 1 view .LVU383
 1242              		.loc 1 1543 8 is_stmt 0 view .LVU384
 1243 00ac 8D42     		cmp	r5, r1
 1244 00ae 0BD9     		bls	.L95
1544:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* don't try to write more than sendbuf */
1545:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       len = available;
 1245              		.loc 1 1545 7 is_stmt 1 view .LVU385
 1246              	.LVL121:
1546:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (dontblock) {
 1247              		.loc 1 1546 7 view .LVU386
 1248              		.loc 1 1546 10 is_stmt 0 view .LVU387
ARM GAS  /tmp/cc0Mfu8z.s 			page 54


 1249 00b0 3FB1     		cbz	r7, .L96
1547:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (!len) {
 1250              		.loc 1 1547 9 is_stmt 1 view .LVU388
 1251              		.loc 1 1547 12 is_stmt 0 view .LVU389
 1252 00b2 0029     		cmp	r1, #0
 1253 00b4 38D0     		beq	.L118
1545:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (dontblock) {
 1254              		.loc 1 1545 11 view .LVU390
 1255 00b6 0D46     		mov	r5, r1
 1256 00b8 06E0     		b	.L95
 1257              	.LVL122:
 1258              	.L117:
1515:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1259              		.loc 1 1515 44 view .LVU391
 1260 00ba 0027     		movs	r7, #0
 1261 00bc E6E7     		b	.L92
 1262              	.LVL123:
 1263              	.L93:
1540:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1264              		.loc 1 1540 7 is_stmt 1 view .LVU392
1540:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1265              		.loc 1 1540 11 is_stmt 0 view .LVU393
 1266 00be ADB2     		uxth	r5, r5
 1267              	.LVL124:
1540:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1268              		.loc 1 1540 11 view .LVU394
 1269 00c0 F1E7     		b	.L94
 1270              	.LVL125:
 1271              	.L96:
1548:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_WOULDBLOCK;
1549:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           goto err_mem;
1550:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1551:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1552:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         apiflags |= TCP_WRITE_FLAG_MORE;
 1272              		.loc 1 1552 9 is_stmt 1 view .LVU395
 1273              		.loc 1 1552 18 is_stmt 0 view .LVU396
 1274 00c2 49F00209 		orr	r9, r9, #2
 1275              	.LVL126:
1545:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (dontblock) {
 1276              		.loc 1 1545 11 view .LVU397
 1277 00c6 0D46     		mov	r5, r1
 1278              	.LVL127:
 1279              	.L95:
1553:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1554:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1555:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_ASSERT("lwip_netconn_do_writemore: invalid length!", ((conn->write_offset + len) <= conn->
 1280              		.loc 1 1555 5 is_stmt 1 view .LVU398
 1281              		.loc 1 1555 5 view .LVU399
 1282 00c8 2B44     		add	r3, r3, r5
 1283              	.LVL128:
 1284              		.loc 1 1555 5 is_stmt 0 view .LVU400
 1285 00ca 9A42     		cmp	r2, r3
 1286 00cc 24D3     		bcc	.L126
 1287              	.LVL129:
 1288              	.L98:
 1289              		.loc 1 1555 5 is_stmt 1 discriminator 3 view .LVU401
 1290              		.loc 1 1555 5 discriminator 3 view .LVU402
ARM GAS  /tmp/cc0Mfu8z.s 			page 55


1556:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = tcp_write(conn->pcb.tcp, dataptr, len, apiflags);
 1291              		.loc 1 1556 5 discriminator 3 view .LVU403
 1292              		.loc 1 1556 11 is_stmt 0 discriminator 3 view .LVU404
 1293 00ce 4B46     		mov	r3, r9
 1294 00d0 2A46     		mov	r2, r5
 1295 00d2 3146     		mov	r1, r6
 1296 00d4 6068     		ldr	r0, [r4, #4]
 1297 00d6 FFF7FEFF 		bl	tcp_write
 1298              	.LVL130:
 1299 00da 0646     		mov	r6, r0
 1300              	.LVL131:
1557:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* if OK or memory error, check available space */
1558:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if ((err == ERR_OK) || (err == ERR_MEM)) {
 1301              		.loc 1 1558 5 is_stmt 1 discriminator 3 view .LVU405
 1302              		.loc 1 1558 25 is_stmt 0 discriminator 3 view .LVU406
 1303 00dc 431C     		adds	r3, r0, #1
 1304 00de DBB2     		uxtb	r3, r3
 1305              		.loc 1 1558 8 discriminator 3 view .LVU407
 1306 00e0 012B     		cmp	r3, #1
 1307 00e2 24D9     		bls	.L97
 1308              	.LVL132:
 1309              	.L99:
1559:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** err_mem:
1560:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (dontblock && (len < conn->current_msg->msg.w.len)) {
1561:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* non-blocking write did not write everything: mark the pcb non-writable
1562:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            and let poll_tcp check writable space to mark the pcb writable again */
1563:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_SENDMINUS, len);
1564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->flags |= NETCONN_FLAG_CHECK_WRITESPACE;
1565:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if ((tcp_sndbuf(conn->pcb.tcp) <= TCP_SNDLOWAT) ||
1566:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                  (tcp_sndqueuelen(conn->pcb.tcp) >= TCP_SNDQUEUELOWAT)) {
1567:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* The queued byte- or pbuf-count exceeds the configured low-water limit,
1568:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            let select mark this pcb as non-writable. */
1569:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_SENDMINUS, len);
 1310              		.loc 1 1569 52 is_stmt 1 discriminator 3 view .LVU408
1570:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1571:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1572:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1573:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (err == ERR_OK) {
 1311              		.loc 1 1573 5 discriminator 3 view .LVU409
 1312              		.loc 1 1573 8 is_stmt 0 discriminator 3 view .LVU410
 1313 00e4 002E     		cmp	r6, #0
 1314 00e6 49D1     		bne	.L103
 1315              	.LBB10:
1574:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err_t out_err;
 1316              		.loc 1 1574 7 is_stmt 1 view .LVU411
1575:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->write_offset += len;
 1317              		.loc 1 1575 7 view .LVU412
 1318              		.loc 1 1575 26 is_stmt 0 view .LVU413
 1319 00e8 236A     		ldr	r3, [r4, #32]
 1320 00ea 1D44     		add	r5, r5, r3
 1321              	.LVL133:
 1322              		.loc 1 1575 26 view .LVU414
 1323 00ec 2562     		str	r5, [r4, #32]
1576:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if ((conn->write_offset == conn->current_msg->msg.w.len) || dontblock) {
 1324              		.loc 1 1576 7 is_stmt 1 view .LVU415
 1325              		.loc 1 1576 38 is_stmt 0 view .LVU416
 1326 00ee 636A     		ldr	r3, [r4, #36]
ARM GAS  /tmp/cc0Mfu8z.s 			page 56


 1327              		.loc 1 1576 58 view .LVU417
 1328 00f0 DA68     		ldr	r2, [r3, #12]
 1329              		.loc 1 1576 10 view .LVU418
 1330 00f2 9542     		cmp	r5, r2
 1331 00f4 00D0     		beq	.L104
 1332              		.loc 1 1576 64 discriminator 1 view .LVU419
 1333 00f6 0FB1     		cbz	r7, .L105
 1334              	.L104:
1577:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* return sent length */
1578:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.len = conn->write_offset;
 1335              		.loc 1 1578 9 is_stmt 1 view .LVU420
 1336              		.loc 1 1578 38 is_stmt 0 view .LVU421
 1337 00f8 DD60     		str	r5, [r3, #12]
1579:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* everything was written */
1580:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1338              		.loc 1 1580 9 is_stmt 1 view .LVU422
 1339              	.LVL134:
 1340              		.loc 1 1580 24 is_stmt 0 view .LVU423
 1341 00fa 0127     		movs	r7, #1
 1342              	.LVL135:
 1343              	.L105:
1581:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1582:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       out_err = tcp_output(conn->pcb.tcp);
 1344              		.loc 1 1582 7 is_stmt 1 view .LVU424
 1345              		.loc 1 1582 17 is_stmt 0 view .LVU425
 1346 00fc 6068     		ldr	r0, [r4, #4]
 1347 00fe FFF7FEFF 		bl	tcp_output
 1348              	.LVL136:
1583:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (ERR_IS_FATAL(out_err) || (out_err == ERR_RTE)) {
 1349              		.loc 1 1583 7 is_stmt 1 view .LVU426
 1350              		.loc 1 1583 10 is_stmt 0 view .LVU427
 1351 0102 10F10C0F 		cmn	r0, #12
 1352 0106 34DB     		blt	.L106
 1353              		.loc 1 1583 33 discriminator 1 view .LVU428
 1354 0108 10F1040F 		cmn	r0, #4
 1355 010c 31D0     		beq	.L106
 1356              		.loc 1 1583 33 discriminator 1 view .LVU429
 1357              	.LBE10:
1584:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* If tcp_output fails with fatal error or no route is found,
1585:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            don't try writing any more but return the error
1586:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            to the application thread. */
1587:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = out_err;
1588:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
1589:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.len = 0;
1590:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1591:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else if (err == ERR_MEM) {
1592:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* If ERR_MEM, we wait for sent_tcp or poll_tcp to be called.
1593:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          For blocking sockets, we do NOT return to the application
1594:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          thread, since ERR_MEM is only a temporary error! Non-blocking
1595:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          will remain non-writable until sent_tcp/poll_tcp is called */
1596:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1597:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* tcp_write returned ERR_MEM, try tcp_output anyway */
1598:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       err_t out_err = tcp_output(conn->pcb.tcp);
1599:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (ERR_IS_FATAL(out_err) || (out_err == ERR_RTE)) {
1600:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* If tcp_output fails with fatal error or no route is found,
1601:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            don't try writing any more but return the error
1602:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            to the application thread. */
ARM GAS  /tmp/cc0Mfu8z.s 			page 57


1603:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = out_err;
1604:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
1605:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.len = 0;
1606:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (dontblock) {
1607:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* non-blocking write is done on ERR_MEM */
1608:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         err = ERR_WOULDBLOCK;
1609:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
1610:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.len = 0;
1611:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1612:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1613:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* On errors != ERR_MEM, we don't try writing any more but return
1614:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****          the error to the application thread. */
1615:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       write_finished = 1;
1616:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->msg.w.len = 0;
1617:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1618:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1619:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (write_finished) {
 1358              		.loc 1 1619 3 is_stmt 1 view .LVU430
 1359              		.loc 1 1619 6 is_stmt 0 view .LVU431
 1360 010e 002F     		cmp	r7, #0
 1361 0110 3AD1     		bne	.L108
 1362              	.LVL137:
 1363              	.L112:
1620:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* everything was written: set back connection state
1621:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        and back to application task */
1622:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_sem_t* op_completed_sem = LWIP_API_MSG_SEM(conn->current_msg);
1623:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
1624:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg = NULL;
1625:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->write_offset = 0;
1626:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->state = NETCONN_NONE;
1627:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     NETCONN_SET_SAFE_ERR(conn, err);
1628:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1629:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (delayed)
1630:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
1631:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     {
1632:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       sys_sem_signal(op_completed_sem);
1633:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1634:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1635:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1636:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   else {
1637:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_MEM;
 1364              		.loc 1 1637 5 is_stmt 1 view .LVU432
 1365              		.loc 1 1637 12 is_stmt 0 view .LVU433
 1366 0112 4FF0FF30 		mov	r0, #-1
 1367 0116 4FE0     		b	.L115
 1368              	.LVL138:
 1369              	.L126:
1555:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = tcp_write(conn->pcb.tcp, dataptr, len, apiflags);
 1370              		.loc 1 1555 5 is_stmt 1 discriminator 1 view .LVU434
1555:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = tcp_write(conn->pcb.tcp, dataptr, len, apiflags);
 1371              		.loc 1 1555 5 discriminator 1 view .LVU435
 1372 0118 364B     		ldr	r3, .L129
 1373 011a 40F21362 		movw	r2, #1555
 1374              	.LVL139:
1555:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = tcp_write(conn->pcb.tcp, dataptr, len, apiflags);
 1375              		.loc 1 1555 5 is_stmt 0 discriminator 1 view .LVU436
 1376 011e 3C49     		ldr	r1, .L129+28
ARM GAS  /tmp/cc0Mfu8z.s 			page 58


 1377              	.LVL140:
1555:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = tcp_write(conn->pcb.tcp, dataptr, len, apiflags);
 1378              		.loc 1 1555 5 discriminator 1 view .LVU437
 1379 0120 3648     		ldr	r0, .L129+8
 1380 0122 FFF7FEFF 		bl	printf
 1381              	.LVL141:
1555:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     err = tcp_write(conn->pcb.tcp, dataptr, len, apiflags);
 1382              		.loc 1 1555 5 discriminator 1 view .LVU438
 1383 0126 D2E7     		b	.L98
 1384              	.LVL142:
 1385              	.L118:
1545:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (dontblock) {
 1386              		.loc 1 1545 11 view .LVU439
 1387 0128 0D46     		mov	r5, r1
1548:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           goto err_mem;
 1388              		.loc 1 1548 15 view .LVU440
 1389 012a 6FF00606 		mvn	r6, #6
 1390              	.LVL143:
 1391              	.L97:
1560:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* non-blocking write did not write everything: mark the pcb non-writable
 1392              		.loc 1 1560 7 is_stmt 1 view .LVU441
1560:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* non-blocking write did not write everything: mark the pcb non-writable
 1393              		.loc 1 1560 10 is_stmt 0 view .LVU442
 1394 012e 77B1     		cbz	r7, .L100
1560:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* non-blocking write did not write everything: mark the pcb non-writable
 1395              		.loc 1 1560 35 discriminator 1 view .LVU443
 1396 0130 636A     		ldr	r3, [r4, #36]
1560:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* non-blocking write did not write everything: mark the pcb non-writable
 1397              		.loc 1 1560 55 discriminator 1 view .LVU444
 1398 0132 DB68     		ldr	r3, [r3, #12]
1560:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* non-blocking write did not write everything: mark the pcb non-writable
 1399              		.loc 1 1560 21 discriminator 1 view .LVU445
 1400 0134 9D42     		cmp	r5, r3
 1401 0136 0AD2     		bcs	.L100
1563:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->flags |= NETCONN_FLAG_CHECK_WRITESPACE;
 1402              		.loc 1 1563 9 is_stmt 1 view .LVU446
 1403 0138 A36A     		ldr	r3, [r4, #40]
 1404 013a 1BB1     		cbz	r3, .L101
1563:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->flags |= NETCONN_FLAG_CHECK_WRITESPACE;
 1405              		.loc 1 1563 9 discriminator 1 view .LVU447
 1406 013c 2A46     		mov	r2, r5
 1407 013e 0321     		movs	r1, #3
 1408 0140 2046     		mov	r0, r4
 1409 0142 9847     		blx	r3
 1410              	.LVL144:
 1411              	.L101:
1563:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->flags |= NETCONN_FLAG_CHECK_WRITESPACE;
 1412              		.loc 1 1563 52 discriminator 3 view .LVU448
1564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if ((tcp_sndbuf(conn->pcb.tcp) <= TCP_SNDLOWAT) ||
 1413              		.loc 1 1564 9 discriminator 3 view .LVU449
1564:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if ((tcp_sndbuf(conn->pcb.tcp) <= TCP_SNDLOWAT) ||
 1414              		.loc 1 1564 21 is_stmt 0 discriminator 3 view .LVU450
 1415 0144 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 1416 0146 43F01003 		orr	r3, r3, #16
 1417 014a 2377     		strb	r3, [r4, #28]
 1418 014c CAE7     		b	.L99
 1419              	.L100:
ARM GAS  /tmp/cc0Mfu8z.s 			page 59


1565:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                  (tcp_sndqueuelen(conn->pcb.tcp) >= TCP_SNDQUEUELOWAT)) {
 1420              		.loc 1 1565 14 is_stmt 1 view .LVU451
1565:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                  (tcp_sndqueuelen(conn->pcb.tcp) >= TCP_SNDQUEUELOWAT)) {
 1421              		.loc 1 1565 19 is_stmt 0 view .LVU452
 1422 014e 6368     		ldr	r3, [r4, #4]
 1423 0150 B3F86020 		ldrh	r2, [r3, #96]
1565:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                  (tcp_sndqueuelen(conn->pcb.tcp) >= TCP_SNDQUEUELOWAT)) {
 1424              		.loc 1 1565 17 view .LVU453
 1425 0154 B2F5866F 		cmp	r2, #1072
 1426 0158 03D3     		bcc	.L102
1566:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* The queued byte- or pbuf-count exceeds the configured low-water limit,
 1427              		.loc 1 1566 19 discriminator 1 view .LVU454
 1428 015a B3F86230 		ldrh	r3, [r3, #98]
1565:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                  (tcp_sndqueuelen(conn->pcb.tcp) >= TCP_SNDQUEUELOWAT)) {
 1429              		.loc 1 1565 62 discriminator 1 view .LVU455
 1430 015e 042B     		cmp	r3, #4
 1431 0160 C0D9     		bls	.L99
 1432              	.L102:
1569:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1433              		.loc 1 1569 9 is_stmt 1 view .LVU456
 1434 0162 A36A     		ldr	r3, [r4, #40]
 1435 0164 002B     		cmp	r3, #0
 1436 0166 BDD0     		beq	.L99
1569:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1437              		.loc 1 1569 9 discriminator 1 view .LVU457
 1438 0168 2A46     		mov	r2, r5
 1439 016a 0321     		movs	r1, #3
 1440 016c 2046     		mov	r0, r4
 1441 016e 9847     		blx	r3
 1442              	.LVL145:
 1443 0170 B8E7     		b	.L99
 1444              	.LVL146:
 1445              	.L106:
 1446              	.LBB11:
1587:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1447              		.loc 1 1587 9 view .LVU458
1588:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.len = 0;
 1448              		.loc 1 1588 9 view .LVU459
1589:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1449              		.loc 1 1589 9 view .LVU460
1589:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1450              		.loc 1 1589 13 is_stmt 0 view .LVU461
 1451 0172 636A     		ldr	r3, [r4, #36]
1589:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1452              		.loc 1 1589 38 view .LVU462
 1453 0174 0022     		movs	r2, #0
 1454 0176 DA60     		str	r2, [r3, #12]
1589:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1455              		.loc 1 1589 38 view .LVU463
 1456              	.LBE11:
1619:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* everything was written: set back connection state
 1457              		.loc 1 1619 3 is_stmt 1 view .LVU464
 1458              	.LBB12:
1587:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1459              		.loc 1 1587 13 is_stmt 0 view .LVU465
 1460 0178 0646     		mov	r6, r0
 1461 017a 05E0     		b	.L108
ARM GAS  /tmp/cc0Mfu8z.s 			page 60


 1462              	.LVL147:
 1463              	.L103:
1587:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1464              		.loc 1 1587 13 view .LVU466
 1465              	.LBE12:
1591:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* If ERR_MEM, we wait for sent_tcp or poll_tcp to be called.
 1466              		.loc 1 1591 12 is_stmt 1 view .LVU467
1591:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* If ERR_MEM, we wait for sent_tcp or poll_tcp to be called.
 1467              		.loc 1 1591 15 is_stmt 0 view .LVU468
 1468 017c B6F1FF3F 		cmp	r6, #-1
 1469 0180 1CD0     		beq	.L127
1615:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->msg.w.len = 0;
 1470              		.loc 1 1615 7 is_stmt 1 view .LVU469
 1471              	.LVL148:
1616:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1472              		.loc 1 1616 7 view .LVU470
1616:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1473              		.loc 1 1616 11 is_stmt 0 view .LVU471
 1474 0182 636A     		ldr	r3, [r4, #36]
1616:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1475              		.loc 1 1616 36 view .LVU472
 1476 0184 0022     		movs	r2, #0
 1477 0186 DA60     		str	r2, [r3, #12]
1619:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* everything was written: set back connection state
 1478              		.loc 1 1619 3 is_stmt 1 view .LVU473
 1479              	.LVL149:
 1480              	.L108:
 1481              	.LBB13:
1622:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
 1482              		.loc 1 1622 5 view .LVU474
1622:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
 1483              		.loc 1 1622 35 is_stmt 0 view .LVU475
 1484 0188 636A     		ldr	r3, [r4, #36]
 1485 018a 1868     		ldr	r0, [r3]
1622:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
 1486              		.loc 1 1622 16 view .LVU476
 1487 018c 00F10C05 		add	r5, r0, #12
 1488              	.LVL150:
1623:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg = NULL;
 1489              		.loc 1 1623 5 is_stmt 1 view .LVU477
1623:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg = NULL;
 1490              		.loc 1 1623 28 is_stmt 0 view .LVU478
 1491 0190 1E71     		strb	r6, [r3, #4]
1624:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->write_offset = 0;
 1492              		.loc 1 1624 5 is_stmt 1 view .LVU479
1624:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->write_offset = 0;
 1493              		.loc 1 1624 23 is_stmt 0 view .LVU480
 1494 0192 0023     		movs	r3, #0
 1495 0194 6362     		str	r3, [r4, #36]
1625:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->state = NETCONN_NONE;
 1496              		.loc 1 1625 5 is_stmt 1 view .LVU481
1625:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->state = NETCONN_NONE;
 1497              		.loc 1 1625 24 is_stmt 0 view .LVU482
 1498 0196 2362     		str	r3, [r4, #32]
1626:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     NETCONN_SET_SAFE_ERR(conn, err);
 1499              		.loc 1 1626 5 is_stmt 1 view .LVU483
1626:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     NETCONN_SET_SAFE_ERR(conn, err);
ARM GAS  /tmp/cc0Mfu8z.s 			page 61


 1500              		.loc 1 1626 17 is_stmt 0 view .LVU484
 1501 0198 6370     		strb	r3, [r4, #1]
1627:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 1502              		.loc 1 1627 5 is_stmt 1 view .LVU485
1627:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 1503              		.loc 1 1627 5 view .LVU486
 1504 019a 4CB1     		cbz	r4, .L113
 1505              	.LBB14:
1627:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 1506              		.loc 1 1627 5 discriminator 1 view .LVU487
1627:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 1507              		.loc 1 1627 5 discriminator 1 view .LVU488
 1508 019c FFF7FEFF 		bl	sys_arch_protect
 1509              	.LVL151:
1627:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 1510              		.loc 1 1627 5 discriminator 1 view .LVU489
 1511 01a0 94F90830 		ldrsb	r3, [r4, #8]
 1512 01a4 13F10C0F 		cmn	r3, #12
 1513 01a8 00DB     		blt	.L114
1627:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 1514              		.loc 1 1627 5 discriminator 3 view .LVU490
 1515 01aa 2672     		strb	r6, [r4, #8]
 1516              	.L114:
1627:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 1517              		.loc 1 1627 5 discriminator 5 view .LVU491
 1518 01ac FFF7FEFF 		bl	sys_arch_unprotect
 1519              	.LVL152:
 1520              	.L113:
1627:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 1521              		.loc 1 1627 5 is_stmt 0 discriminator 5 view .LVU492
 1522              	.LBE14:
1627:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 1523              		.loc 1 1627 5 is_stmt 1 discriminator 6 view .LVU493
1627:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 1524              		.loc 1 1627 36 discriminator 6 view .LVU494
1629:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 1525              		.loc 1 1629 5 discriminator 6 view .LVU495
1629:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 1526              		.loc 1 1629 8 is_stmt 0 discriminator 6 view .LVU496
 1527 01b0 B8F1000F 		cmp	r8, #0
 1528 01b4 18D1     		bne	.L128
 1529              	.LBE13:
1638:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1639:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
1640:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return ERR_OK;
 1530              		.loc 1 1640 10 view .LVU497
 1531 01b6 0020     		movs	r0, #0
 1532              	.LVL153:
 1533              	.L115:
1641:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 1534              		.loc 1 1641 1 view .LVU498
 1535 01b8 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 1536              	.LVL154:
 1537              	.L127:
 1538              	.LBB15:
1598:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (ERR_IS_FATAL(out_err) || (out_err == ERR_RTE)) {
 1539              		.loc 1 1598 7 is_stmt 1 view .LVU499
ARM GAS  /tmp/cc0Mfu8z.s 			page 62


1598:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (ERR_IS_FATAL(out_err) || (out_err == ERR_RTE)) {
 1540              		.loc 1 1598 23 is_stmt 0 view .LVU500
 1541 01bc 6068     		ldr	r0, [r4, #4]
 1542 01be FFF7FEFF 		bl	tcp_output
 1543              	.LVL155:
 1544 01c2 0646     		mov	r6, r0
 1545              	.LVL156:
1599:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* If tcp_output fails with fatal error or no route is found,
 1546              		.loc 1 1599 7 is_stmt 1 view .LVU501
1599:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* If tcp_output fails with fatal error or no route is found,
 1547              		.loc 1 1599 10 is_stmt 0 view .LVU502
 1548 01c4 10F10C0F 		cmn	r0, #12
 1549 01c8 0ADB     		blt	.L110
1599:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* If tcp_output fails with fatal error or no route is found,
 1550              		.loc 1 1599 33 discriminator 1 view .LVU503
 1551 01ca 10F1040F 		cmn	r0, #4
 1552 01ce 07D0     		beq	.L110
1606:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* non-blocking write is done on ERR_MEM */
 1553              		.loc 1 1606 14 is_stmt 1 view .LVU504
1606:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* non-blocking write is done on ERR_MEM */
 1554              		.loc 1 1606 17 is_stmt 0 view .LVU505
 1555 01d0 002F     		cmp	r7, #0
 1556 01d2 9ED0     		beq	.L112
1608:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1557              		.loc 1 1608 9 is_stmt 1 view .LVU506
 1558              	.LVL157:
1609:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.len = 0;
 1559              		.loc 1 1609 9 view .LVU507
1610:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1560              		.loc 1 1610 9 view .LVU508
1610:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1561              		.loc 1 1610 13 is_stmt 0 view .LVU509
 1562 01d4 636A     		ldr	r3, [r4, #36]
1610:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1563              		.loc 1 1610 38 view .LVU510
 1564 01d6 0022     		movs	r2, #0
 1565 01d8 DA60     		str	r2, [r3, #12]
1610:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1566              		.loc 1 1610 38 view .LVU511
 1567              	.LBE15:
1619:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* everything was written: set back connection state
 1568              		.loc 1 1619 3 is_stmt 1 view .LVU512
 1569              	.LBB16:
1608:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1570              		.loc 1 1608 13 is_stmt 0 view .LVU513
 1571 01da 6FF00606 		mvn	r6, #6
 1572 01de D3E7     		b	.L108
 1573              	.LVL158:
 1574              	.L110:
1603:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_finished = 1;
 1575              		.loc 1 1603 9 is_stmt 1 view .LVU514
1604:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         conn->current_msg->msg.w.len = 0;
 1576              		.loc 1 1604 9 view .LVU515
1605:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (dontblock) {
 1577              		.loc 1 1605 9 view .LVU516
1605:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (dontblock) {
 1578              		.loc 1 1605 13 is_stmt 0 view .LVU517
ARM GAS  /tmp/cc0Mfu8z.s 			page 63


 1579 01e0 636A     		ldr	r3, [r4, #36]
1605:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (dontblock) {
 1580              		.loc 1 1605 38 view .LVU518
 1581 01e2 0022     		movs	r2, #0
 1582 01e4 DA60     		str	r2, [r3, #12]
1605:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (dontblock) {
 1583              		.loc 1 1605 38 view .LVU519
 1584              	.LBE16:
1619:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* everything was written: set back connection state
 1585              		.loc 1 1619 3 is_stmt 1 view .LVU520
 1586 01e6 CFE7     		b	.L108
 1587              	.LVL159:
 1588              	.L128:
 1589              	.LBB17:
1632:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1590              		.loc 1 1632 7 view .LVU521
 1591 01e8 2846     		mov	r0, r5
 1592 01ea FFF7FEFF 		bl	sys_sem_signal
 1593              	.LVL160:
 1594              	.LBE17:
1640:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 1595              		.loc 1 1640 10 is_stmt 0 view .LVU522
 1596 01ee 0020     		movs	r0, #0
 1597 01f0 E2E7     		b	.L115
 1598              	.L130:
 1599 01f2 00BF     		.align	2
 1600              	.L129:
 1601 01f4 00000000 		.word	.LC0
 1602 01f8 00000000 		.word	.LC6
 1603 01fc 54000000 		.word	.LC2
 1604 0200 00000000 		.word	.LC13
 1605 0204 10000000 		.word	.LC7
 1606 0208 20000000 		.word	.LC14
 1607 020c 38000000 		.word	.LC15
 1608 0210 6C000000 		.word	.LC16
 1609              		.cfi_endproc
 1610              	.LFE123:
 1612              		.section	.rodata.lwip_netconn_do_close_internal.str1.4,"aMS",%progbits,1
 1613              		.align	2
 1614              	.LC17:
 1615 0000 696E7661 		.ascii	"invalid conn\000"
 1615      6C696420 
 1615      636F6E6E 
 1615      00
 1616 000d 000000   		.align	2
 1617              	.LC18:
 1618 0010 74686973 		.ascii	"this is for tcp netconns only\000"
 1618      20697320 
 1618      666F7220 
 1618      74637020 
 1618      6E657463 
 1619 002e 0000     		.align	2
 1620              	.LC19:
 1621 0030 636F6E6E 		.ascii	"conn must be in state NETCONN_CLOSE\000"
 1621      206D7573 
 1621      74206265 
 1621      20696E20 
ARM GAS  /tmp/cc0Mfu8z.s 			page 64


 1621      73746174 
 1622              		.align	2
 1623              	.LC20:
 1624 0054 70636220 		.ascii	"pcb already closed\000"
 1624      616C7265 
 1624      61647920 
 1624      636C6F73 
 1624      656400
 1625 0067 00       		.align	2
 1626              	.LC21:
 1627 0068 436C6F73 		.ascii	"Closing a listen pcb may not fail!\000"
 1627      696E6720 
 1627      61206C69 
 1627      7374656E 
 1627      20706362 
 1628              		.section	.text.lwip_netconn_do_close_internal,"ax",%progbits
 1629              		.align	1
 1630              		.syntax unified
 1631              		.thumb
 1632              		.thumb_func
 1634              	lwip_netconn_do_close_internal:
 1635              	.LVL161:
 1636              	.LFB114:
 826:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
 1637              		.loc 1 826 1 is_stmt 1 view -0
 1638              		.cfi_startproc
 1639              		@ args = 0, pretend = 0, frame = 0
 1640              		@ frame_needed = 0, uses_anonymous_args = 0
 826:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   err_t err;
 1641              		.loc 1 826 1 is_stmt 0 view .LVU524
 1642 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 1643              	.LCFI7:
 1644              		.cfi_def_cfa_offset 32
 1645              		.cfi_offset 4, -32
 1646              		.cfi_offset 5, -28
 1647              		.cfi_offset 6, -24
 1648              		.cfi_offset 7, -20
 1649              		.cfi_offset 8, -16
 1650              		.cfi_offset 9, -12
 1651              		.cfi_offset 10, -8
 1652              		.cfi_offset 14, -4
 1653 0004 8846     		mov	r8, r1
 827:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t shut, shut_rx, shut_tx, close;
 1654              		.loc 1 827 3 is_stmt 1 view .LVU525
 828:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u8_t close_finished = 0;
 1655              		.loc 1 828 3 view .LVU526
 829:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct tcp_pcb* tpcb;
 1656              		.loc 1 829 3 view .LVU527
 1657              	.LVL162:
 830:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
 1658              		.loc 1 830 3 view .LVU528
 835:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1659              		.loc 1 835 3 view .LVU529
 835:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1660              		.loc 1 835 3 view .LVU530
 1661 0006 0446     		mov	r4, r0
 1662 0008 0028     		cmp	r0, #0
ARM GAS  /tmp/cc0Mfu8z.s 			page 65


 1663 000a 5CD0     		beq	.L160
 1664              	.LVL163:
 1665              	.L132:
 835:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1666              		.loc 1 835 3 discriminator 3 view .LVU531
 835:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1667              		.loc 1 835 3 discriminator 3 view .LVU532
 836:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 1668              		.loc 1 836 3 discriminator 3 view .LVU533
 836:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 1669              		.loc 1 836 3 discriminator 3 view .LVU534
 1670 000c 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 1671 000e 03F0F003 		and	r3, r3, #240
 1672 0012 102B     		cmp	r3, #16
 1673 0014 5FD1     		bne	.L161
 1674              	.L133:
 836:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 1675              		.loc 1 836 3 discriminator 3 view .LVU535
 836:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 1676              		.loc 1 836 3 discriminator 3 view .LVU536
 837:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 1677              		.loc 1 837 3 discriminator 3 view .LVU537
 837:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 1678              		.loc 1 837 3 discriminator 3 view .LVU538
 1679 0016 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 1680 0018 042B     		cmp	r3, #4
 1681 001a 64D1     		bne	.L162
 1682              	.L134:
 837:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 1683              		.loc 1 837 3 discriminator 3 view .LVU539
 837:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 1684              		.loc 1 837 3 discriminator 3 view .LVU540
 838:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1685              		.loc 1 838 3 discriminator 3 view .LVU541
 838:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1686              		.loc 1 838 3 discriminator 3 view .LVU542
 1687 001c 6368     		ldr	r3, [r4, #4]
 1688 001e 002B     		cmp	r3, #0
 1689 0020 69D0     		beq	.L163
 1690              	.L135:
 838:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1691              		.loc 1 838 3 discriminator 3 view .LVU543
 838:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1692              		.loc 1 838 3 discriminator 3 view .LVU544
 839:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1693              		.loc 1 839 3 discriminator 3 view .LVU545
 839:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1694              		.loc 1 839 3 discriminator 3 view .LVU546
 1695 0022 636A     		ldr	r3, [r4, #36]
 1696 0024 002B     		cmp	r3, #0
 1697 0026 6ED0     		beq	.L164
 1698              	.L136:
 839:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1699              		.loc 1 839 3 discriminator 3 view .LVU547
 839:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1700              		.loc 1 839 3 discriminator 3 view .LVU548
 841:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut = conn->current_msg->msg.sd.shut;
ARM GAS  /tmp/cc0Mfu8z.s 			page 66


 1701              		.loc 1 841 3 discriminator 3 view .LVU549
 841:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut = conn->current_msg->msg.sd.shut;
 1702              		.loc 1 841 8 is_stmt 0 discriminator 3 view .LVU550
 1703 0028 6668     		ldr	r6, [r4, #4]
 1704              	.LVL164:
 842:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut_rx = shut & NETCONN_SHUT_RD;
 1705              		.loc 1 842 3 is_stmt 1 discriminator 3 view .LVU551
 842:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut_rx = shut & NETCONN_SHUT_RD;
 1706              		.loc 1 842 14 is_stmt 0 discriminator 3 view .LVU552
 1707 002a 636A     		ldr	r3, [r4, #36]
 842:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut_rx = shut & NETCONN_SHUT_RD;
 1708              		.loc 1 842 8 discriminator 3 view .LVU553
 1709 002c 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 1710              	.LVL165:
 843:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut_tx = shut & NETCONN_SHUT_WR;
 1711              		.loc 1 843 3 is_stmt 1 discriminator 3 view .LVU554
 843:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   shut_tx = shut & NETCONN_SHUT_WR;
 1712              		.loc 1 843 11 is_stmt 0 discriminator 3 view .LVU555
 1713 002e 03F0010A 		and	r10, r3, #1
 1714              	.LVL166:
 844:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* shutting down both ends is the same as closing
 1715              		.loc 1 844 3 is_stmt 1 discriminator 3 view .LVU556
 844:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* shutting down both ends is the same as closing
 1716              		.loc 1 844 11 is_stmt 0 discriminator 3 view .LVU557
 1717 0032 03F00209 		and	r9, r3, #2
 1718              	.LVL167:
 847:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     close = 1;
 1719              		.loc 1 847 3 is_stmt 1 discriminator 3 view .LVU558
 847:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     close = 1;
 1720              		.loc 1 847 6 is_stmt 0 discriminator 3 view .LVU559
 1721 0036 032B     		cmp	r3, #3
 1722 0038 10D0     		beq	.L137
 849:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****              ((tpcb->state == FIN_WAIT_1) ||
 1723              		.loc 1 849 10 is_stmt 1 view .LVU560
 849:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****              ((tpcb->state == FIN_WAIT_1) ||
 1724              		.loc 1 849 13 is_stmt 0 view .LVU561
 1725 003a BAF1000F 		cmp	r10, #0
 1726 003e 06D0     		beq	.L138
 850:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (tpcb->state == FIN_WAIT_2) ||
 1727              		.loc 1 850 20 discriminator 1 view .LVU562
 1728 0040 327D     		ldrb	r2, [r6, #20]	@ zero_extendqisi2
 850:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (tpcb->state == FIN_WAIT_2) ||
 1729              		.loc 1 850 43 discriminator 1 view .LVU563
 1730 0042 531F     		subs	r3, r2, #5
 1731              	.LVL168:
 850:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (tpcb->state == FIN_WAIT_2) ||
 1732              		.loc 1 850 43 discriminator 1 view .LVU564
 1733 0044 DBB2     		uxtb	r3, r3
 849:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****              ((tpcb->state == FIN_WAIT_1) ||
 1734              		.loc 1 849 22 discriminator 1 view .LVU565
 1735 0046 012B     		cmp	r3, #1
 1736 0048 08D9     		bls	.L137
 851:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               (tpcb->state == CLOSING))) {
 1737              		.loc 1 851 43 view .LVU566
 1738 004a 082A     		cmp	r2, #8
 1739 004c 06D0     		beq	.L137
 1740              	.L138:
ARM GAS  /tmp/cc0Mfu8z.s 			page 67


 854:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     close = 1;
 1741              		.loc 1 854 10 is_stmt 1 view .LVU567
 854:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     close = 1;
 1742              		.loc 1 854 13 is_stmt 0 view .LVU568
 1743 004e B9F1000F 		cmp	r9, #0
 1744 0052 60D0     		beq	.L158
 854:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     close = 1;
 1745              		.loc 1 854 31 discriminator 1 view .LVU569
 1746 0054 B77E     		ldrb	r7, [r6, #26]	@ zero_extendqisi2
 854:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     close = 1;
 1747              		.loc 1 854 22 discriminator 1 view .LVU570
 1748 0056 17F01007 		ands	r7, r7, #16
 1749 005a 04D0     		beq	.L139
 1750              	.L137:
 862:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 1751              		.loc 1 862 5 is_stmt 1 view .LVU571
 1752 005c 0021     		movs	r1, #0
 1753 005e 3046     		mov	r0, r6
 1754 0060 FFF7FEFF 		bl	tcp_arg
 1755              	.LVL169:
 862:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 1756              		.loc 1 862 5 is_stmt 0 view .LVU572
 1757 0064 0127     		movs	r7, #1
 1758              	.L139:
 864:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_accept(tpcb, NULL);
 1759              		.loc 1 864 3 is_stmt 1 view .LVU573
 864:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_accept(tpcb, NULL);
 1760              		.loc 1 864 11 is_stmt 0 view .LVU574
 1761 0066 337D     		ldrb	r3, [r6, #20]	@ zero_extendqisi2
 864:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_accept(tpcb, NULL);
 1762              		.loc 1 864 6 view .LVU575
 1763 0068 012B     		cmp	r3, #1
 1764 006a 56D0     		beq	.L165
 868:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_recv(tpcb, NULL);
 1765              		.loc 1 868 5 is_stmt 1 view .LVU576
 868:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_recv(tpcb, NULL);
 1766              		.loc 1 868 8 is_stmt 0 view .LVU577
 1767 006c BAF1000F 		cmp	r10, #0
 1768 0070 58D1     		bne	.L166
 1769              	.L142:
 872:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_sent(tpcb, NULL);
 1770              		.loc 1 872 5 is_stmt 1 view .LVU578
 872:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_sent(tpcb, NULL);
 1771              		.loc 1 872 8 is_stmt 0 view .LVU579
 1772 0072 B9F1000F 		cmp	r9, #0
 1773 0076 5ED1     		bne	.L167
 1774              	.L143:
 875:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_poll(tpcb, NULL, 0);
 1775              		.loc 1 875 5 is_stmt 1 view .LVU580
 875:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_poll(tpcb, NULL, 0);
 1776              		.loc 1 875 8 is_stmt 0 view .LVU581
 1777 0078 002F     		cmp	r7, #0
 1778 007a 61D1     		bne	.L168
 1779              	.L141:
 881:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
 1780              		.loc 1 881 3 is_stmt 1 view .LVU582
 881:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SO_LINGER
ARM GAS  /tmp/cc0Mfu8z.s 			page 68


 1781              		.loc 1 881 6 is_stmt 0 view .LVU583
 1782 007c 002F     		cmp	r7, #0
 1783 007e 69D0     		beq	.L144
 911:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1784              		.loc 1 911 7 is_stmt 1 view .LVU584
 911:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1785              		.loc 1 911 13 is_stmt 0 view .LVU585
 1786 0080 3046     		mov	r0, r6
 1787 0082 FFF7FEFF 		bl	tcp_close
 1788              	.LVL170:
 1789 0086 0546     		mov	r5, r0
 1790              	.LVL171:
 1791              	.L145:
 916:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     close_finished = 1;
 1792              		.loc 1 916 3 is_stmt 1 view .LVU586
 916:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     close_finished = 1;
 1793              		.loc 1 916 6 is_stmt 0 view .LVU587
 1794 0088 002D     		cmp	r5, #0
 1795 008a 6CD0     		beq	.L146
 926:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Closing failed because of memory shortage, try again later. Even for
 1796              		.loc 1 926 5 is_stmt 1 view .LVU588
 926:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Closing failed because of memory shortage, try again later. Even for
 1797              		.loc 1 926 8 is_stmt 0 view .LVU589
 1798 008c B5F1FF3F 		cmp	r5, #-1
 1799 0090 69D1     		bne	.L146
 947:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO || LWIP_SO_LINGER */
 1800              		.loc 1 947 7 is_stmt 1 view .LVU590
 947:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO || LWIP_SO_LINGER */
 1801              		.loc 1 947 15 is_stmt 0 view .LVU591
 1802 0092 636A     		ldr	r3, [r4, #36]
 947:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO || LWIP_SO_LINGER */
 1803              		.loc 1 947 36 view .LVU592
 1804 0094 5B7A     		ldrb	r3, [r3, #9]	@ zero_extendqisi2
 947:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SO_SNDTIMEO || LWIP_SO_LINGER */
 1805              		.loc 1 947 10 view .LVU593
 1806 0096 002B     		cmp	r3, #0
 1807 0098 63D0     		beq	.L169
 961:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Closing done (succeeded, non-memory error, nonblocking error or timeout) */
 1808              		.loc 1 961 3 is_stmt 1 view .LVU594
 992:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Closing failed and we want to wait: restore some of the callbacks */
 1809              		.loc 1 992 3 view .LVU595
 995:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
 1810              		.loc 1 995 5 view .LVU596
 995:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
 1811              		.loc 1 995 5 view .LVU597
 1812 009a 337D     		ldrb	r3, [r6, #20]	@ zero_extendqisi2
 1813 009c 012B     		cmp	r3, #1
 1814 009e 00F09F80 		beq	.L170
 1815              	.L149:
 995:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
 1816              		.loc 1 995 5 discriminator 3 view .LVU598
 995:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
 1817              		.loc 1 995 5 discriminator 3 view .LVU599
 996:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_sent(tpcb, sent_tcp);
 1818              		.loc 1 996 5 discriminator 3 view .LVU600
 996:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_sent(tpcb, sent_tcp);
 1819              		.loc 1 996 8 is_stmt 0 discriminator 3 view .LVU601
ARM GAS  /tmp/cc0Mfu8z.s 			page 69


 1820 00a2 B9F1000F 		cmp	r9, #0
 1821 00a6 40F0A380 		bne	.L171
 1822              	.L157:
1000:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_err(tpcb, err_tcp);
 1823              		.loc 1 1000 5 is_stmt 1 view .LVU602
 1824 00aa 0122     		movs	r2, #1
 1825 00ac 5349     		ldr	r1, .L174
 1826 00ae 3046     		mov	r0, r6
 1827 00b0 FFF7FEFF 		bl	tcp_poll
 1828              	.LVL172:
1001:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_arg(tpcb, conn);
 1829              		.loc 1 1001 5 view .LVU603
 1830 00b4 5249     		ldr	r1, .L174+4
 1831 00b6 3046     		mov	r0, r6
 1832 00b8 FFF7FEFF 		bl	tcp_err
 1833              	.LVL173:
1002:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* don't restore recv callback: we don't want to receive any more data */
 1834              		.loc 1 1002 5 view .LVU604
 1835 00bc 2146     		mov	r1, r4
 1836 00be 3046     		mov	r0, r6
 1837 00c0 FFF7FEFF 		bl	tcp_arg
 1838              	.LVL174:
1007:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return err;
 1839              		.loc 1 1007 3 view .LVU605
1007:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return err;
 1840              		.loc 1 1007 3 view .LVU606
1007:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return err;
 1841              		.loc 1 1007 3 view .LVU607
1007:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return err;
 1842              		.loc 1 1007 3 view .LVU608
1008:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 1843              		.loc 1 1008 3 view .LVU609
1008:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 1844              		.loc 1 1008 10 is_stmt 0 view .LVU610
 1845 00c4 80E0     		b	.L156
 1846              	.LVL175:
 1847              	.L160:
 835:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1848              		.loc 1 835 3 is_stmt 1 discriminator 1 view .LVU611
 835:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1849              		.loc 1 835 3 discriminator 1 view .LVU612
 1850 00c6 4F4B     		ldr	r3, .L174+8
 1851 00c8 40F24332 		movw	r2, #835
 1852 00cc 4E49     		ldr	r1, .L174+12
 1853              	.LVL176:
 835:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1854              		.loc 1 835 3 is_stmt 0 discriminator 1 view .LVU613
 1855 00ce 4F48     		ldr	r0, .L174+16
 1856              	.LVL177:
 835:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("this is for tcp netconns only", (NETCONNTYPE_GROUP(conn->type) == NETCONN_TCP));
 1857              		.loc 1 835 3 discriminator 1 view .LVU614
 1858 00d0 FFF7FEFF 		bl	printf
 1859              	.LVL178:
 1860 00d4 9AE7     		b	.L132
 1861              	.L161:
 836:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 1862              		.loc 1 836 3 is_stmt 1 discriminator 1 view .LVU615
ARM GAS  /tmp/cc0Mfu8z.s 			page 70


 836:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn must be in state NETCONN_CLOSE", (conn->state == NETCONN_CLOSE));
 1863              		.loc 1 836 3 discriminator 1 view .LVU616
 1864 00d6 4B4B     		ldr	r3, .L174+8
 1865 00d8 4FF45172 		mov	r2, #836
 1866 00dc 4C49     		ldr	r1, .L174+20
 1867 00de 4B48     		ldr	r0, .L174+16
 1868 00e0 FFF7FEFF 		bl	printf
 1869              	.LVL179:
 1870 00e4 97E7     		b	.L133
 1871              	.L162:
 837:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 1872              		.loc 1 837 3 discriminator 1 view .LVU617
 837:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("pcb already closed", (conn->pcb.tcp != NULL));
 1873              		.loc 1 837 3 discriminator 1 view .LVU618
 1874 00e6 474B     		ldr	r3, .L174+8
 1875 00e8 40F24532 		movw	r2, #837
 1876 00ec 4949     		ldr	r1, .L174+24
 1877 00ee 4748     		ldr	r0, .L174+16
 1878 00f0 FFF7FEFF 		bl	printf
 1879              	.LVL180:
 1880 00f4 92E7     		b	.L134
 1881              	.L163:
 838:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1882              		.loc 1 838 3 discriminator 1 view .LVU619
 838:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn->current_msg != NULL", conn->current_msg != NULL);
 1883              		.loc 1 838 3 discriminator 1 view .LVU620
 1884 00f6 434B     		ldr	r3, .L174+8
 1885 00f8 40F24632 		movw	r2, #838
 1886 00fc 4649     		ldr	r1, .L174+28
 1887 00fe 4348     		ldr	r0, .L174+16
 1888 0100 FFF7FEFF 		bl	printf
 1889              	.LVL181:
 1890 0104 8DE7     		b	.L135
 1891              	.L164:
 839:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1892              		.loc 1 839 3 discriminator 1 view .LVU621
 839:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 1893              		.loc 1 839 3 discriminator 1 view .LVU622
 1894 0106 3F4B     		ldr	r3, .L174+8
 1895 0108 40F24732 		movw	r2, #839
 1896 010c 4349     		ldr	r1, .L174+32
 1897 010e 3F48     		ldr	r0, .L174+16
 1898 0110 FFF7FEFF 		bl	printf
 1899              	.LVL182:
 1900 0114 88E7     		b	.L136
 1901              	.LVL183:
 1902              	.L158:
 857:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 1903              		.loc 1 857 11 is_stmt 0 view .LVU623
 1904 0116 4F46     		mov	r7, r9
 1905 0118 A5E7     		b	.L139
 1906              	.LVL184:
 1907              	.L165:
 865:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 1908              		.loc 1 865 5 is_stmt 1 view .LVU624
 1909 011a 0021     		movs	r1, #0
 1910 011c 3046     		mov	r0, r6
ARM GAS  /tmp/cc0Mfu8z.s 			page 71


 1911 011e FFF7FEFF 		bl	tcp_accept
 1912              	.LVL185:
 1913 0122 ABE7     		b	.L141
 1914              	.L166:
 869:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_accept(tpcb, NULL);
 1915              		.loc 1 869 7 view .LVU625
 1916 0124 0021     		movs	r1, #0
 1917 0126 3046     		mov	r0, r6
 1918 0128 FFF7FEFF 		bl	tcp_recv
 1919              	.LVL186:
 870:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1920              		.loc 1 870 7 view .LVU626
 1921 012c 0021     		movs	r1, #0
 1922 012e 3046     		mov	r0, r6
 1923 0130 FFF7FEFF 		bl	tcp_accept
 1924              	.LVL187:
 1925 0134 9DE7     		b	.L142
 1926              	.L167:
 873:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1927              		.loc 1 873 7 view .LVU627
 1928 0136 0021     		movs	r1, #0
 1929 0138 3046     		mov	r0, r6
 1930 013a FFF7FEFF 		bl	tcp_sent
 1931              	.LVL188:
 1932 013e 9BE7     		b	.L143
 1933              	.L168:
 876:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_err(tpcb, NULL);
 1934              		.loc 1 876 7 view .LVU628
 1935 0140 0022     		movs	r2, #0
 1936 0142 1146     		mov	r1, r2
 1937 0144 3046     		mov	r0, r6
 1938 0146 FFF7FEFF 		bl	tcp_poll
 1939              	.LVL189:
 877:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 1940              		.loc 1 877 7 view .LVU629
 1941 014a 0021     		movs	r1, #0
 1942 014c 3046     		mov	r0, r6
 1943 014e FFF7FEFF 		bl	tcp_err
 1944              	.LVL190:
 1945 0152 93E7     		b	.L141
 1946              	.L144:
 914:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 1947              		.loc 1 914 5 view .LVU630
 914:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 1948              		.loc 1 914 11 is_stmt 0 view .LVU631
 1949 0154 4A46     		mov	r2, r9
 1950 0156 5146     		mov	r1, r10
 1951 0158 3046     		mov	r0, r6
 1952 015a FFF7FEFF 		bl	tcp_shutdown
 1953              	.LVL191:
 1954 015e 0546     		mov	r5, r0
 1955              	.LVL192:
 914:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 1956              		.loc 1 914 11 view .LVU632
 1957 0160 92E7     		b	.L145
 1958              	.L169:
 949:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (close) {
ARM GAS  /tmp/cc0Mfu8z.s 			page 72


 1959              		.loc 1 949 9 is_stmt 1 view .LVU633
 1960              	.LVL193:
 950:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* in this case, we want to RST the connection */
 1961              		.loc 1 950 9 view .LVU634
 950:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* in this case, we want to RST the connection */
 1962              		.loc 1 950 12 is_stmt 0 view .LVU635
 1963 0162 002F     		cmp	r7, #0
 1964 0164 33D1     		bne	.L172
 1965              	.LVL194:
 1966              	.L146:
 1967              	.LBB18:
 963:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
 1968              		.loc 1 963 5 is_stmt 1 view .LVU636
 963:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
 1969              		.loc 1 963 35 is_stmt 0 view .LVU637
 1970 0166 636A     		ldr	r3, [r4, #36]
 1971 0168 1E68     		ldr	r6, [r3]
 1972              	.LVL195:
 963:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg->err = err;
 1973              		.loc 1 963 16 view .LVU638
 1974 016a 0C36     		adds	r6, r6, #12
 1975              	.LVL196:
 964:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg = NULL;
 1976              		.loc 1 964 5 is_stmt 1 view .LVU639
 964:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->current_msg = NULL;
 1977              		.loc 1 964 28 is_stmt 0 view .LVU640
 1978 016c 1D71     		strb	r5, [r3, #4]
 965:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->state = NETCONN_NONE;
 1979              		.loc 1 965 5 is_stmt 1 view .LVU641
 965:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     conn->state = NETCONN_NONE;
 1980              		.loc 1 965 23 is_stmt 0 view .LVU642
 1981 016e 0023     		movs	r3, #0
 1982 0170 6362     		str	r3, [r4, #36]
 966:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (err == ERR_OK) {
 1983              		.loc 1 966 5 is_stmt 1 view .LVU643
 966:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (err == ERR_OK) {
 1984              		.loc 1 966 17 is_stmt 0 view .LVU644
 1985 0172 6370     		strb	r3, [r4, #1]
 967:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (close) {
 1986              		.loc 1 967 5 is_stmt 1 view .LVU645
 967:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (close) {
 1987              		.loc 1 967 8 is_stmt 0 view .LVU646
 1988 0174 CDB9     		cbnz	r5, .L150
 968:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Set back some callback pointers as conn is going away */
 1989              		.loc 1 968 7 is_stmt 1 view .LVU647
 968:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Set back some callback pointers as conn is going away */
 1990              		.loc 1 968 10 is_stmt 0 view .LVU648
 1991 0176 37B1     		cbz	r7, .L151
 970:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Trigger select() in socket layer. Make sure everybody notices activity
 1992              		.loc 1 970 9 is_stmt 1 view .LVU649
 970:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Trigger select() in socket layer. Make sure everybody notices activity
 1993              		.loc 1 970 23 is_stmt 0 view .LVU650
 1994 0178 6360     		str	r3, [r4, #4]
 973:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1995              		.loc 1 973 9 is_stmt 1 view .LVU651
 1996 017a A36A     		ldr	r3, [r4, #40]
 1997 017c 1BB1     		cbz	r3, .L151
ARM GAS  /tmp/cc0Mfu8z.s 			page 73


 973:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 1998              		.loc 1 973 9 discriminator 1 view .LVU652
 1999 017e 0022     		movs	r2, #0
 2000 0180 0421     		movs	r1, #4
 2001 0182 2046     		mov	r0, r4
 2002 0184 9847     		blx	r3
 2003              	.LVL197:
 2004              	.L151:
 973:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2005              		.loc 1 973 46 discriminator 3 view .LVU653
 975:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 2006              		.loc 1 975 7 discriminator 3 view .LVU654
 975:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_RCVPLUS, 0);
 2007              		.loc 1 975 10 is_stmt 0 discriminator 3 view .LVU655
 2008 0186 BAF1000F 		cmp	r10, #0
 2009 018a 05D0     		beq	.L152
 976:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2010              		.loc 1 976 9 is_stmt 1 view .LVU656
 2011 018c A36A     		ldr	r3, [r4, #40]
 2012 018e 1BB1     		cbz	r3, .L152
 976:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2013              		.loc 1 976 9 discriminator 1 view .LVU657
 2014 0190 0022     		movs	r2, #0
 2015 0192 1146     		mov	r1, r2
 2016 0194 2046     		mov	r0, r4
 2017 0196 9847     		blx	r3
 2018              	.LVL198:
 2019              	.L152:
 976:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2020              		.loc 1 976 48 discriminator 3 view .LVU658
 978:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 2021              		.loc 1 978 7 discriminator 3 view .LVU659
 978:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 2022              		.loc 1 978 10 is_stmt 0 discriminator 3 view .LVU660
 2023 0198 B9F1000F 		cmp	r9, #0
 2024 019c 05D0     		beq	.L150
 979:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2025              		.loc 1 979 9 is_stmt 1 view .LVU661
 2026 019e A36A     		ldr	r3, [r4, #40]
 2027 01a0 1BB1     		cbz	r3, .L150
 979:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2028              		.loc 1 979 9 discriminator 1 view .LVU662
 2029 01a2 0022     		movs	r2, #0
 2030 01a4 0221     		movs	r1, #2
 2031 01a6 2046     		mov	r0, r4
 2032 01a8 9847     		blx	r3
 2033              	.LVL199:
 2034              	.L150:
 979:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 2035              		.loc 1 979 49 discriminator 3 view .LVU663
 982:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 2036              		.loc 1 982 5 discriminator 3 view .LVU664
 982:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 2037              		.loc 1 982 5 discriminator 3 view .LVU665
 2038 01aa 4CB1     		cbz	r4, .L153
 2039              	.LBB19:
 982:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
ARM GAS  /tmp/cc0Mfu8z.s 			page 74


 2040              		.loc 1 982 5 discriminator 1 view .LVU666
 982:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 2041              		.loc 1 982 5 discriminator 1 view .LVU667
 2042 01ac FFF7FEFF 		bl	sys_arch_protect
 2043              	.LVL200:
 982:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 2044              		.loc 1 982 5 discriminator 1 view .LVU668
 2045 01b0 94F90830 		ldrsb	r3, [r4, #8]
 2046 01b4 13F10C0F 		cmn	r3, #12
 2047 01b8 00DB     		blt	.L154
 982:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 2048              		.loc 1 982 5 discriminator 3 view .LVU669
 2049 01ba 2572     		strb	r5, [r4, #8]
 2050              	.L154:
 982:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 2051              		.loc 1 982 5 discriminator 5 view .LVU670
 2052 01bc FFF7FEFF 		bl	sys_arch_unprotect
 2053              	.LVL201:
 2054              	.L153:
 982:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 2055              		.loc 1 982 5 is_stmt 0 discriminator 5 view .LVU671
 2056              	.LBE19:
 982:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 2057              		.loc 1 982 5 is_stmt 1 discriminator 6 view .LVU672
 982:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 2058              		.loc 1 982 36 discriminator 6 view .LVU673
 984:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 2059              		.loc 1 984 5 discriminator 6 view .LVU674
 984:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 2060              		.loc 1 984 8 is_stmt 0 discriminator 6 view .LVU675
 2061 01c0 B8F1000F 		cmp	r8, #0
 2062 01c4 08D1     		bne	.L173
 2063              	.L155:
 990:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2064              		.loc 1 990 5 is_stmt 1 view .LVU676
 990:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2065              		.loc 1 990 12 is_stmt 0 view .LVU677
 2066 01c6 0025     		movs	r5, #0
 2067              	.LVL202:
 2068              	.L156:
 990:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2069              		.loc 1 990 12 view .LVU678
 2070              	.LBE18:
1009:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 2071              		.loc 1 1009 1 view .LVU679
 2072 01c8 2846     		mov	r0, r5
 2073 01ca BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 2074              	.LVL203:
 2075              	.L172:
 952:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           err = ERR_OK;
 2076              		.loc 1 952 11 is_stmt 1 view .LVU680
 2077 01ce 3046     		mov	r0, r6
 2078 01d0 FFF7FEFF 		bl	tcp_abort
 2079              	.LVL204:
 953:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 2080              		.loc 1 953 11 view .LVU681
 961:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Closing done (succeeded, non-memory error, nonblocking error or timeout) */
ARM GAS  /tmp/cc0Mfu8z.s 			page 75


 2081              		.loc 1 961 3 view .LVU682
 953:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 2082              		.loc 1 953 15 is_stmt 0 view .LVU683
 2083 01d4 0025     		movs	r5, #0
 2084 01d6 C6E7     		b	.L146
 2085              	.LVL205:
 2086              	.L173:
 2087              	.LBB20:
 988:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2088              		.loc 1 988 7 is_stmt 1 view .LVU684
 2089 01d8 3046     		mov	r0, r6
 2090 01da FFF7FEFF 		bl	sys_sem_signal
 2091              	.LVL206:
 2092 01de F2E7     		b	.L155
 2093              	.LVL207:
 2094              	.L170:
 988:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2095              		.loc 1 988 7 is_stmt 0 view .LVU685
 2096              	.LBE20:
 995:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
 2097              		.loc 1 995 5 is_stmt 1 discriminator 1 view .LVU686
 995:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (shut_tx) {
 2098              		.loc 1 995 5 discriminator 1 view .LVU687
 2099 01e0 084B     		ldr	r3, .L174+8
 2100 01e2 40F2E332 		movw	r2, #995
 2101 01e6 0E49     		ldr	r1, .L174+36
 2102 01e8 0848     		ldr	r0, .L174+16
 2103 01ea FFF7FEFF 		bl	printf
 2104              	.LVL208:
 2105 01ee 58E7     		b	.L149
 2106              	.L171:
 997:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2107              		.loc 1 997 7 view .LVU688
 2108 01f0 0C49     		ldr	r1, .L174+40
 2109 01f2 3046     		mov	r0, r6
 2110 01f4 FFF7FEFF 		bl	tcp_sent
 2111              	.LVL209:
 2112 01f8 57E7     		b	.L157
 2113              	.L175:
 2114 01fa 00BF     		.align	2
 2115              	.L174:
 2116 01fc 00000000 		.word	poll_tcp
 2117 0200 00000000 		.word	err_tcp
 2118 0204 00000000 		.word	.LC0
 2119 0208 00000000 		.word	.LC17
 2120 020c 54000000 		.word	.LC2
 2121 0210 10000000 		.word	.LC18
 2122 0214 30000000 		.word	.LC19
 2123 0218 54000000 		.word	.LC20
 2124 021c 10000000 		.word	.LC7
 2125 0220 68000000 		.word	.LC21
 2126 0224 00000000 		.word	sent_tcp
 2127              		.cfi_endproc
 2128              	.LFE114:
 2130              		.section	.text.poll_tcp,"ax",%progbits
 2131              		.align	1
 2132              		.syntax unified
ARM GAS  /tmp/cc0Mfu8z.s 			page 76


 2133              		.thumb
 2134              		.thumb_func
 2136              	poll_tcp:
 2137              	.LVL210:
 2138              	.LFB104:
 308:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 2139              		.loc 1 308 1 view -0
 2140              		.cfi_startproc
 2141              		@ args = 0, pretend = 0, frame = 0
 2142              		@ frame_needed = 0, uses_anonymous_args = 0
 308:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 2143              		.loc 1 308 1 is_stmt 0 view .LVU690
 2144 0000 10B5     		push	{r4, lr}
 2145              	.LCFI8:
 2146              		.cfi_def_cfa_offset 8
 2147              		.cfi_offset 4, -8
 2148              		.cfi_offset 14, -4
 309:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2149              		.loc 1 309 3 is_stmt 1 view .LVU691
 2150              	.LVL211:
 311:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
 2151              		.loc 1 311 3 view .LVU692
 312:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2152              		.loc 1 312 3 view .LVU693
 312:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2153              		.loc 1 312 3 view .LVU694
 2154 0002 0446     		mov	r4, r0
 2155 0004 F0B1     		cbz	r0, .L183
 2156              	.LVL212:
 2157              	.L177:
 312:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2158              		.loc 1 312 3 discriminator 3 view .LVU695
 312:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2159              		.loc 1 312 3 discriminator 3 view .LVU696
 314:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 2160              		.loc 1 314 3 discriminator 3 view .LVU697
 314:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 2161              		.loc 1 314 11 is_stmt 0 discriminator 3 view .LVU698
 2162 0006 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 314:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 2163              		.loc 1 314 6 discriminator 3 view .LVU699
 2164 0008 012B     		cmp	r3, #1
 2165 000a 23D0     		beq	.L184
 316:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if !LWIP_SO_SNDTIMEO && !LWIP_SO_LINGER
 2166              		.loc 1 316 10 is_stmt 1 view .LVU700
 316:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if !LWIP_SO_SNDTIMEO && !LWIP_SO_LINGER
 2167              		.loc 1 316 13 is_stmt 0 view .LVU701
 2168 000c 042B     		cmp	r3, #4
 2169 000e 26D0     		beq	.L185
 2170              	.L179:
 327:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* If the queued byte- or pbuf-count drops below the configured low-water limit,
 2171              		.loc 1 327 3 is_stmt 1 view .LVU702
 327:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* If the queued byte- or pbuf-count drops below the configured low-water limit,
 2172              		.loc 1 327 11 is_stmt 0 view .LVU703
 2173 0010 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 327:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* If the queued byte- or pbuf-count drops below the configured low-water limit,
 2174              		.loc 1 327 6 view .LVU704
ARM GAS  /tmp/cc0Mfu8z.s 			page 77


 2175 0012 13F0100F 		tst	r3, #16
 2176 0016 13D0     		beq	.L181
 330:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2177              		.loc 1 330 5 is_stmt 1 view .LVU705
 330:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2178              		.loc 1 330 19 is_stmt 0 view .LVU706
 2179 0018 6268     		ldr	r2, [r4, #4]
 330:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2180              		.loc 1 330 8 view .LVU707
 2181 001a 8AB1     		cbz	r2, .L181
 330:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2182              		.loc 1 330 37 discriminator 1 view .LVU708
 2183 001c B2F86010 		ldrh	r1, [r2, #96]
 330:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2184              		.loc 1 330 33 discriminator 1 view .LVU709
 2185 0020 B1F5866F 		cmp	r1, #1072
 2186 0024 0CD3     		bcc	.L181
 331:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->flags &= ~NETCONN_FLAG_CHECK_WRITESPACE;
 2187              		.loc 1 331 8 discriminator 2 view .LVU710
 2188 0026 B2F86220 		ldrh	r2, [r2, #98]
 330:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2189              		.loc 1 330 79 discriminator 2 view .LVU711
 2190 002a 042A     		cmp	r2, #4
 2191 002c 08D8     		bhi	.L181
 332:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 2192              		.loc 1 332 7 is_stmt 1 view .LVU712
 332:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, 0);
 2193              		.loc 1 332 19 is_stmt 0 view .LVU713
 2194 002e 23F01003 		bic	r3, r3, #16
 2195 0032 2377     		strb	r3, [r4, #28]
 333:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2196              		.loc 1 333 7 is_stmt 1 view .LVU714
 2197 0034 A36A     		ldr	r3, [r4, #40]
 2198 0036 1BB1     		cbz	r3, .L181
 333:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2199              		.loc 1 333 7 discriminator 1 view .LVU715
 2200 0038 0022     		movs	r2, #0
 2201 003a 0221     		movs	r1, #2
 2202 003c 2046     		mov	r0, r4
 2203 003e 9847     		blx	r3
 2204              	.LVL213:
 2205              	.L181:
 333:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2206              		.loc 1 333 47 discriminator 3 view .LVU716
 337:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 2207              		.loc 1 337 3 discriminator 3 view .LVU717
 338:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2208              		.loc 1 338 1 is_stmt 0 discriminator 3 view .LVU718
 2209 0040 0020     		movs	r0, #0
 2210 0042 10BD     		pop	{r4, pc}
 2211              	.LVL214:
 2212              	.L183:
 312:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2213              		.loc 1 312 3 is_stmt 1 discriminator 1 view .LVU719
 312:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2214              		.loc 1 312 3 discriminator 1 view .LVU720
 2215 0044 0B4B     		ldr	r3, .L186
ARM GAS  /tmp/cc0Mfu8z.s 			page 78


 2216 0046 4FF49C72 		mov	r2, #312
 2217 004a 0B49     		ldr	r1, .L186+4
 2218              	.LVL215:
 312:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2219              		.loc 1 312 3 is_stmt 0 discriminator 1 view .LVU721
 2220 004c 0B48     		ldr	r0, .L186+8
 2221              	.LVL216:
 312:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2222              		.loc 1 312 3 discriminator 1 view .LVU722
 2223 004e FFF7FEFF 		bl	printf
 2224              	.LVL217:
 2225 0052 D8E7     		b	.L177
 2226              	.L184:
 315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else if (conn->state == NETCONN_CLOSE) {
 2227              		.loc 1 315 5 is_stmt 1 view .LVU723
 2228 0054 0121     		movs	r1, #1
 2229 0056 2046     		mov	r0, r4
 2230 0058 FFF7FEFF 		bl	lwip_netconn_do_writemore
 2231              	.LVL218:
 2232 005c D8E7     		b	.L179
 2233              	.L185:
 318:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->msg.sd.polls_left--;
 2234              		.loc 1 318 5 view .LVU724
 318:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->msg.sd.polls_left--;
 2235              		.loc 1 318 13 is_stmt 0 view .LVU725
 2236 005e 636A     		ldr	r3, [r4, #36]
 318:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->msg.sd.polls_left--;
 2237              		.loc 1 318 8 view .LVU726
 2238 0060 1BB1     		cbz	r3, .L180
 318:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->msg.sd.polls_left--;
 2239              		.loc 1 318 55 discriminator 1 view .LVU727
 2240 0062 5A7A     		ldrb	r2, [r3, #9]	@ zero_extendqisi2
 318:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->current_msg->msg.sd.polls_left--;
 2241              		.loc 1 318 27 discriminator 1 view .LVU728
 2242 0064 0AB1     		cbz	r2, .L180
 319:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2243              		.loc 1 319 7 is_stmt 1 view .LVU729
 319:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2244              		.loc 1 319 43 is_stmt 0 view .LVU730
 2245 0066 013A     		subs	r2, r2, #1
 2246 0068 5A72     		strb	r2, [r3, #9]
 2247              	.L180:
 322:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2248              		.loc 1 322 5 is_stmt 1 view .LVU731
 2249 006a 0121     		movs	r1, #1
 2250 006c 2046     		mov	r0, r4
 2251 006e FFF7FEFF 		bl	lwip_netconn_do_close_internal
 2252              	.LVL219:
 2253 0072 CDE7     		b	.L179
 2254              	.L187:
 2255              		.align	2
 2256              	.L186:
 2257 0074 00000000 		.word	.LC0
 2258 0078 00000000 		.word	.LC6
 2259 007c 54000000 		.word	.LC2
 2260              		.cfi_endproc
 2261              	.LFE104:
ARM GAS  /tmp/cc0Mfu8z.s 			page 79


 2263              		.section	.text.sent_tcp,"ax",%progbits
 2264              		.align	1
 2265              		.syntax unified
 2266              		.thumb
 2267              		.thumb_func
 2269              	sent_tcp:
 2270              	.LVL220:
 2271              	.LFB105:
 349:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 2272              		.loc 1 349 1 view -0
 2273              		.cfi_startproc
 2274              		@ args = 0, pretend = 0, frame = 0
 2275              		@ frame_needed = 0, uses_anonymous_args = 0
 349:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 2276              		.loc 1 349 1 is_stmt 0 view .LVU733
 2277 0000 38B5     		push	{r3, r4, r5, lr}
 2278              	.LCFI9:
 2279              		.cfi_def_cfa_offset 16
 2280              		.cfi_offset 3, -16
 2281              		.cfi_offset 4, -12
 2282              		.cfi_offset 5, -8
 2283              		.cfi_offset 14, -4
 2284 0002 1546     		mov	r5, r2
 350:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2285              		.loc 1 350 3 is_stmt 1 view .LVU734
 2286              	.LVL221:
 352:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("conn != NULL", (conn != NULL));
 2287              		.loc 1 352 3 view .LVU735
 353:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2288              		.loc 1 353 3 view .LVU736
 353:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2289              		.loc 1 353 3 view .LVU737
 2290 0004 0446     		mov	r4, r0
 2291 0006 E0B1     		cbz	r0, .L194
 2292              	.LVL222:
 2293              	.L189:
 353:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2294              		.loc 1 353 3 discriminator 3 view .LVU738
 353:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2295              		.loc 1 353 3 discriminator 3 view .LVU739
 355:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (conn->state == NETCONN_WRITE) {
 2296              		.loc 1 355 3 discriminator 3 view .LVU740
 355:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (conn->state == NETCONN_WRITE) {
 2297              		.loc 1 355 6 is_stmt 0 discriminator 3 view .LVU741
 2298 0008 CCB1     		cbz	r4, .L190
 356:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 2299              		.loc 1 356 5 is_stmt 1 view .LVU742
 356:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 2300              		.loc 1 356 13 is_stmt 0 view .LVU743
 2301 000a 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 356:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_writemore(conn  WRITE_DELAYED);
 2302              		.loc 1 356 8 view .LVU744
 2303 000c 012B     		cmp	r3, #1
 2304 000e 20D0     		beq	.L195
 358:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_close_internal(conn  WRITE_DELAYED);
 2305              		.loc 1 358 12 is_stmt 1 view .LVU745
 358:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_close_internal(conn  WRITE_DELAYED);
ARM GAS  /tmp/cc0Mfu8z.s 			page 80


 2306              		.loc 1 358 15 is_stmt 0 view .LVU746
 2307 0010 042B     		cmp	r3, #4
 2308 0012 23D0     		beq	.L196
 2309              	.L192:
 364:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2310              		.loc 1 364 5 is_stmt 1 view .LVU747
 364:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2311              		.loc 1 364 19 is_stmt 0 view .LVU748
 2312 0014 6368     		ldr	r3, [r4, #4]
 364:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2313              		.loc 1 364 8 view .LVU749
 2314 0016 93B1     		cbz	r3, .L190
 364:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2315              		.loc 1 364 37 discriminator 1 view .LVU750
 2316 0018 B3F86020 		ldrh	r2, [r3, #96]
 364:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2317              		.loc 1 364 33 discriminator 1 view .LVU751
 2318 001c B2F5866F 		cmp	r2, #1072
 2319 0020 0DD3     		bcc	.L190
 365:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       conn->flags &= ~NETCONN_FLAG_CHECK_WRITESPACE;
 2320              		.loc 1 365 8 discriminator 2 view .LVU752
 2321 0022 B3F86230 		ldrh	r3, [r3, #98]
 364:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (tcp_sndqueuelen(conn->pcb.tcp) < TCP_SNDQUEUELOWAT)) {
 2322              		.loc 1 364 79 discriminator 2 view .LVU753
 2323 0026 042B     		cmp	r3, #4
 2324 0028 09D8     		bhi	.L190
 366:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, len);
 2325              		.loc 1 366 7 is_stmt 1 view .LVU754
 366:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       API_EVENT(conn, NETCONN_EVT_SENDPLUS, len);
 2326              		.loc 1 366 19 is_stmt 0 view .LVU755
 2327 002a 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 2328 002c 23F01003 		bic	r3, r3, #16
 2329 0030 2377     		strb	r3, [r4, #28]
 367:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2330              		.loc 1 367 7 is_stmt 1 view .LVU756
 2331 0032 A36A     		ldr	r3, [r4, #40]
 2332 0034 1BB1     		cbz	r3, .L190
 367:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2333              		.loc 1 367 7 discriminator 1 view .LVU757
 2334 0036 2A46     		mov	r2, r5
 2335 0038 0221     		movs	r1, #2
 2336 003a 2046     		mov	r0, r4
 2337 003c 9847     		blx	r3
 2338              	.LVL223:
 2339              	.L190:
 367:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2340              		.loc 1 367 49 discriminator 3 view .LVU758
 371:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 2341              		.loc 1 371 3 discriminator 3 view .LVU759
 372:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2342              		.loc 1 372 1 is_stmt 0 discriminator 3 view .LVU760
 2343 003e 0020     		movs	r0, #0
 2344 0040 38BD     		pop	{r3, r4, r5, pc}
 2345              	.LVL224:
 2346              	.L194:
 353:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2347              		.loc 1 353 3 is_stmt 1 discriminator 1 view .LVU761
ARM GAS  /tmp/cc0Mfu8z.s 			page 81


 353:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2348              		.loc 1 353 3 discriminator 1 view .LVU762
 2349 0042 094B     		ldr	r3, .L197
 2350 0044 40F26112 		movw	r2, #353
 2351              	.LVL225:
 353:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2352              		.loc 1 353 3 is_stmt 0 discriminator 1 view .LVU763
 2353 0048 0849     		ldr	r1, .L197+4
 2354              	.LVL226:
 353:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2355              		.loc 1 353 3 discriminator 1 view .LVU764
 2356 004a 0948     		ldr	r0, .L197+8
 2357              	.LVL227:
 353:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2358              		.loc 1 353 3 discriminator 1 view .LVU765
 2359 004c FFF7FEFF 		bl	printf
 2360              	.LVL228:
 2361 0050 DAE7     		b	.L189
 2362              	.L195:
 357:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else if (conn->state == NETCONN_CLOSE) {
 2363              		.loc 1 357 7 is_stmt 1 view .LVU766
 2364 0052 0121     		movs	r1, #1
 2365 0054 2046     		mov	r0, r4
 2366 0056 FFF7FEFF 		bl	lwip_netconn_do_writemore
 2367              	.LVL229:
 2368 005a DBE7     		b	.L192
 2369              	.L196:
 359:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2370              		.loc 1 359 7 view .LVU767
 2371 005c 0121     		movs	r1, #1
 2372 005e 2046     		mov	r0, r4
 2373 0060 FFF7FEFF 		bl	lwip_netconn_do_close_internal
 2374              	.LVL230:
 2375 0064 D6E7     		b	.L192
 2376              	.L198:
 2377 0066 00BF     		.align	2
 2378              	.L197:
 2379 0068 00000000 		.word	.LC0
 2380 006c 00000000 		.word	.LC6
 2381 0070 54000000 		.word	.LC2
 2382              		.cfi_endproc
 2383              	.LFE105:
 2385              		.section	.rodata.recv_tcp.str1.4,"aMS",%progbits,1
 2386              		.align	2
 2387              	.LC22:
 2388 0000 72656376 		.ascii	"recv_tcp must have a pcb argument\000"
 2388      5F746370 
 2388      206D7573 
 2388      74206861 
 2388      76652061 
 2389 0022 0000     		.align	2
 2390              	.LC23:
 2391 0024 72656376 		.ascii	"recv_tcp must have an argument\000"
 2391      5F746370 
 2391      206D7573 
 2391      74206861 
 2391      76652061 
ARM GAS  /tmp/cc0Mfu8z.s 			page 82


 2392 0043 00       		.align	2
 2393              	.LC24:
 2394 0044 72656376 		.ascii	"recv_tcp: recv for wrong pcb!\000"
 2394      5F746370 
 2394      3A207265 
 2394      63762066 
 2394      6F722077 
 2395              		.section	.text.recv_tcp,"ax",%progbits
 2396              		.align	1
 2397              		.syntax unified
 2398              		.thumb
 2399              		.thumb_func
 2401              	recv_tcp:
 2402              	.LVL231:
 2403              	.LFB103:
 244:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 2404              		.loc 1 244 1 view -0
 2405              		.cfi_startproc
 2406              		@ args = 0, pretend = 0, frame = 0
 2407              		@ frame_needed = 0, uses_anonymous_args = 0
 244:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 2408              		.loc 1 244 1 is_stmt 0 view .LVU769
 2409 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 2410              	.LCFI10:
 2411              		.cfi_def_cfa_offset 24
 2412              		.cfi_offset 4, -24
 2413              		.cfi_offset 5, -20
 2414              		.cfi_offset 6, -16
 2415              		.cfi_offset 7, -12
 2416              		.cfi_offset 8, -8
 2417              		.cfi_offset 14, -4
 2418 0004 0446     		mov	r4, r0
 2419 0006 1546     		mov	r5, r2
 2420 0008 9846     		mov	r8, r3
 245:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   u16_t len;
 2421              		.loc 1 245 3 is_stmt 1 view .LVU770
 246:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2422              		.loc 1 246 3 view .LVU771
 248:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have a pcb argument", pcb != NULL);
 2423              		.loc 1 248 3 view .LVU772
 249:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2424              		.loc 1 249 3 view .LVU773
 249:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2425              		.loc 1 249 3 view .LVU774
 2426 000a 0F46     		mov	r7, r1
 2427 000c 31B3     		cbz	r1, .L213
 2428              	.LVL232:
 2429              	.L200:
 249:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2430              		.loc 1 249 3 discriminator 3 view .LVU775
 249:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2431              		.loc 1 249 3 discriminator 3 view .LVU776
 250:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 2432              		.loc 1 250 3 discriminator 3 view .LVU777
 250:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 2433              		.loc 1 250 3 discriminator 3 view .LVU778
 2434 000e 64B3     		cbz	r4, .L214
ARM GAS  /tmp/cc0Mfu8z.s 			page 83


 2435              	.L201:
 250:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 2436              		.loc 1 250 3 discriminator 3 view .LVU779
 250:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 2437              		.loc 1 250 3 discriminator 3 view .LVU780
 251:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2438              		.loc 1 251 3 discriminator 3 view .LVU781
 2439              	.LVL233:
 253:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 2440              		.loc 1 253 3 discriminator 3 view .LVU782
 253:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 2441              		.loc 1 253 6 is_stmt 0 discriminator 3 view .LVU783
 2442 0010 002C     		cmp	r4, #0
 2443 0012 49D0     		beq	.L209
 256:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2444              		.loc 1 256 3 is_stmt 1 view .LVU784
 256:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2445              		.loc 1 256 3 view .LVU785
 2446 0014 6368     		ldr	r3, [r4, #4]
 2447 0016 BB42     		cmp	r3, r7
 2448 0018 06D0     		beq	.L203
 256:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2449              		.loc 1 256 3 discriminator 1 view .LVU786
 256:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2450              		.loc 1 256 3 discriminator 1 view .LVU787
 2451 001a 264B     		ldr	r3, .L217
 2452 001c 4FF48072 		mov	r2, #256
 2453 0020 2549     		ldr	r1, .L217+4
 2454 0022 2648     		ldr	r0, .L217+8
 2455 0024 FFF7FEFF 		bl	printf
 2456              	.LVL234:
 2457              	.L203:
 256:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2458              		.loc 1 256 3 discriminator 3 view .LVU788
 256:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2459              		.loc 1 256 3 discriminator 3 view .LVU789
 258:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* recvmbox already deleted */
 2460              		.loc 1 258 3 discriminator 3 view .LVU790
 258:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* recvmbox already deleted */
 2461              		.loc 1 258 8 is_stmt 0 discriminator 3 view .LVU791
 2462 0028 04F11006 		add	r6, r4, #16
 2463 002c 3046     		mov	r0, r6
 2464 002e FFF7FEFF 		bl	sys_mbox_valid
 2465              	.LVL235:
 258:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* recvmbox already deleted */
 2466              		.loc 1 258 6 discriminator 3 view .LVU792
 2467 0032 08B3     		cbz	r0, .L215
 271:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     NETCONN_SET_SAFE_ERR(conn, err);
 2468              		.loc 1 271 3 is_stmt 1 view .LVU793
 271:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     NETCONN_SET_SAFE_ERR(conn, err);
 2469              		.loc 1 271 6 is_stmt 0 view .LVU794
 2470 0034 B8F1000F 		cmp	r8, #0
 2471 0038 28D1     		bne	.L216
 2472              	.L206:
 272:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2473              		.loc 1 272 5 is_stmt 1 discriminator 6 view .LVU795
 272:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
ARM GAS  /tmp/cc0Mfu8z.s 			page 84


 2474              		.loc 1 272 36 discriminator 6 view .LVU796
 275:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     len = p->tot_len;
 2475              		.loc 1 275 3 discriminator 6 view .LVU797
 275:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     len = p->tot_len;
 2476              		.loc 1 275 6 is_stmt 0 discriminator 6 view .LVU798
 2477 003a 9DB3     		cbz	r5, .L210
 276:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 2478              		.loc 1 276 5 is_stmt 1 view .LVU799
 276:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 2479              		.loc 1 276 9 is_stmt 0 view .LVU800
 2480 003c 2F89     		ldrh	r7, [r5, #8]
 2481              	.LVL236:
 2482              	.L208:
 281:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* don't deallocate p: it is presented to us later again from tcp_fasttmr! */
 2483              		.loc 1 281 3 is_stmt 1 view .LVU801
 281:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* don't deallocate p: it is presented to us later again from tcp_fasttmr! */
 2484              		.loc 1 281 7 is_stmt 0 view .LVU802
 2485 003e 2946     		mov	r1, r5
 2486 0040 3046     		mov	r0, r6
 2487 0042 FFF7FEFF 		bl	sys_mbox_trypost
 2488              	.LVL237:
 281:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* don't deallocate p: it is presented to us later again from tcp_fasttmr! */
 2489              		.loc 1 281 6 view .LVU803
 2490 0046 0546     		mov	r5, r0
 2491              	.LVL238:
 281:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* don't deallocate p: it is presented to us later again from tcp_fasttmr! */
 2492              		.loc 1 281 6 view .LVU804
 2493 0048 88BB     		cbnz	r0, .L211
 289:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2494              		.loc 1 289 5 is_stmt 1 view .LVU805
 2495 004a A36A     		ldr	r3, [r4, #40]
 2496 004c 1BB1     		cbz	r3, .L202
 289:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2497              		.loc 1 289 5 discriminator 1 view .LVU806
 2498 004e 3A46     		mov	r2, r7
 2499 0050 0021     		movs	r1, #0
 2500 0052 2046     		mov	r0, r4
 2501 0054 9847     		blx	r3
 2502              	.LVL239:
 2503              	.L202:
 293:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2504              		.loc 1 293 1 is_stmt 0 view .LVU807
 2505 0056 2846     		mov	r0, r5
 2506 0058 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2507              	.LVL240:
 2508              	.L213:
 249:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2509              		.loc 1 249 3 is_stmt 1 discriminator 1 view .LVU808
 249:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2510              		.loc 1 249 3 discriminator 1 view .LVU809
 2511 005c 154B     		ldr	r3, .L217
 2512              	.LVL241:
 249:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2513              		.loc 1 249 3 is_stmt 0 discriminator 1 view .LVU810
 2514 005e F922     		movs	r2, #249
 2515              	.LVL242:
 249:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
ARM GAS  /tmp/cc0Mfu8z.s 			page 85


 2516              		.loc 1 249 3 discriminator 1 view .LVU811
 2517 0060 1749     		ldr	r1, .L217+12
 2518              	.LVL243:
 249:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2519              		.loc 1 249 3 discriminator 1 view .LVU812
 2520 0062 1648     		ldr	r0, .L217+8
 2521              	.LVL244:
 249:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recv_tcp must have an argument", arg != NULL);
 2522              		.loc 1 249 3 discriminator 1 view .LVU813
 2523 0064 FFF7FEFF 		bl	printf
 2524              	.LVL245:
 2525 0068 D1E7     		b	.L200
 2526              	.L214:
 250:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 2527              		.loc 1 250 3 is_stmt 1 discriminator 1 view .LVU814
 250:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn = (struct netconn *)arg;
 2528              		.loc 1 250 3 discriminator 1 view .LVU815
 2529 006a 124B     		ldr	r3, .L217
 2530 006c FA22     		movs	r2, #250
 2531 006e 1549     		ldr	r1, .L217+16
 2532 0070 1248     		ldr	r0, .L217+8
 2533 0072 FFF7FEFF 		bl	printf
 2534              	.LVL246:
 2535 0076 CBE7     		b	.L201
 2536              	.LVL247:
 2537              	.L215:
 260:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_recved(pcb, p->tot_len);
 2538              		.loc 1 260 5 view .LVU816
 260:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       tcp_recved(pcb, p->tot_len);
 2539              		.loc 1 260 8 is_stmt 0 view .LVU817
 2540 0078 35B1     		cbz	r5, .L205
 261:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       pbuf_free(p);
 2541              		.loc 1 261 7 is_stmt 1 view .LVU818
 2542 007a 2989     		ldrh	r1, [r5, #8]
 2543 007c 3846     		mov	r0, r7
 2544 007e FFF7FEFF 		bl	tcp_recved
 2545              	.LVL248:
 262:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 2546              		.loc 1 262 7 view .LVU819
 2547 0082 2846     		mov	r0, r5
 2548 0084 FFF7FEFF 		bl	pbuf_free
 2549              	.LVL249:
 2550              	.L205:
 264:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2551              		.loc 1 264 5 view .LVU820
 264:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2552              		.loc 1 264 12 is_stmt 0 view .LVU821
 2553 0088 0025     		movs	r5, #0
 2554              	.LVL250:
 264:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2555              		.loc 1 264 12 view .LVU822
 2556 008a E4E7     		b	.L202
 2557              	.LVL251:
 2558              	.L216:
 272:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2559              		.loc 1 272 5 is_stmt 1 discriminator 1 view .LVU823
 272:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
ARM GAS  /tmp/cc0Mfu8z.s 			page 86


 2560              		.loc 1 272 5 discriminator 1 view .LVU824
 2561              	.LBB21:
 272:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2562              		.loc 1 272 5 discriminator 1 view .LVU825
 272:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2563              		.loc 1 272 5 discriminator 1 view .LVU826
 2564 008c FFF7FEFF 		bl	sys_arch_protect
 2565              	.LVL252:
 272:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2566              		.loc 1 272 5 discriminator 1 view .LVU827
 2567 0090 94F90830 		ldrsb	r3, [r4, #8]
 2568 0094 13F10C0F 		cmn	r3, #12
 2569 0098 01DB     		blt	.L207
 272:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2570              		.loc 1 272 5 discriminator 3 view .LVU828
 2571 009a 84F80880 		strb	r8, [r4, #8]
 2572              	.L207:
 272:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2573              		.loc 1 272 5 discriminator 5 view .LVU829
 2574 009e FFF7FEFF 		bl	sys_arch_unprotect
 2575              	.LVL253:
 272:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2576              		.loc 1 272 5 is_stmt 0 discriminator 5 view .LVU830
 2577 00a2 CAE7     		b	.L206
 2578              	.L210:
 272:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2579              		.loc 1 272 5 discriminator 5 view .LVU831
 2580              	.LBE21:
 278:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2581              		.loc 1 278 9 view .LVU832
 2582 00a4 0027     		movs	r7, #0
 2583              	.LVL254:
 278:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2584              		.loc 1 278 9 view .LVU833
 2585 00a6 CAE7     		b	.L208
 2586              	.LVL255:
 2587              	.L209:
 254:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2588              		.loc 1 254 12 view .LVU834
 2589 00a8 6FF00505 		mvn	r5, #5
 2590              	.LVL256:
 254:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2591              		.loc 1 254 12 view .LVU835
 2592 00ac D3E7     		b	.L202
 2593              	.LVL257:
 2594              	.L211:
 283:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 2595              		.loc 1 283 12 view .LVU836
 2596 00ae 4FF0FF35 		mov	r5, #-1
 2597 00b2 D0E7     		b	.L202
 2598              	.L218:
 2599              		.align	2
 2600              	.L217:
 2601 00b4 00000000 		.word	.LC0
 2602 00b8 44000000 		.word	.LC24
 2603 00bc 54000000 		.word	.LC2
 2604 00c0 00000000 		.word	.LC22
ARM GAS  /tmp/cc0Mfu8z.s 			page 87


 2605 00c4 24000000 		.word	.LC23
 2606              		.cfi_endproc
 2607              	.LFE103:
 2609              		.section	.text.lwip_netconn_do_newconn,"ax",%progbits
 2610              		.align	1
 2611              		.global	lwip_netconn_do_newconn
 2612              		.syntax unified
 2613              		.thumb
 2614              		.thumb_func
 2616              	lwip_netconn_do_newconn:
 2617              	.LVL258:
 2618              	.LFB110:
 624:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
 2619              		.loc 1 624 1 is_stmt 1 view -0
 2620              		.cfi_startproc
 2621              		@ args = 0, pretend = 0, frame = 0
 2622              		@ frame_needed = 0, uses_anonymous_args = 0
 624:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
 2623              		.loc 1 624 1 is_stmt 0 view .LVU838
 2624 0000 10B5     		push	{r4, lr}
 2625              	.LCFI11:
 2626              		.cfi_def_cfa_offset 8
 2627              		.cfi_offset 4, -8
 2628              		.cfi_offset 14, -4
 2629 0002 0446     		mov	r4, r0
 625:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2630              		.loc 1 625 3 is_stmt 1 view .LVU839
 2631              	.LVL259:
 627:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp == NULL) {
 2632              		.loc 1 627 3 view .LVU840
 627:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp == NULL) {
 2633              		.loc 1 627 12 is_stmt 0 view .LVU841
 2634 0004 0023     		movs	r3, #0
 2635 0006 0371     		strb	r3, [r0, #4]
 628:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pcb_new(msg);
 2636              		.loc 1 628 3 is_stmt 1 view .LVU842
 628:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pcb_new(msg);
 2637              		.loc 1 628 10 is_stmt 0 view .LVU843
 2638 0008 0368     		ldr	r3, [r0]
 628:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pcb_new(msg);
 2639              		.loc 1 628 21 view .LVU844
 2640 000a 5B68     		ldr	r3, [r3, #4]
 628:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     pcb_new(msg);
 2641              		.loc 1 628 6 view .LVU845
 2642 000c 7BB1     		cbz	r3, .L224
 2643              	.LVL260:
 2644              	.L220:
 635:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 2645              		.loc 1 635 3 is_stmt 1 view .LVU846
 635:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 2646              		.loc 1 635 3 view .LVU847
 2647 000e 2368     		ldr	r3, [r4]
 2648 0010 63B1     		cbz	r3, .L219
 2649              	.LBB22:
 635:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 2650              		.loc 1 635 3 discriminator 1 view .LVU848
 635:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
ARM GAS  /tmp/cc0Mfu8z.s 			page 88


 2651              		.loc 1 635 3 discriminator 1 view .LVU849
 2652 0012 FFF7FEFF 		bl	sys_arch_protect
 2653              	.LVL261:
 635:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 2654              		.loc 1 635 3 discriminator 1 view .LVU850
 2655 0016 2368     		ldr	r3, [r4]
 2656 0018 93F90820 		ldrsb	r2, [r3, #8]
 2657 001c 12F10C0F 		cmn	r2, #12
 2658 0020 02DB     		blt	.L222
 635:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 2659              		.loc 1 635 3 discriminator 3 view .LVU851
 2660 0022 94F90420 		ldrsb	r2, [r4, #4]
 2661 0026 1A72     		strb	r2, [r3, #8]
 2662              	.L222:
 635:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 2663              		.loc 1 635 3 discriminator 5 view .LVU852
 2664 0028 FFF7FEFF 		bl	sys_arch_unprotect
 2665              	.LVL262:
 635:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 2666              		.loc 1 635 3 is_stmt 0 discriminator 5 view .LVU853
 2667              	.LBE22:
 635:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 2668              		.loc 1 635 3 is_stmt 1 discriminator 5 view .LVU854
 635:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 2669              		.loc 1 635 24 discriminator 5 view .LVU855
 2670              	.L219:
 636:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2671              		.loc 1 636 1 is_stmt 0 view .LVU856
 2672 002c 10BD     		pop	{r4, pc}
 2673              	.LVL263:
 2674              	.L224:
 629:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2675              		.loc 1 629 5 is_stmt 1 view .LVU857
 2676 002e FFF7FEFF 		bl	pcb_new
 2677              	.LVL264:
 629:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2678              		.loc 1 629 5 is_stmt 0 view .LVU858
 2679 0032 ECE7     		b	.L220
 2680              		.cfi_endproc
 2681              	.LFE110:
 2683              		.section	.rodata.netconn_alloc.str1.4,"aMS",%progbits,1
 2684              		.align	2
 2685              	.LC25:
 2686 0000 6E657463 		.ascii	"netconn_alloc: undefined netconn_type\000"
 2686      6F6E6E5F 
 2686      616C6C6F 
 2686      633A2075 
 2686      6E646566 
 2687              		.section	.text.netconn_alloc,"ax",%progbits
 2688              		.align	1
 2689              		.global	netconn_alloc
 2690              		.syntax unified
 2691              		.thumb
 2692              		.thumb_func
 2694              	netconn_alloc:
 2695              	.LVL265:
 2696              	.LFB111:
ARM GAS  /tmp/cc0Mfu8z.s 			page 89


 649:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 2697              		.loc 1 649 1 is_stmt 1 view -0
 2698              		.cfi_startproc
 2699              		@ args = 0, pretend = 0, frame = 0
 2700              		@ frame_needed = 0, uses_anonymous_args = 0
 649:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn;
 2701              		.loc 1 649 1 is_stmt 0 view .LVU860
 2702 0000 70B5     		push	{r4, r5, r6, lr}
 2703              	.LCFI12:
 2704              		.cfi_def_cfa_offset 16
 2705              		.cfi_offset 4, -16
 2706              		.cfi_offset 5, -12
 2707              		.cfi_offset 6, -8
 2708              		.cfi_offset 14, -4
 2709 0002 0546     		mov	r5, r0
 2710 0004 0E46     		mov	r6, r1
 650:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   int size;
 2711              		.loc 1 650 3 is_stmt 1 view .LVU861
 651:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2712              		.loc 1 651 3 view .LVU862
 653:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 2713              		.loc 1 653 3 view .LVU863
 653:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 2714              		.loc 1 653 28 is_stmt 0 view .LVU864
 2715 0006 0720     		movs	r0, #7
 2716              	.LVL266:
 653:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (conn == NULL) {
 2717              		.loc 1 653 28 view .LVU865
 2718 0008 FFF7FEFF 		bl	memp_malloc
 2719              	.LVL267:
 654:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return NULL;
 2720              		.loc 1 654 3 is_stmt 1 view .LVU866
 654:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return NULL;
 2721              		.loc 1 654 6 is_stmt 0 view .LVU867
 2722 000c 0446     		mov	r4, r0
 2723 000e 80B3     		cbz	r0, .L225
 658:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->type = t;
 2724              		.loc 1 658 3 is_stmt 1 view .LVU868
 658:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->type = t;
 2725              		.loc 1 658 18 is_stmt 0 view .LVU869
 2726 0010 0023     		movs	r3, #0
 2727 0012 0372     		strb	r3, [r0, #8]
 659:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->pcb.tcp = NULL;
 2728              		.loc 1 659 3 is_stmt 1 view .LVU870
 659:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->pcb.tcp = NULL;
 2729              		.loc 1 659 14 is_stmt 0 view .LVU871
 2730 0014 0570     		strb	r5, [r0]
 660:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2731              		.loc 1 660 3 is_stmt 1 view .LVU872
 660:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2732              		.loc 1 660 17 is_stmt 0 view .LVU873
 2733 0016 4360     		str	r3, [r0, #4]
 663:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 2734              		.loc 1 663 3 is_stmt 1 view .LVU874
 2735 0018 05F0F005 		and	r5, r5, #240
 2736 001c 102D     		cmp	r5, #16
 2737 001e 01D0     		beq	.L227
ARM GAS  /tmp/cc0Mfu8z.s 			page 90


 2738 0020 202D     		cmp	r5, #32
 2739 0022 1AD1     		bne	.L231
 2740              	.L227:
 2741              	.LVL268:
 684:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 2742              		.loc 1 684 3 view .LVU875
 684:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 2743              		.loc 1 684 7 is_stmt 0 view .LVU876
 2744 0024 04F11005 		add	r5, r4, #16
 2745 0028 0621     		movs	r1, #6
 2746 002a 2846     		mov	r0, r5
 2747              	.LVL269:
 684:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 2748              		.loc 1 684 7 view .LVU877
 2749 002c FFF7FEFF 		bl	sys_mbox_new
 2750              	.LVL270:
 684:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 2751              		.loc 1 684 6 view .LVU878
 2752 0030 D0B9     		cbnz	r0, .L228
 688:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&conn->recvmbox);
 2753              		.loc 1 688 3 is_stmt 1 view .LVU879
 688:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&conn->recvmbox);
 2754              		.loc 1 688 7 is_stmt 0 view .LVU880
 2755 0032 0021     		movs	r1, #0
 2756 0034 04F10C00 		add	r0, r4, #12
 2757 0038 FFF7FEFF 		bl	sys_sem_new
 2758              	.LVL271:
 688:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_free(&conn->recvmbox);
 2759              		.loc 1 688 6 view .LVU881
 2760 003c D8B9     		cbnz	r0, .L232
 695:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 2761              		.loc 1 695 3 is_stmt 1 view .LVU882
 2762 003e 04F11400 		add	r0, r4, #20
 2763 0042 FFF7FEFF 		bl	sys_mbox_set_invalid
 2764              	.LVL272:
 697:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SOCKET
 2765              		.loc 1 697 3 view .LVU883
 697:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_SOCKET
 2766              		.loc 1 697 22 is_stmt 0 view .LVU884
 2767 0046 0023     		movs	r3, #0
 2768 0048 6370     		strb	r3, [r4, #1]
 700:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SOCKET */
 2769              		.loc 1 700 3 is_stmt 1 view .LVU885
 700:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_SOCKET */
 2770              		.loc 1 700 22 is_stmt 0 view .LVU886
 2771 004a 4FF0FF32 		mov	r2, #-1
 2772 004e A261     		str	r2, [r4, #24]
 702:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 2773              		.loc 1 702 3 is_stmt 1 view .LVU887
 702:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 2774              		.loc 1 702 22 is_stmt 0 view .LVU888
 2775 0050 A662     		str	r6, [r4, #40]
 704:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->write_offset = 0;
 2776              		.loc 1 704 3 is_stmt 1 view .LVU889
 704:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   conn->write_offset = 0;
 2777              		.loc 1 704 22 is_stmt 0 view .LVU890
 2778 0052 6362     		str	r3, [r4, #36]
ARM GAS  /tmp/cc0Mfu8z.s 			page 91


 705:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 2779              		.loc 1 705 3 is_stmt 1 view .LVU891
 705:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 2780              		.loc 1 705 22 is_stmt 0 view .LVU892
 2781 0054 2362     		str	r3, [r4, #32]
 720:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return conn;
 2782              		.loc 1 720 3 is_stmt 1 view .LVU893
 720:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return conn;
 2783              		.loc 1 720 15 is_stmt 0 view .LVU894
 2784 0056 2377     		strb	r3, [r4, #28]
 721:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** free_and_return:
 2785              		.loc 1 721 3 is_stmt 1 view .LVU895
 721:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** free_and_return:
 2786              		.loc 1 721 10 is_stmt 0 view .LVU896
 2787 0058 0BE0     		b	.L225
 2788              	.LVL273:
 2789              	.L231:
 680:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 2790              		.loc 1 680 5 is_stmt 1 discriminator 1 view .LVU897
 680:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 2791              		.loc 1 680 5 discriminator 1 view .LVU898
 680:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 2792              		.loc 1 680 5 discriminator 1 view .LVU899
 680:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 2793              		.loc 1 680 5 discriminator 1 view .LVU900
 2794 005a 094B     		ldr	r3, .L233
 2795 005c 4FF42A72 		mov	r2, #680
 2796 0060 0849     		ldr	r1, .L233+4
 2797 0062 0948     		ldr	r0, .L233+8
 2798              	.LVL274:
 680:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 2799              		.loc 1 680 5 is_stmt 0 discriminator 1 view .LVU901
 2800 0064 FFF7FEFF 		bl	printf
 2801              	.LVL275:
 680:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 2802              		.loc 1 680 5 is_stmt 1 discriminator 1 view .LVU902
 680:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 2803              		.loc 1 680 5 discriminator 1 view .LVU903
 681:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2804              		.loc 1 681 5 discriminator 1 view .LVU904
 2805              	.L228:
 723:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   return NULL;
 2806              		.loc 1 723 3 view .LVU905
 2807 0068 2146     		mov	r1, r4
 2808 006a 0720     		movs	r0, #7
 2809 006c FFF7FEFF 		bl	memp_free
 2810              	.LVL276:
 724:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 2811              		.loc 1 724 3 view .LVU906
 724:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 2812              		.loc 1 724 10 is_stmt 0 view .LVU907
 2813 0070 0024     		movs	r4, #0
 2814              	.LVL277:
 2815              	.L225:
 725:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2816              		.loc 1 725 1 view .LVU908
 2817 0072 2046     		mov	r0, r4
ARM GAS  /tmp/cc0Mfu8z.s 			page 92


 2818 0074 70BD     		pop	{r4, r5, r6, pc}
 2819              	.LVL278:
 2820              	.L232:
 689:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     goto free_and_return;
 2821              		.loc 1 689 5 is_stmt 1 view .LVU909
 2822 0076 2846     		mov	r0, r5
 2823 0078 FFF7FEFF 		bl	sys_mbox_free
 2824              	.LVL279:
 690:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 2825              		.loc 1 690 5 view .LVU910
 2826 007c F4E7     		b	.L228
 2827              	.L234:
 2828 007e 00BF     		.align	2
 2829              	.L233:
 2830 0080 00000000 		.word	.LC0
 2831 0084 00000000 		.word	.LC25
 2832 0088 54000000 		.word	.LC2
 2833              		.cfi_endproc
 2834              	.LFE111:
 2836              		.section	.rodata.netconn_free.str1.4,"aMS",%progbits,1
 2837              		.align	2
 2838              	.LC26:
 2839 0000 50434220 		.ascii	"PCB must be deallocated outside this function\000"
 2839      6D757374 
 2839      20626520 
 2839      6465616C 
 2839      6C6F6361 
 2840 002e 0000     		.align	2
 2841              	.LC27:
 2842 0030 72656376 		.ascii	"recvmbox must be deallocated before calling this fu"
 2842      6D626F78 
 2842      206D7573 
 2842      74206265 
 2842      20646561 
 2843 0063 6E637469 		.ascii	"nction\000"
 2843      6F6E00
 2844 006a 0000     		.align	2
 2845              	.LC28:
 2846 006c 61636365 		.ascii	"acceptmbox must be deallocated before calling this "
 2846      70746D62 
 2846      6F78206D 
 2846      75737420 
 2846      62652064 
 2847 009f 66756E63 		.ascii	"function\000"
 2847      74696F6E 
 2847      00
 2848              		.section	.text.netconn_free,"ax",%progbits
 2849              		.align	1
 2850              		.global	netconn_free
 2851              		.syntax unified
 2852              		.thumb
 2853              		.thumb_func
 2855              	netconn_free:
 2856              	.LVL280:
 2857              	.LFB112:
 735:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("PCB must be deallocated outside this function", conn->pcb.tcp == NULL);
 2858              		.loc 1 735 1 view -0
ARM GAS  /tmp/cc0Mfu8z.s 			page 93


 2859              		.cfi_startproc
 2860              		@ args = 0, pretend = 0, frame = 0
 2861              		@ frame_needed = 0, uses_anonymous_args = 0
 735:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("PCB must be deallocated outside this function", conn->pcb.tcp == NULL);
 2862              		.loc 1 735 1 is_stmt 0 view .LVU912
 2863 0000 38B5     		push	{r3, r4, r5, lr}
 2864              	.LCFI13:
 2865              		.cfi_def_cfa_offset 16
 2866              		.cfi_offset 3, -16
 2867              		.cfi_offset 4, -12
 2868              		.cfi_offset 5, -8
 2869              		.cfi_offset 14, -4
 2870 0002 0446     		mov	r4, r0
 736:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recvmbox must be deallocated before calling this function",
 2871              		.loc 1 736 3 is_stmt 1 view .LVU913
 736:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recvmbox must be deallocated before calling this function",
 2872              		.loc 1 736 3 view .LVU914
 2873 0004 4368     		ldr	r3, [r0, #4]
 2874 0006 33B1     		cbz	r3, .L236
 736:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recvmbox must be deallocated before calling this function",
 2875              		.loc 1 736 3 discriminator 1 view .LVU915
 736:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recvmbox must be deallocated before calling this function",
 2876              		.loc 1 736 3 discriminator 1 view .LVU916
 2877 0008 164B     		ldr	r3, .L242
 2878 000a 4FF43872 		mov	r2, #736
 2879 000e 1649     		ldr	r1, .L242+4
 2880 0010 1648     		ldr	r0, .L242+8
 2881              	.LVL281:
 736:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recvmbox must be deallocated before calling this function",
 2882              		.loc 1 736 3 is_stmt 0 discriminator 1 view .LVU917
 2883 0012 FFF7FEFF 		bl	printf
 2884              	.LVL282:
 2885              	.L236:
 736:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recvmbox must be deallocated before calling this function",
 2886              		.loc 1 736 3 is_stmt 1 discriminator 3 view .LVU918
 736:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("recvmbox must be deallocated before calling this function",
 2887              		.loc 1 736 3 discriminator 3 view .LVU919
 737:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     !sys_mbox_valid(&conn->recvmbox));
 2888              		.loc 1 737 3 discriminator 3 view .LVU920
 737:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     !sys_mbox_valid(&conn->recvmbox));
 2889              		.loc 1 737 3 discriminator 3 view .LVU921
 2890 0016 04F11000 		add	r0, r4, #16
 2891 001a FFF7FEFF 		bl	sys_mbox_valid
 2892              	.LVL283:
 2893 001e 88B9     		cbnz	r0, .L240
 2894              	.L237:
 737:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     !sys_mbox_valid(&conn->recvmbox));
 2895              		.loc 1 737 3 discriminator 3 view .LVU922
 737:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     !sys_mbox_valid(&conn->recvmbox));
 2896              		.loc 1 737 3 discriminator 3 view .LVU923
 740:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     !sys_mbox_valid(&conn->acceptmbox));
 2897              		.loc 1 740 3 discriminator 3 view .LVU924
 740:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     !sys_mbox_valid(&conn->acceptmbox));
 2898              		.loc 1 740 3 discriminator 3 view .LVU925
 2899 0020 04F11400 		add	r0, r4, #20
 2900 0024 FFF7FEFF 		bl	sys_mbox_valid
 2901              	.LVL284:
ARM GAS  /tmp/cc0Mfu8z.s 			page 94


 2902 0028 A0B9     		cbnz	r0, .L241
 2903              	.L238:
 740:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     !sys_mbox_valid(&conn->acceptmbox));
 2904              		.loc 1 740 3 discriminator 3 view .LVU926
 740:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     !sys_mbox_valid(&conn->acceptmbox));
 2905              		.loc 1 740 3 discriminator 3 view .LVU927
 745:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   sys_sem_set_invalid(&conn->op_completed);
 2906              		.loc 1 745 3 discriminator 3 view .LVU928
 2907 002a 04F10C05 		add	r5, r4, #12
 2908 002e 2846     		mov	r0, r5
 2909 0030 FFF7FEFF 		bl	sys_sem_free
 2910              	.LVL285:
 746:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif
 2911              		.loc 1 746 3 discriminator 3 view .LVU929
 2912 0034 2846     		mov	r0, r5
 2913 0036 FFF7FEFF 		bl	sys_sem_set_invalid
 2914              	.LVL286:
 749:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 2915              		.loc 1 749 3 discriminator 3 view .LVU930
 2916 003a 2146     		mov	r1, r4
 2917 003c 0720     		movs	r0, #7
 2918 003e FFF7FEFF 		bl	memp_free
 2919              	.LVL287:
 750:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 2920              		.loc 1 750 1 is_stmt 0 discriminator 3 view .LVU931
 2921 0042 38BD     		pop	{r3, r4, r5, pc}
 2922              	.LVL288:
 2923              	.L240:
 737:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     !sys_mbox_valid(&conn->recvmbox));
 2924              		.loc 1 737 3 is_stmt 1 discriminator 1 view .LVU932
 737:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     !sys_mbox_valid(&conn->recvmbox));
 2925              		.loc 1 737 3 discriminator 1 view .LVU933
 2926 0044 074B     		ldr	r3, .L242
 2927 0046 40F2E122 		movw	r2, #737
 2928 004a 0949     		ldr	r1, .L242+12
 2929 004c 0748     		ldr	r0, .L242+8
 2930 004e FFF7FEFF 		bl	printf
 2931              	.LVL289:
 2932 0052 E5E7     		b	.L237
 2933              	.L241:
 740:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     !sys_mbox_valid(&conn->acceptmbox));
 2934              		.loc 1 740 3 discriminator 1 view .LVU934
 740:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     !sys_mbox_valid(&conn->acceptmbox));
 2935              		.loc 1 740 3 discriminator 1 view .LVU935
 2936 0054 034B     		ldr	r3, .L242
 2937 0056 4FF43972 		mov	r2, #740
 2938 005a 0649     		ldr	r1, .L242+16
 2939 005c 0348     		ldr	r0, .L242+8
 2940 005e FFF7FEFF 		bl	printf
 2941              	.LVL290:
 2942 0062 E2E7     		b	.L238
 2943              	.L243:
 2944              		.align	2
 2945              	.L242:
 2946 0064 00000000 		.word	.LC0
 2947 0068 00000000 		.word	.LC26
 2948 006c 54000000 		.word	.LC2
ARM GAS  /tmp/cc0Mfu8z.s 			page 95


 2949 0070 30000000 		.word	.LC27
 2950 0074 6C000000 		.word	.LC28
 2951              		.cfi_endproc
 2952              	.LFE112:
 2954              		.section	.text.netconn_drain,"ax",%progbits
 2955              		.align	1
 2956              		.syntax unified
 2957              		.thumb
 2958              		.thumb_func
 2960              	netconn_drain:
 2961              	.LVL291:
 2962              	.LFB113:
 762:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   void *mem;
 2963              		.loc 1 762 1 view -0
 2964              		.cfi_startproc
 2965              		@ args = 0, pretend = 0, frame = 8
 2966              		@ frame_needed = 0, uses_anonymous_args = 0
 762:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   void *mem;
 2967              		.loc 1 762 1 is_stmt 0 view .LVU937
 2968 0000 70B5     		push	{r4, r5, r6, lr}
 2969              	.LCFI14:
 2970              		.cfi_def_cfa_offset 16
 2971              		.cfi_offset 4, -16
 2972              		.cfi_offset 5, -12
 2973              		.cfi_offset 6, -8
 2974              		.cfi_offset 14, -4
 2975 0002 82B0     		sub	sp, sp, #8
 2976              	.LCFI15:
 2977              		.cfi_def_cfa_offset 24
 2978 0004 0446     		mov	r4, r0
 763:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 2979              		.loc 1 763 3 is_stmt 1 view .LVU938
 765:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 2980              		.loc 1 765 3 view .LVU939
 771:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->recvmbox, &mem) != SYS_MBOX_EMPTY) {
 2981              		.loc 1 771 3 view .LVU940
 771:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->recvmbox, &mem) != SYS_MBOX_EMPTY) {
 2982              		.loc 1 771 7 is_stmt 0 view .LVU941
 2983 0006 00F11005 		add	r5, r0, #16
 2984 000a 2846     		mov	r0, r5
 2985              	.LVL292:
 771:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->recvmbox, &mem) != SYS_MBOX_EMPTY) {
 2986              		.loc 1 771 7 view .LVU942
 2987 000c FFF7FEFF 		bl	sys_mbox_valid
 2988              	.LVL293:
 771:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->recvmbox, &mem) != SYS_MBOX_EMPTY) {
 2989              		.loc 1 771 6 view .LVU943
 2990 0010 00BB     		cbnz	r0, .L245
 2991              	.L246:
 795:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->acceptmbox, &mem) != SYS_MBOX_EMPTY) {
 2992              		.loc 1 795 3 is_stmt 1 view .LVU944
 795:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->acceptmbox, &mem) != SYS_MBOX_EMPTY) {
 2993              		.loc 1 795 7 is_stmt 0 view .LVU945
 2994 0012 1434     		adds	r4, r4, #20
 2995              	.LVL294:
 795:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->acceptmbox, &mem) != SYS_MBOX_EMPTY) {
 2996              		.loc 1 795 7 view .LVU946
ARM GAS  /tmp/cc0Mfu8z.s 			page 96


 2997 0014 2046     		mov	r0, r4
 2998 0016 FFF7FEFF 		bl	sys_mbox_valid
 2999              	.LVL295:
 795:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     while (sys_mbox_tryfetch(&conn->acceptmbox, &mem) != SYS_MBOX_EMPTY) {
 3000              		.loc 1 795 6 view .LVU947
 3001 001a 0028     		cmp	r0, #0
 3002 001c 3FD0     		beq	.L244
 3003              	.L253:
 796:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (mem != &netconn_aborted) {
 3004              		.loc 1 796 11 is_stmt 1 view .LVU948
 796:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (mem != &netconn_aborted) {
 3005              		.loc 1 796 12 is_stmt 0 view .LVU949
 3006 001e 01A9     		add	r1, sp, #4
 3007 0020 2046     		mov	r0, r4
 3008 0022 FFF7FEFF 		bl	sys_arch_mbox_tryfetch
 3009              	.LVL296:
 796:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (mem != &netconn_aborted) {
 3010              		.loc 1 796 11 view .LVU950
 3011 0026 B0F1FF3F 		cmp	r0, #-1
 3012 002a 32D0     		beq	.L257
 797:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         struct netconn *newconn = (struct netconn *)mem;
 3013              		.loc 1 797 7 is_stmt 1 view .LVU951
 797:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         struct netconn *newconn = (struct netconn *)mem;
 3014              		.loc 1 797 15 is_stmt 0 view .LVU952
 3015 002c 019D     		ldr	r5, [sp, #4]
 797:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         struct netconn *newconn = (struct netconn *)mem;
 3016              		.loc 1 797 10 view .LVU953
 3017 002e 1D4B     		ldr	r3, .L259
 3018 0030 9D42     		cmp	r5, r3
 3019 0032 F4D0     		beq	.L253
 3020              	.LBB23:
 798:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Only tcp pcbs have an acceptmbox, so no need to check conn->type */
 3021              		.loc 1 798 9 is_stmt 1 view .LVU954
 3022              	.LVL297:
 802:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (newconn->pcb.tcp != NULL) {
 3023              		.loc 1 802 9 view .LVU955
 3024 0034 2846     		mov	r0, r5
 3025 0036 FFF7E3FF 		bl	netconn_drain
 3026              	.LVL298:
 803:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           tcp_abort(newconn->pcb.tcp);
 3027              		.loc 1 803 9 view .LVU956
 803:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           tcp_abort(newconn->pcb.tcp);
 3028              		.loc 1 803 25 is_stmt 0 view .LVU957
 3029 003a 6868     		ldr	r0, [r5, #4]
 803:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           tcp_abort(newconn->pcb.tcp);
 3030              		.loc 1 803 12 view .LVU958
 3031 003c 18B1     		cbz	r0, .L254
 804:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           newconn->pcb.tcp = NULL;
 3032              		.loc 1 804 11 is_stmt 1 view .LVU959
 3033 003e FFF7FEFF 		bl	tcp_abort
 3034              	.LVL299:
 805:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 3035              		.loc 1 805 11 view .LVU960
 805:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 3036              		.loc 1 805 28 is_stmt 0 view .LVU961
 3037 0042 0023     		movs	r3, #0
 3038 0044 6B60     		str	r3, [r5, #4]
ARM GAS  /tmp/cc0Mfu8z.s 			page 97


 3039              	.L254:
 807:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 3040              		.loc 1 807 9 is_stmt 1 view .LVU962
 3041 0046 2846     		mov	r0, r5
 3042 0048 FFF7FEFF 		bl	netconn_free
 3043              	.LVL300:
 3044 004c E7E7     		b	.L253
 3045              	.LVL301:
 3046              	.L247:
 807:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 3047              		.loc 1 807 9 is_stmt 0 view .LVU963
 3048              	.LBE23:
 786:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 3049              		.loc 1 786 9 is_stmt 1 view .LVU964
 3050 004e 0198     		ldr	r0, [sp, #4]
 3051 0050 FFF7FEFF 		bl	netbuf_delete
 3052              	.LVL302:
 3053              	.L245:
 772:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 3054              		.loc 1 772 11 view .LVU965
 772:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 3055              		.loc 1 772 12 is_stmt 0 view .LVU966
 3056 0054 01A9     		add	r1, sp, #4
 3057 0056 2846     		mov	r0, r5
 3058 0058 FFF7FEFF 		bl	sys_arch_mbox_tryfetch
 3059              	.LVL303:
 772:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 3060              		.loc 1 772 11 view .LVU967
 3061 005c B0F1FF3F 		cmp	r0, #-1
 3062 0060 10D0     		beq	.L258
 774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (mem != NULL) {
 3063              		.loc 1 774 7 is_stmt 1 view .LVU968
 774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (mem != NULL) {
 3064              		.loc 1 774 11 is_stmt 0 view .LVU969
 3065 0062 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 774:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (mem != NULL) {
 3066              		.loc 1 774 10 view .LVU970
 3067 0064 03F0F003 		and	r3, r3, #240
 3068 0068 102B     		cmp	r3, #16
 3069 006a F0D1     		bne	.L247
 775:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           p = (struct pbuf*)mem;
 3070              		.loc 1 775 9 is_stmt 1 view .LVU971
 775:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           p = (struct pbuf*)mem;
 3071              		.loc 1 775 17 is_stmt 0 view .LVU972
 3072 006c 019E     		ldr	r6, [sp, #4]
 775:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           p = (struct pbuf*)mem;
 3073              		.loc 1 775 12 view .LVU973
 3074 006e 002E     		cmp	r6, #0
 3075 0070 F0D0     		beq	.L245
 776:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* pcb might be set to NULL already by err_tcp() */
 3076              		.loc 1 776 11 is_stmt 1 view .LVU974
 3077              	.LVL304:
 778:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             tcp_recved(conn->pcb.tcp, p->tot_len);
 3078              		.loc 1 778 11 view .LVU975
 778:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             tcp_recved(conn->pcb.tcp, p->tot_len);
 3079              		.loc 1 778 24 is_stmt 0 view .LVU976
 3080 0072 6068     		ldr	r0, [r4, #4]
ARM GAS  /tmp/cc0Mfu8z.s 			page 98


 778:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             tcp_recved(conn->pcb.tcp, p->tot_len);
 3081              		.loc 1 778 14 view .LVU977
 3082 0074 10B1     		cbz	r0, .L249
 779:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 3083              		.loc 1 779 13 is_stmt 1 view .LVU978
 3084 0076 3189     		ldrh	r1, [r6, #8]
 3085 0078 FFF7FEFF 		bl	tcp_recved
 3086              	.LVL305:
 3087              	.L249:
 781:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 3088              		.loc 1 781 11 view .LVU979
 3089 007c 3046     		mov	r0, r6
 3090 007e FFF7FEFF 		bl	pbuf_free
 3091              	.LVL306:
 3092 0082 E7E7     		b	.L245
 3093              	.LVL307:
 3094              	.L258:
 789:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&conn->recvmbox);
 3095              		.loc 1 789 5 view .LVU980
 3096 0084 2846     		mov	r0, r5
 3097 0086 FFF7FEFF 		bl	sys_mbox_free
 3098              	.LVL308:
 790:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3099              		.loc 1 790 5 view .LVU981
 3100 008a 2846     		mov	r0, r5
 3101 008c FFF7FEFF 		bl	sys_mbox_set_invalid
 3102              	.LVL309:
 3103 0090 BFE7     		b	.L246
 3104              	.LVL310:
 3105              	.L257:
 810:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&conn->acceptmbox);
 3106              		.loc 1 810 5 view .LVU982
 3107 0092 2046     		mov	r0, r4
 3108 0094 FFF7FEFF 		bl	sys_mbox_free
 3109              	.LVL311:
 811:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3110              		.loc 1 811 5 view .LVU983
 3111 0098 2046     		mov	r0, r4
 3112 009a FFF7FEFF 		bl	sys_mbox_set_invalid
 3113              	.LVL312:
 3114              	.L244:
 814:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3115              		.loc 1 814 1 is_stmt 0 view .LVU984
 3116 009e 02B0     		add	sp, sp, #8
 3117              	.LCFI16:
 3118              		.cfi_def_cfa_offset 16
 3119              		@ sp needed
 3120 00a0 70BD     		pop	{r4, r5, r6, pc}
 3121              	.LVL313:
 3122              	.L260:
 814:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3123              		.loc 1 814 1 view .LVU985
 3124 00a2 00BF     		.align	2
 3125              	.L259:
 3126 00a4 00000000 		.word	.LANCHOR0
 3127              		.cfi_endproc
 3128              	.LFE113:
ARM GAS  /tmp/cc0Mfu8z.s 			page 99


 3130              		.section	.text.accept_function,"ax",%progbits
 3131              		.align	1
 3132              		.syntax unified
 3133              		.thumb
 3134              		.thumb_func
 3136              	accept_function:
 3137              	.LVL314:
 3138              	.LFB108:
 476:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *newconn;
 3139              		.loc 1 476 1 is_stmt 1 view -0
 3140              		.cfi_startproc
 3141              		@ args = 0, pretend = 0, frame = 0
 3142              		@ frame_needed = 0, uses_anonymous_args = 0
 476:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *newconn;
 3143              		.loc 1 476 1 is_stmt 0 view .LVU987
 3144 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3145              	.LCFI17:
 3146              		.cfi_def_cfa_offset 24
 3147              		.cfi_offset 4, -24
 3148              		.cfi_offset 5, -20
 3149              		.cfi_offset 6, -16
 3150              		.cfi_offset 7, -12
 3151              		.cfi_offset 8, -8
 3152              		.cfi_offset 14, -4
 477:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct netconn *conn = (struct netconn *)arg;
 3153              		.loc 1 477 3 is_stmt 1 view .LVU988
 478:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3154              		.loc 1 478 3 view .LVU989
 3155              	.LVL315:
 480:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 3156              		.loc 1 480 3 view .LVU990
 480:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_VAL;
 3157              		.loc 1 480 6 is_stmt 0 view .LVU991
 3158 0004 0028     		cmp	r0, #0
 3159 0006 65D0     		beq	.L268
 3160 0008 0D46     		mov	r5, r1
 3161 000a 1746     		mov	r7, r2
 3162 000c 0446     		mov	r4, r0
 483:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_DEBUGF(API_MSG_DEBUG, ("accept_function: acceptmbox already deleted\n"));
 3163              		.loc 1 483 3 is_stmt 1 view .LVU992
 483:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_DEBUGF(API_MSG_DEBUG, ("accept_function: acceptmbox already deleted\n"));
 3164              		.loc 1 483 8 is_stmt 0 view .LVU993
 3165 000e 00F11408 		add	r8, r0, #20
 3166 0012 4046     		mov	r0, r8
 3167              	.LVL316:
 483:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_DEBUGF(API_MSG_DEBUG, ("accept_function: acceptmbox already deleted\n"));
 3168              		.loc 1 483 8 view .LVU994
 3169 0014 FFF7FEFF 		bl	sys_mbox_valid
 3170              	.LVL317:
 483:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     LWIP_DEBUGF(API_MSG_DEBUG, ("accept_function: acceptmbox already deleted\n"));
 3171              		.loc 1 483 6 view .LVU995
 3172 0018 0028     		cmp	r0, #0
 3173 001a 5ED0     		beq	.L269
 488:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* out-of-pcbs during connect: pass on this error to the application */
 3174              		.loc 1 488 3 is_stmt 1 view .LVU996
 488:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* out-of-pcbs during connect: pass on this error to the application */
 3175              		.loc 1 488 6 is_stmt 0 view .LVU997
ARM GAS  /tmp/cc0Mfu8z.s 			page 100


 3176 001c C5B1     		cbz	r5, .L271
 497:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3177              		.loc 1 497 106 is_stmt 1 view .LVU998
 501:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (newconn == NULL) {
 3178              		.loc 1 501 3 view .LVU999
 501:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (newconn == NULL) {
 3179              		.loc 1 501 13 is_stmt 0 view .LVU1000
 3180 001e A16A     		ldr	r1, [r4, #40]
 3181 0020 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 3182 0022 FFF7FEFF 		bl	netconn_alloc
 3183              	.LVL318:
 502:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* outof netconns: pass on this error to the application */
 3184              		.loc 1 502 3 is_stmt 1 view .LVU1001
 502:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* outof netconns: pass on this error to the application */
 3185              		.loc 1 502 6 is_stmt 0 view .LVU1002
 3186 0026 0646     		mov	r6, r0
 3187 0028 00B3     		cbz	r0, .L272
 510:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   setup_tcp(newconn);
 3188              		.loc 1 510 3 is_stmt 1 view .LVU1003
 510:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   setup_tcp(newconn);
 3189              		.loc 1 510 20 is_stmt 0 view .LVU1004
 3190 002a 4560     		str	r5, [r0, #4]
 511:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* no protection: when creating the pcb, the netconn is not yet known
 3191              		.loc 1 511 3 is_stmt 1 view .LVU1005
 3192 002c FFF7FEFF 		bl	setup_tcp
 3193              	.LVL319:
 514:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3194              		.loc 1 514 3 view .LVU1006
 514:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3195              		.loc 1 514 21 is_stmt 0 view .LVU1007
 3196 0030 3772     		strb	r7, [r6, #8]
 517:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3197              		.loc 1 517 30 is_stmt 1 view .LVU1008
 519:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* When returning != ERR_OK, the pcb is aborted in tcp_process(),
 3198              		.loc 1 519 3 view .LVU1009
 519:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* When returning != ERR_OK, the pcb is aborted in tcp_process(),
 3199              		.loc 1 519 7 is_stmt 0 view .LVU1010
 3200 0032 3146     		mov	r1, r6
 3201 0034 4046     		mov	r0, r8
 3202 0036 FFF7FEFF 		bl	sys_mbox_trypost
 3203              	.LVL320:
 519:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* When returning != ERR_OK, the pcb is aborted in tcp_process(),
 3204              		.loc 1 519 6 view .LVU1011
 3205 003a 0546     		mov	r5, r0
 3206              	.LVL321:
 519:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* When returning != ERR_OK, the pcb is aborted in tcp_process(),
 3207              		.loc 1 519 6 view .LVU1012
 3208 003c 20BB     		cbnz	r0, .L273
 538:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3209              		.loc 1 538 5 is_stmt 1 view .LVU1013
 3210 003e A36A     		ldr	r3, [r4, #40]
 3211 0040 1BB1     		cbz	r3, .L262
 538:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3212              		.loc 1 538 5 discriminator 1 view .LVU1014
 3213 0042 0022     		movs	r2, #0
 3214 0044 1146     		mov	r1, r2
 3215 0046 2046     		mov	r0, r4
ARM GAS  /tmp/cc0Mfu8z.s 			page 101


 3216 0048 9847     		blx	r3
 3217              	.LVL322:
 3218              	.L262:
 542:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 3219              		.loc 1 542 1 is_stmt 0 view .LVU1015
 3220 004a 2846     		mov	r0, r5
 3221 004c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3222              	.LVL323:
 3223              	.L271:
 490:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 3224              		.loc 1 490 5 is_stmt 1 view .LVU1016
 490:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 3225              		.loc 1 490 9 is_stmt 0 view .LVU1017
 3226 0050 2349     		ldr	r1, .L274
 3227 0052 4046     		mov	r0, r8
 3228 0054 FFF7FEFF 		bl	sys_mbox_trypost
 3229              	.LVL324:
 490:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 3230              		.loc 1 490 8 view .LVU1018
 3231 0058 28B9     		cbnz	r0, .L264
 492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3232              		.loc 1 492 7 is_stmt 1 view .LVU1019
 3233 005a A36A     		ldr	r3, [r4, #40]
 3234 005c 1BB1     		cbz	r3, .L264
 492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3235              		.loc 1 492 7 discriminator 1 view .LVU1020
 3236 005e 0022     		movs	r2, #0
 3237 0060 1146     		mov	r1, r2
 3238 0062 2046     		mov	r0, r4
 3239 0064 9847     		blx	r3
 3240              	.LVL325:
 3241              	.L264:
 492:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3242              		.loc 1 492 46 discriminator 3 view .LVU1021
 494:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3243              		.loc 1 494 5 discriminator 3 view .LVU1022
 494:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3244              		.loc 1 494 12 is_stmt 0 discriminator 3 view .LVU1023
 3245 0066 6FF00505 		mvn	r5, #5
 3246              	.LVL326:
 494:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3247              		.loc 1 494 12 discriminator 3 view .LVU1024
 3248 006a EEE7     		b	.L262
 3249              	.LVL327:
 3250              	.L272:
 504:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 3251              		.loc 1 504 5 is_stmt 1 view .LVU1025
 504:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 3252              		.loc 1 504 9 is_stmt 0 view .LVU1026
 3253 006c 1C49     		ldr	r1, .L274
 3254 006e 4046     		mov	r0, r8
 3255              	.LVL328:
 504:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
 3256              		.loc 1 504 9 view .LVU1027
 3257 0070 FFF7FEFF 		bl	sys_mbox_trypost
 3258              	.LVL329:
 504:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* Register event with callback */
ARM GAS  /tmp/cc0Mfu8z.s 			page 102


 3259              		.loc 1 504 8 view .LVU1028
 3260 0074 28B9     		cbnz	r0, .L266
 506:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3261              		.loc 1 506 7 is_stmt 1 view .LVU1029
 3262 0076 A36A     		ldr	r3, [r4, #40]
 3263 0078 1BB1     		cbz	r3, .L266
 506:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3264              		.loc 1 506 7 discriminator 1 view .LVU1030
 3265 007a 0022     		movs	r2, #0
 3266 007c 1146     		mov	r1, r2
 3267 007e 2046     		mov	r0, r4
 3268 0080 9847     		blx	r3
 3269              	.LVL330:
 3270              	.L266:
 506:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3271              		.loc 1 506 46 discriminator 3 view .LVU1031
 508:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3272              		.loc 1 508 5 discriminator 3 view .LVU1032
 508:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3273              		.loc 1 508 12 is_stmt 0 discriminator 3 view .LVU1033
 3274 0082 4FF0FF35 		mov	r5, #-1
 3275              	.LVL331:
 508:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3276              		.loc 1 508 12 discriminator 3 view .LVU1034
 3277 0086 E0E7     		b	.L262
 3278              	.L273:
 3279              	.LBB24:
 523:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_arg(pcb, NULL);
 3280              		.loc 1 523 5 is_stmt 1 view .LVU1035
 523:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_arg(pcb, NULL);
 3281              		.loc 1 523 21 is_stmt 0 view .LVU1036
 3282 0088 7468     		ldr	r4, [r6, #4]
 3283              	.LVL332:
 524:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_recv(pcb, NULL);
 3284              		.loc 1 524 5 is_stmt 1 view .LVU1037
 3285 008a 0021     		movs	r1, #0
 3286 008c 2046     		mov	r0, r4
 3287 008e FFF7FEFF 		bl	tcp_arg
 3288              	.LVL333:
 525:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_sent(pcb, NULL);
 3289              		.loc 1 525 5 view .LVU1038
 3290 0092 0021     		movs	r1, #0
 3291 0094 2046     		mov	r0, r4
 3292 0096 FFF7FEFF 		bl	tcp_recv
 3293              	.LVL334:
 526:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_poll(pcb, NULL, 0);
 3294              		.loc 1 526 5 view .LVU1039
 3295 009a 0021     		movs	r1, #0
 3296 009c 2046     		mov	r0, r4
 3297 009e FFF7FEFF 		bl	tcp_sent
 3298              	.LVL335:
 527:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     tcp_err(pcb, NULL);
 3299              		.loc 1 527 5 view .LVU1040
 3300 00a2 0022     		movs	r2, #0
 3301 00a4 1146     		mov	r1, r2
 3302 00a6 2046     		mov	r0, r4
 3303 00a8 FFF7FEFF 		bl	tcp_poll
ARM GAS  /tmp/cc0Mfu8z.s 			page 103


 3304              	.LVL336:
 528:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* remove reference from to the pcb from this netconn */
 3305              		.loc 1 528 5 view .LVU1041
 3306 00ac 0021     		movs	r1, #0
 3307 00ae 2046     		mov	r0, r4
 3308 00b0 FFF7FEFF 		bl	tcp_err
 3309              	.LVL337:
 530:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* no need to drain since we know the recvmbox is empty. */
 3310              		.loc 1 530 5 view .LVU1042
 530:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* no need to drain since we know the recvmbox is empty. */
 3311              		.loc 1 530 22 is_stmt 0 view .LVU1043
 3312 00b4 0023     		movs	r3, #0
 3313 00b6 7360     		str	r3, [r6, #4]
 532:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&newconn->recvmbox);
 3314              		.loc 1 532 5 is_stmt 1 view .LVU1044
 3315 00b8 06F11004 		add	r4, r6, #16
 3316              	.LVL338:
 532:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     sys_mbox_set_invalid(&newconn->recvmbox);
 3317              		.loc 1 532 5 is_stmt 0 view .LVU1045
 3318 00bc 2046     		mov	r0, r4
 3319 00be FFF7FEFF 		bl	sys_mbox_free
 3320              	.LVL339:
 533:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     netconn_free(newconn);
 3321              		.loc 1 533 5 is_stmt 1 view .LVU1046
 3322 00c2 2046     		mov	r0, r4
 3323 00c4 FFF7FEFF 		bl	sys_mbox_set_invalid
 3324              	.LVL340:
 534:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     return ERR_MEM;
 3325              		.loc 1 534 5 view .LVU1047
 3326 00c8 3046     		mov	r0, r6
 3327 00ca FFF7FEFF 		bl	netconn_free
 3328              	.LVL341:
 535:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 3329              		.loc 1 535 5 view .LVU1048
 535:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 3330              		.loc 1 535 12 is_stmt 0 view .LVU1049
 3331 00ce 4FF0FF35 		mov	r5, #-1
 3332 00d2 BAE7     		b	.L262
 3333              	.LVL342:
 3334              	.L268:
 535:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 3335              		.loc 1 535 12 view .LVU1050
 3336              	.LBE24:
 481:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3337              		.loc 1 481 12 view .LVU1051
 3338 00d4 6FF00505 		mvn	r5, #5
 3339 00d8 B7E7     		b	.L262
 3340              	.LVL343:
 3341              	.L269:
 485:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3342              		.loc 1 485 12 view .LVU1052
 3343 00da 6FF00505 		mvn	r5, #5
 3344              	.LVL344:
 485:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3345              		.loc 1 485 12 view .LVU1053
 3346 00de B4E7     		b	.L262
 3347              	.L275:
ARM GAS  /tmp/cc0Mfu8z.s 			page 104


 3348              		.align	2
 3349              	.L274:
 3350 00e0 00000000 		.word	.LANCHOR0
 3351              		.cfi_endproc
 3352              	.LFE108:
 3354              		.section	.rodata.lwip_netconn_do_delconn.str1.4,"aMS",%progbits,1
 3355              		.align	2
 3356              	.LC29:
 3357 0000 6E657463 		.ascii	"netconn state error\000"
 3357      6F6E6E20 
 3357      73746174 
 3357      65206572 
 3357      726F7200 
 3358              		.align	2
 3359              	.LC30:
 3360 0014 626C6F63 		.ascii	"blocking connect in progress\000"
 3360      6B696E67 
 3360      20636F6E 
 3360      6E656374 
 3360      20696E20 
 3361 0031 000000   		.align	2
 3362              	.LC31:
 3363 0034 616C7265 		.ascii	"already writing or closing\000"
 3363      61647920 
 3363      77726974 
 3363      696E6720 
 3363      6F722063 
 3364 004f 00       		.align	2
 3365              	.LC32:
 3366 0050 73746174 		.ascii	"state!\000"
 3366      652100
 3367              		.section	.text.lwip_netconn_do_delconn,"ax",%progbits
 3368              		.align	1
 3369              		.global	lwip_netconn_do_delconn
 3370              		.syntax unified
 3371              		.thumb
 3372              		.thumb_func
 3374              	lwip_netconn_do_delconn:
 3375              	.LVL345:
 3376              	.LFB115:
1020:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
 3377              		.loc 1 1020 1 is_stmt 1 view -0
 3378              		.cfi_startproc
 3379              		@ args = 0, pretend = 0, frame = 0
 3380              		@ frame_needed = 0, uses_anonymous_args = 0
1020:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
 3381              		.loc 1 1020 1 is_stmt 0 view .LVU1055
 3382 0000 38B5     		push	{r3, r4, r5, lr}
 3383              	.LCFI18:
 3384              		.cfi_def_cfa_offset 16
 3385              		.cfi_offset 3, -16
 3386              		.cfi_offset 4, -12
 3387              		.cfi_offset 5, -8
 3388              		.cfi_offset 14, -4
 3389 0002 0446     		mov	r4, r0
1021:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3390              		.loc 1 1021 3 is_stmt 1 view .LVU1056
ARM GAS  /tmp/cc0Mfu8z.s 			page 105


 3391              	.LVL346:
1023:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("netconn state error", /* this only happens for TCP netconns */
 3392              		.loc 1 1023 3 view .LVU1057
1023:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("netconn state error", /* this only happens for TCP netconns */
 3393              		.loc 1 1023 33 is_stmt 0 view .LVU1058
 3394 0004 0368     		ldr	r3, [r0]
1023:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   LWIP_ASSERT("netconn state error", /* this only happens for TCP netconns */
 3395              		.loc 1 1023 22 view .LVU1059
 3396 0006 5D78     		ldrb	r5, [r3, #1]	@ zero_extendqisi2
 3397              	.LVL347:
1024:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3398              		.loc 1 1024 3 is_stmt 1 view .LVU1060
1024:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3399              		.loc 1 1024 3 view .LVU1061
 3400 0008 25B1     		cbz	r5, .L277
1024:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3401              		.loc 1 1024 3 is_stmt 0 discriminator 1 view .LVU1062
 3402 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3403 000c 03F0F003 		and	r3, r3, #240
 3404 0010 102B     		cmp	r3, #16
 3405 0012 1BD1     		bne	.L294
 3406              	.LVL348:
 3407              	.L277:
1024:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3408              		.loc 1 1024 3 is_stmt 1 discriminator 5 view .LVU1063
1024:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3409              		.loc 1 1024 3 discriminator 5 view .LVU1064
1044:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        (state != NETCONN_LISTEN) &&
 3410              		.loc 1 1044 3 discriminator 5 view .LVU1065
1044:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        (state != NETCONN_LISTEN) &&
 3411              		.loc 1 1044 6 is_stmt 0 discriminator 5 view .LVU1066
 3412 0014 15B3     		cbz	r5, .L278
1044:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        (state != NETCONN_LISTEN) &&
 3413              		.loc 1 1044 32 discriminator 1 view .LVU1067
 3414 0016 022D     		cmp	r5, #2
 3415 0018 20D0     		beq	.L278
1045:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****        (state != NETCONN_CONNECT)) ||
 3416              		.loc 1 1045 34 view .LVU1068
 3417 001a 032D     		cmp	r5, #3
 3418 001c 1ED0     		beq	.L278
 3419              	.L279:
1050:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
 3420              		.loc 1 1050 5 is_stmt 1 view .LVU1069
1050:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
 3421              		.loc 1 1050 14 is_stmt 0 view .LVU1070
 3422 001e FB23     		movs	r3, #251
 3423 0020 2371     		strb	r3, [r4, #4]
 3424              	.L281:
1106:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3425              		.loc 1 1106 50 is_stmt 1 discriminator 3 view .LVU1071
1108:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     TCPIP_APIMSG_ACK(msg);
 3426              		.loc 1 1108 3 discriminator 3 view .LVU1072
1108:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     TCPIP_APIMSG_ACK(msg);
 3427              		.loc 1 1108 21 is_stmt 0 discriminator 3 view .LVU1073
 3428 0022 2068     		ldr	r0, [r4]
1108:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     TCPIP_APIMSG_ACK(msg);
 3429              		.loc 1 1108 7 discriminator 3 view .LVU1074
ARM GAS  /tmp/cc0Mfu8z.s 			page 106


 3430 0024 0C30     		adds	r0, r0, #12
 3431 0026 FFF7FEFF 		bl	sys_sem_valid
 3432              	.LVL349:
1108:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     TCPIP_APIMSG_ACK(msg);
 3433              		.loc 1 1108 6 discriminator 3 view .LVU1075
 3434 002a 70B1     		cbz	r0, .L276
1109:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3435              		.loc 1 1109 5 is_stmt 1 view .LVU1076
1109:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3436              		.loc 1 1109 5 view .LVU1077
 3437 002c 2368     		ldr	r3, [r4]
 3438 002e 63B1     		cbz	r3, .L276
 3439              	.LBB25:
1109:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3440              		.loc 1 1109 5 discriminator 1 view .LVU1078
1109:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3441              		.loc 1 1109 5 discriminator 1 view .LVU1079
 3442 0030 FFF7FEFF 		bl	sys_arch_protect
 3443              	.LVL350:
1109:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3444              		.loc 1 1109 5 discriminator 1 view .LVU1080
 3445 0034 2368     		ldr	r3, [r4]
 3446 0036 93F90820 		ldrsb	r2, [r3, #8]
 3447 003a 12F10C0F 		cmn	r2, #12
 3448 003e 02DB     		blt	.L292
1109:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3449              		.loc 1 1109 5 discriminator 3 view .LVU1081
 3450 0040 94F90420 		ldrsb	r2, [r4, #4]
 3451 0044 1A72     		strb	r2, [r3, #8]
 3452              	.L292:
1109:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3453              		.loc 1 1109 5 discriminator 5 view .LVU1082
 3454 0046 FFF7FEFF 		bl	sys_arch_unprotect
 3455              	.LVL351:
1109:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3456              		.loc 1 1109 5 is_stmt 0 discriminator 5 view .LVU1083
 3457              	.LBE25:
1109:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3458              		.loc 1 1109 5 is_stmt 1 discriminator 5 view .LVU1084
1109:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3459              		.loc 1 1109 26 discriminator 5 view .LVU1085
 3460              	.L276:
1111:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3461              		.loc 1 1111 1 is_stmt 0 view .LVU1086
 3462 004a 38BD     		pop	{r3, r4, r5, pc}
 3463              	.LVL352:
 3464              	.L294:
1024:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3465              		.loc 1 1024 3 is_stmt 1 discriminator 3 view .LVU1087
1024:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
 3466              		.loc 1 1024 3 discriminator 3 view .LVU1088
 3467 004c 414B     		ldr	r3, .L299
 3468 004e 4FF48062 		mov	r2, #1024
 3469 0052 4149     		ldr	r1, .L299+4
 3470 0054 4148     		ldr	r0, .L299+8
 3471              	.LVL353:
1024:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     (state == NETCONN_NONE) || (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP));
ARM GAS  /tmp/cc0Mfu8z.s 			page 107


 3472              		.loc 1 1024 3 is_stmt 0 discriminator 3 view .LVU1089
 3473 0056 FFF7FEFF 		bl	printf
 3474              	.LVL354:
 3475 005a DBE7     		b	.L277
 3476              	.L278:
1046:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((state == NETCONN_CONNECT) && !IN_NONBLOCKING_CONNECT(msg->conn))) {
 3477              		.loc 1 1046 36 view .LVU1090
 3478 005c 032D     		cmp	r5, #3
 3479 005e 27D0     		beq	.L295
 3480              	.L280:
1054:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 3481              		.loc 1 1054 5 is_stmt 1 view .LVU1091
1054:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 3482              		.loc 1 1054 5 view .LVU1092
 3483 0060 032D     		cmp	r5, #3
 3484 0062 2BD0     		beq	.L296
 3485              	.L282:
1054:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 3486              		.loc 1 1054 5 discriminator 5 view .LVU1093
1054:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 3487              		.loc 1 1054 5 discriminator 5 view .LVU1094
1056:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Drain and delete mboxes */
 3488              		.loc 1 1056 5 discriminator 5 view .LVU1095
1056:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Drain and delete mboxes */
 3489              		.loc 1 1056 14 is_stmt 0 discriminator 5 view .LVU1096
 3490 0064 0023     		movs	r3, #0
 3491 0066 2371     		strb	r3, [r4, #4]
1058:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3492              		.loc 1 1058 5 is_stmt 1 discriminator 5 view .LVU1097
 3493 0068 2068     		ldr	r0, [r4]
 3494 006a FFF7FEFF 		bl	netconn_drain
 3495              	.LVL355:
1060:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3496              		.loc 1 1060 5 discriminator 5 view .LVU1098
1060:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3497              		.loc 1 1060 12 is_stmt 0 discriminator 5 view .LVU1099
 3498 006e 2268     		ldr	r2, [r4]
1060:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3499              		.loc 1 1060 23 discriminator 5 view .LVU1100
 3500 0070 5168     		ldr	r1, [r2, #4]
1060:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3501              		.loc 1 1060 8 discriminator 5 view .LVU1101
 3502 0072 79B1     		cbz	r1, .L283
1062:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 3503              		.loc 1 1062 7 is_stmt 1 view .LVU1102
1062:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 3504              		.loc 1 1062 15 is_stmt 0 view .LVU1103
 3505 0074 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 3506 0076 03F0F003 		and	r3, r3, #240
1062:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 3507              		.loc 1 1062 7 view .LVU1104
 3508 007a 102B     		cmp	r3, #16
 3509 007c 2BD0     		beq	.L284
 3510 007e 202B     		cmp	r3, #32
 3511 0080 05D1     		bne	.L285
1070:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         udp_remove(msg->conn->pcb.udp);
 3512              		.loc 1 1070 9 is_stmt 1 view .LVU1105
ARM GAS  /tmp/cc0Mfu8z.s 			page 108


1070:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         udp_remove(msg->conn->pcb.udp);
 3513              		.loc 1 1070 38 is_stmt 0 view .LVU1106
 3514 0082 0023     		movs	r3, #0
 3515 0084 CB61     		str	r3, [r1, #28]
1071:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 3516              		.loc 1 1071 9 is_stmt 1 view .LVU1107
1071:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 3517              		.loc 1 1071 23 is_stmt 0 view .LVU1108
 3518 0086 2368     		ldr	r3, [r4]
1071:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 3519              		.loc 1 1071 9 view .LVU1109
 3520 0088 5868     		ldr	r0, [r3, #4]
 3521 008a FFF7FEFF 		bl	udp_remove
 3522              	.LVL356:
1072:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 3523              		.loc 1 1072 9 is_stmt 1 view .LVU1110
 3524              	.L285:
1099:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3525              		.loc 1 1099 7 view .LVU1111
1099:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3526              		.loc 1 1099 10 is_stmt 0 view .LVU1112
 3527 008e 2368     		ldr	r3, [r4]
1099:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 3528              		.loc 1 1099 26 view .LVU1113
 3529 0090 0022     		movs	r2, #0
 3530 0092 5A60     		str	r2, [r3, #4]
 3531              	.L283:
1105:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(msg->conn, NETCONN_EVT_SENDPLUS, 0);
 3532              		.loc 1 1105 5 is_stmt 1 view .LVU1114
 3533 0094 2068     		ldr	r0, [r4]
 3534 0096 836A     		ldr	r3, [r0, #40]
 3535 0098 13B1     		cbz	r3, .L291
1105:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(msg->conn, NETCONN_EVT_SENDPLUS, 0);
 3536              		.loc 1 1105 5 discriminator 1 view .LVU1115
 3537 009a 0022     		movs	r2, #0
 3538 009c 1146     		mov	r1, r2
 3539 009e 9847     		blx	r3
 3540              	.LVL357:
 3541              	.L291:
1105:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     API_EVENT(msg->conn, NETCONN_EVT_SENDPLUS, 0);
 3542              		.loc 1 1105 49 discriminator 3 view .LVU1116
1106:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3543              		.loc 1 1106 5 discriminator 3 view .LVU1117
 3544 00a0 2068     		ldr	r0, [r4]
 3545 00a2 836A     		ldr	r3, [r0, #40]
 3546 00a4 002B     		cmp	r3, #0
 3547 00a6 BCD0     		beq	.L281
1106:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 3548              		.loc 1 1106 5 discriminator 1 view .LVU1118
 3549 00a8 0022     		movs	r2, #0
 3550 00aa 0221     		movs	r1, #2
 3551 00ac 9847     		blx	r3
 3552              	.LVL358:
 3553 00ae B8E7     		b	.L281
 3554              	.L295:
1047:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This means either a blocking write or blocking connect is running
 3555              		.loc 1 1047 39 is_stmt 0 view .LVU1119
ARM GAS  /tmp/cc0Mfu8z.s 			page 109


 3556 00b0 2368     		ldr	r3, [r4]
 3557 00b2 1B7F     		ldrb	r3, [r3, #28]	@ zero_extendqisi2
1047:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This means either a blocking write or blocking connect is running
 3558              		.loc 1 1047 35 view .LVU1120
 3559 00b4 13F0040F 		tst	r3, #4
 3560 00b8 D2D1     		bne	.L280
 3561 00ba B0E7     		b	.L279
 3562              	.L296:
1054:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 3563              		.loc 1 1054 5 discriminator 1 view .LVU1121
 3564 00bc 2368     		ldr	r3, [r4]
 3565 00be 1B7F     		ldrb	r3, [r3, #28]	@ zero_extendqisi2
 3566 00c0 13F0040F 		tst	r3, #4
 3567 00c4 CED1     		bne	.L282
1054:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 3568              		.loc 1 1054 5 is_stmt 1 discriminator 3 view .LVU1122
1054:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (state != NETCONN_CONNECT) || IN_NONBLOCKING_CONNECT(msg->conn));
 3569              		.loc 1 1054 5 discriminator 3 view .LVU1123
 3570 00c6 234B     		ldr	r3, .L299
 3571 00c8 40F21E42 		movw	r2, #1054
 3572 00cc 2449     		ldr	r1, .L299+12
 3573 00ce 2348     		ldr	r0, .L299+8
 3574 00d0 FFF7FEFF 		bl	printf
 3575              	.LVL359:
 3576 00d4 C6E7     		b	.L282
 3577              	.L284:
1076:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->write_offset == 0);
 3578              		.loc 1 1076 9 view .LVU1124
1076:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->write_offset == 0);
 3579              		.loc 1 1076 9 view .LVU1125
 3580 00d6 536A     		ldr	r3, [r2, #36]
 3581 00d8 002B     		cmp	r3, #0
 3582 00da 2FD0     		beq	.L297
 3583              	.L286:
1076:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->write_offset == 0);
 3584              		.loc 1 1076 9 discriminator 3 view .LVU1126
1076:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->write_offset == 0);
 3585              		.loc 1 1076 9 discriminator 3 view .LVU1127
 3586 00dc 1D4B     		ldr	r3, .L299
 3587 00de 40F23442 		movw	r2, #1076
 3588 00e2 2049     		ldr	r1, .L299+16
 3589 00e4 1D48     		ldr	r0, .L299+8
 3590 00e6 FFF7FEFF 		bl	printf
 3591              	.LVL360:
 3592              	.L287:
1076:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->write_offset == 0);
 3593              		.loc 1 1076 9 discriminator 5 view .LVU1128
1076:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->write_offset == 0);
 3594              		.loc 1 1076 9 discriminator 5 view .LVU1129
1078:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->msg.sd.shut = NETCONN_SHUT_RDWR;
 3595              		.loc 1 1078 9 discriminator 5 view .LVU1130
1078:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->msg.sd.shut = NETCONN_SHUT_RDWR;
 3596              		.loc 1 1078 12 is_stmt 0 discriminator 5 view .LVU1131
 3597 00ea 2368     		ldr	r3, [r4]
1078:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->msg.sd.shut = NETCONN_SHUT_RDWR;
 3598              		.loc 1 1078 26 discriminator 5 view .LVU1132
 3599 00ec 0422     		movs	r2, #4
ARM GAS  /tmp/cc0Mfu8z.s 			page 110


 3600 00ee 5A70     		strb	r2, [r3, #1]
1079:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
 3601              		.loc 1 1079 9 is_stmt 1 discriminator 5 view .LVU1133
1079:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
 3602              		.loc 1 1079 26 is_stmt 0 discriminator 5 view .LVU1134
 3603 00f0 0323     		movs	r3, #3
 3604 00f2 2372     		strb	r3, [r4, #8]
1080:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 3605              		.loc 1 1080 9 is_stmt 1 discriminator 5 view .LVU1135
1080:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 3606              		.loc 1 1080 12 is_stmt 0 discriminator 5 view .LVU1136
 3607 00f4 2368     		ldr	r3, [r4]
1080:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 3608              		.loc 1 1080 32 discriminator 5 view .LVU1137
 3609 00f6 5C62     		str	r4, [r3, #36]
1082:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
 3610              		.loc 1 1082 9 is_stmt 1 discriminator 5 view .LVU1138
1082:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
 3611              		.loc 1 1082 13 is_stmt 0 discriminator 5 view .LVU1139
 3612 00f8 0021     		movs	r1, #0
 3613 00fa 2068     		ldr	r0, [r4]
 3614 00fc FFF7FEFF 		bl	lwip_netconn_do_close_internal
 3615              	.LVL361:
1082:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
 3616              		.loc 1 1082 12 discriminator 5 view .LVU1140
 3617 0100 0028     		cmp	r0, #0
 3618 0102 A2D0     		beq	.L276
1083:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 3619              		.loc 1 1083 11 is_stmt 1 view .LVU1141
1083:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 3620              		.loc 1 1083 11 view .LVU1142
 3621 0104 2368     		ldr	r3, [r4]
 3622 0106 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3623 0108 042B     		cmp	r3, #4
 3624 010a 1BD1     		bne	.L298
 3625              	.L289:
1083:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 3626              		.loc 1 1083 11 discriminator 3 view .LVU1143
1083:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 3627              		.loc 1 1083 11 discriminator 3 view .LVU1144
1084:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
 3628              		.loc 1 1084 11 discriminator 3 view .LVU1145
 3629 010c 164D     		ldr	r5, .L299+20
 3630              	.LVL362:
1084:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
 3631              		.loc 1 1084 11 is_stmt 0 discriminator 3 view .LVU1146
 3632 010e 2846     		mov	r0, r5
 3633 0110 FFF7FEFF 		bl	sys_mutex_unlock
 3634              	.LVL363:
1085:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LOCK_TCPIP_CORE();
 3635              		.loc 1 1085 11 is_stmt 1 discriminator 3 view .LVU1147
1085:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LOCK_TCPIP_CORE();
 3636              		.loc 1 1085 29 is_stmt 0 discriminator 3 view .LVU1148
 3637 0114 2068     		ldr	r0, [r4]
1085:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LOCK_TCPIP_CORE();
 3638              		.loc 1 1085 11 discriminator 3 view .LVU1149
 3639 0116 0021     		movs	r1, #0
ARM GAS  /tmp/cc0Mfu8z.s 			page 111


 3640 0118 0C30     		adds	r0, r0, #12
 3641 011a FFF7FEFF 		bl	sys_arch_sem_wait
 3642              	.LVL364:
1086:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state == NETCONN_NONE);
 3643              		.loc 1 1086 11 is_stmt 1 discriminator 3 view .LVU1150
 3644 011e 2846     		mov	r0, r5
 3645 0120 FFF7FEFF 		bl	sys_mutex_lock
 3646              	.LVL365:
1087:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 3647              		.loc 1 1087 11 discriminator 3 view .LVU1151
1087:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 3648              		.loc 1 1087 11 discriminator 3 view .LVU1152
 3649 0124 2368     		ldr	r3, [r4]
 3650 0126 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3651 0128 002B     		cmp	r3, #0
 3652 012a 8ED0     		beq	.L276
1087:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 3653              		.loc 1 1087 11 discriminator 1 view .LVU1153
1087:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 3654              		.loc 1 1087 11 discriminator 1 view .LVU1154
 3655 012c 094B     		ldr	r3, .L299
 3656 012e 40F23F42 		movw	r2, #1087
 3657 0132 0E49     		ldr	r1, .L299+24
 3658 0134 0948     		ldr	r0, .L299+8
 3659 0136 FFF7FEFF 		bl	printf
 3660              	.LVL366:
1087:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 3661              		.loc 1 1087 11 discriminator 1 view .LVU1155
1087:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 3662              		.loc 1 1087 11 discriminator 1 view .LVU1156
1094:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 3663              		.loc 1 1094 9 discriminator 1 view .LVU1157
 3664 013a 86E7     		b	.L276
 3665              	.LVL367:
 3666              	.L297:
1076:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->write_offset == 0);
 3667              		.loc 1 1076 9 is_stmt 0 discriminator 2 view .LVU1158
 3668 013c 136A     		ldr	r3, [r2, #32]
 3669 013e 002B     		cmp	r3, #0
 3670 0140 D3D0     		beq	.L287
 3671 0142 CBE7     		b	.L286
 3672              	.L298:
1083:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 3673              		.loc 1 1083 11 is_stmt 1 discriminator 1 view .LVU1159
1083:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 3674              		.loc 1 1083 11 discriminator 1 view .LVU1160
 3675 0144 034B     		ldr	r3, .L299
 3676 0146 40F23B42 		movw	r2, #1083
 3677 014a 0849     		ldr	r1, .L299+24
 3678 014c 0348     		ldr	r0, .L299+8
 3679 014e FFF7FEFF 		bl	printf
 3680              	.LVL368:
 3681 0152 DBE7     		b	.L289
 3682              	.L300:
 3683              		.align	2
 3684              	.L299:
 3685 0154 00000000 		.word	.LC0
ARM GAS  /tmp/cc0Mfu8z.s 			page 112


 3686 0158 00000000 		.word	.LC29
 3687 015c 54000000 		.word	.LC2
 3688 0160 14000000 		.word	.LC30
 3689 0164 34000000 		.word	.LC31
 3690 0168 00000000 		.word	lock_tcpip_core
 3691 016c 50000000 		.word	.LC32
 3692              		.cfi_endproc
 3693              	.LFE115:
 3695              		.section	.text.lwip_netconn_do_bind,"ax",%progbits
 3696              		.align	1
 3697              		.global	lwip_netconn_do_bind
 3698              		.syntax unified
 3699              		.thumb
 3700              		.thumb_func
 3702              	lwip_netconn_do_bind:
 3703              	.LVL369:
 3704              	.LFB116:
1122:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
 3705              		.loc 1 1122 1 view -0
 3706              		.cfi_startproc
 3707              		@ args = 0, pretend = 0, frame = 0
 3708              		@ frame_needed = 0, uses_anonymous_args = 0
1122:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
 3709              		.loc 1 1122 1 is_stmt 0 view .LVU1162
 3710 0000 10B5     		push	{r4, lr}
 3711              	.LCFI19:
 3712              		.cfi_def_cfa_offset 8
 3713              		.cfi_offset 4, -8
 3714              		.cfi_offset 14, -4
 3715 0002 0446     		mov	r4, r0
1123:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3716              		.loc 1 1123 3 is_stmt 1 view .LVU1163
 3717              	.LVL370:
1125:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = msg->conn->last_err;
 3718              		.loc 1 1125 3 view .LVU1164
1125:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = msg->conn->last_err;
 3719              		.loc 1 1125 7 is_stmt 0 view .LVU1165
 3720 0004 0368     		ldr	r3, [r0]
 3721 0006 93F90820 		ldrsb	r2, [r3, #8]
1125:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = msg->conn->last_err;
 3722              		.loc 1 1125 6 view .LVU1166
 3723 000a 12F10C0F 		cmn	r2, #12
 3724 000e 10DA     		bge	.L302
1126:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 3725              		.loc 1 1126 5 is_stmt 1 view .LVU1167
1126:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 3726              		.loc 1 1126 14 is_stmt 0 view .LVU1168
 3727 0010 0271     		strb	r2, [r0, #4]
 3728              	.LVL371:
 3729              	.L303:
1151:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3730              		.loc 1 1151 3 is_stmt 1 view .LVU1169
1151:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3731              		.loc 1 1151 3 view .LVU1170
 3732 0012 2368     		ldr	r3, [r4]
 3733 0014 63B1     		cbz	r3, .L301
 3734              	.LBB26:
ARM GAS  /tmp/cc0Mfu8z.s 			page 113


1151:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3735              		.loc 1 1151 3 discriminator 1 view .LVU1171
1151:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3736              		.loc 1 1151 3 discriminator 1 view .LVU1172
 3737 0016 FFF7FEFF 		bl	sys_arch_protect
 3738              	.LVL372:
1151:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3739              		.loc 1 1151 3 discriminator 1 view .LVU1173
 3740 001a 2368     		ldr	r3, [r4]
 3741 001c 93F90820 		ldrsb	r2, [r3, #8]
 3742 0020 12F10C0F 		cmn	r2, #12
 3743 0024 02DB     		blt	.L306
1151:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3744              		.loc 1 1151 3 discriminator 3 view .LVU1174
 3745 0026 94F90420 		ldrsb	r2, [r4, #4]
 3746 002a 1A72     		strb	r2, [r3, #8]
 3747              	.L306:
1151:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3748              		.loc 1 1151 3 discriminator 5 view .LVU1175
 3749 002c FFF7FEFF 		bl	sys_arch_unprotect
 3750              	.LVL373:
1151:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3751              		.loc 1 1151 3 is_stmt 0 discriminator 5 view .LVU1176
 3752              	.LBE26:
1151:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3753              		.loc 1 1151 3 is_stmt 1 discriminator 5 view .LVU1177
1151:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3754              		.loc 1 1151 24 discriminator 5 view .LVU1178
 3755              	.L301:
1152:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3756              		.loc 1 1152 1 is_stmt 0 view .LVU1179
 3757 0030 10BD     		pop	{r4, pc}
 3758              	.LVL374:
 3759              	.L302:
1128:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
 3760              		.loc 1 1128 5 is_stmt 1 view .LVU1180
1128:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
 3761              		.loc 1 1128 14 is_stmt 0 view .LVU1181
 3762 0032 FA22     		movs	r2, #250
 3763 0034 0271     		strb	r2, [r0, #4]
1129:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 3764              		.loc 1 1129 5 is_stmt 1 view .LVU1182
1129:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 3765              		.loc 1 1129 23 is_stmt 0 view .LVU1183
 3766 0036 5868     		ldr	r0, [r3, #4]
 3767              	.LVL375:
1129:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 3768              		.loc 1 1129 8 view .LVU1184
 3769 0038 0028     		cmp	r0, #0
 3770 003a EAD0     		beq	.L303
1130:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 3771              		.loc 1 1130 7 is_stmt 1 view .LVU1185
1130:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 3772              		.loc 1 1130 15 is_stmt 0 view .LVU1186
 3773 003c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3774 003e 03F0F003 		and	r3, r3, #240
1130:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
ARM GAS  /tmp/cc0Mfu8z.s 			page 114


 3775              		.loc 1 1130 7 view .LVU1187
 3776 0042 102B     		cmp	r3, #16
 3777 0044 07D0     		beq	.L304
 3778 0046 202B     		cmp	r3, #32
 3779 0048 E3D1     		bne	.L303
1138:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 3780              		.loc 1 1138 9 is_stmt 1 view .LVU1188
1138:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 3781              		.loc 1 1138 20 is_stmt 0 view .LVU1189
 3782 004a A289     		ldrh	r2, [r4, #12]
 3783 004c A168     		ldr	r1, [r4, #8]
 3784 004e FFF7FEFF 		bl	udp_bind
 3785              	.LVL376:
1138:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 3786              		.loc 1 1138 18 view .LVU1190
 3787 0052 2071     		strb	r0, [r4, #4]
1139:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 3788              		.loc 1 1139 9 is_stmt 1 view .LVU1191
 3789 0054 DDE7     		b	.L303
 3790              	.L304:
1143:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 3791              		.loc 1 1143 9 view .LVU1192
1143:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 3792              		.loc 1 1143 20 is_stmt 0 view .LVU1193
 3793 0056 A289     		ldrh	r2, [r4, #12]
 3794 0058 A168     		ldr	r1, [r4, #8]
 3795 005a FFF7FEFF 		bl	tcp_bind
 3796              	.LVL377:
1143:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         break;
 3797              		.loc 1 1143 18 view .LVU1194
 3798 005e 2071     		strb	r0, [r4, #4]
1144:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 3799              		.loc 1 1144 9 is_stmt 1 view .LVU1195
 3800 0060 D7E7     		b	.L303
 3801              		.cfi_endproc
 3802              	.LFE116:
 3804              		.section	.rodata.lwip_netconn_do_connect.str1.4,"aMS",%progbits,1
 3805              		.align	2
 3806              	.LC33:
 3807 0000 496E7661 		.ascii	"Invalid netconn type\000"
 3807      6C696420 
 3807      6E657463 
 3807      6F6E6E20 
 3807      74797065 
 3808              		.section	.text.lwip_netconn_do_connect,"ax",%progbits
 3809              		.align	1
 3810              		.global	lwip_netconn_do_connect
 3811              		.syntax unified
 3812              		.thumb
 3813              		.thumb_func
 3815              	lwip_netconn_do_connect:
 3816              	.LVL378:
 3817              	.LFB118:
1213:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
 3818              		.loc 1 1213 1 view -0
 3819              		.cfi_startproc
 3820              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/cc0Mfu8z.s 			page 115


 3821              		@ frame_needed = 0, uses_anonymous_args = 0
1213:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
 3822              		.loc 1 1213 1 is_stmt 0 view .LVU1197
 3823 0000 38B5     		push	{r3, r4, r5, lr}
 3824              	.LCFI20:
 3825              		.cfi_def_cfa_offset 16
 3826              		.cfi_offset 3, -16
 3827              		.cfi_offset 4, -12
 3828              		.cfi_offset 5, -8
 3829              		.cfi_offset 14, -4
 3830 0002 0446     		mov	r4, r0
1214:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3831              		.loc 1 1214 3 is_stmt 1 view .LVU1198
 3832              	.LVL379:
1216:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This may happen when calling netconn_connect() a second time */
 3833              		.loc 1 1216 3 view .LVU1199
1216:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This may happen when calling netconn_connect() a second time */
 3834              		.loc 1 1216 10 is_stmt 0 view .LVU1200
 3835 0004 0268     		ldr	r2, [r0]
1216:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This may happen when calling netconn_connect() a second time */
 3836              		.loc 1 1216 21 view .LVU1201
 3837 0006 5068     		ldr	r0, [r2, #4]
 3838              	.LVL380:
1216:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* This may happen when calling netconn_connect() a second time */
 3839              		.loc 1 1216 6 view .LVU1202
 3840 0008 60B1     		cbz	r0, .L323
1220:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 3841              		.loc 1 1220 5 is_stmt 1 view .LVU1203
1220:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 3842              		.loc 1 1220 13 is_stmt 0 view .LVU1204
 3843 000a 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 3844 000c 03F0F003 		and	r3, r3, #240
1220:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 3845              		.loc 1 1220 5 view .LVU1205
 3846 0010 102B     		cmp	r3, #16
 3847 0012 19D0     		beq	.L311
 3848 0014 202B     		cmp	r3, #32
 3849 0016 6AD1     		bne	.L312
1228:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 3850              		.loc 1 1228 7 is_stmt 1 view .LVU1206
1228:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 3851              		.loc 1 1228 18 is_stmt 0 view .LVU1207
 3852 0018 A289     		ldrh	r2, [r4, #12]
 3853 001a A168     		ldr	r1, [r4, #8]
 3854 001c FFF7FEFF 		bl	udp_connect
 3855              	.LVL381:
1228:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 3856              		.loc 1 1228 16 view .LVU1208
 3857 0020 2071     		strb	r0, [r4, #4]
1229:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
 3858              		.loc 1 1229 7 is_stmt 1 view .LVU1209
 3859 0022 01E0     		b	.L310
 3860              	.L323:
1218:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 3861              		.loc 1 1218 5 view .LVU1210
1218:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 3862              		.loc 1 1218 14 is_stmt 0 view .LVU1211
ARM GAS  /tmp/cc0Mfu8z.s 			page 116


 3863 0024 F123     		movs	r3, #241
 3864 0026 2371     		strb	r3, [r4, #4]
 3865              	.L310:
1272:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3866              		.loc 1 1272 3 is_stmt 1 view .LVU1212
1272:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3867              		.loc 1 1272 3 view .LVU1213
 3868 0028 2368     		ldr	r3, [r4]
 3869 002a 63B1     		cbz	r3, .L308
 3870              	.LBB27:
1272:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3871              		.loc 1 1272 3 discriminator 1 view .LVU1214
1272:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3872              		.loc 1 1272 3 discriminator 1 view .LVU1215
 3873 002c FFF7FEFF 		bl	sys_arch_protect
 3874              	.LVL382:
1272:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3875              		.loc 1 1272 3 discriminator 1 view .LVU1216
 3876 0030 2368     		ldr	r3, [r4]
 3877 0032 93F90820 		ldrsb	r2, [r3, #8]
 3878 0036 12F10C0F 		cmn	r2, #12
 3879 003a 02DB     		blt	.L321
1272:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3880              		.loc 1 1272 3 discriminator 3 view .LVU1217
 3881 003c 94F90420 		ldrsb	r2, [r4, #4]
 3882 0040 1A72     		strb	r2, [r3, #8]
 3883              	.L321:
1272:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3884              		.loc 1 1272 3 discriminator 5 view .LVU1218
 3885 0042 FFF7FEFF 		bl	sys_arch_unprotect
 3886              	.LVL383:
1272:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3887              		.loc 1 1272 3 is_stmt 0 discriminator 5 view .LVU1219
 3888              	.LBE27:
1272:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3889              		.loc 1 1272 3 is_stmt 1 discriminator 5 view .LVU1220
1272:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 3890              		.loc 1 1272 24 discriminator 5 view .LVU1221
 3891              	.L308:
1273:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 3892              		.loc 1 1273 1 is_stmt 0 view .LVU1222
 3893 0046 38BD     		pop	{r3, r4, r5, pc}
 3894              	.LVL384:
 3895              	.L311:
1234:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = ERR_ALREADY;
 3896              		.loc 1 1234 7 is_stmt 1 view .LVU1223
1234:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = ERR_ALREADY;
 3897              		.loc 1 1234 20 is_stmt 0 view .LVU1224
 3898 0048 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
1234:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = ERR_ALREADY;
 3899              		.loc 1 1234 10 view .LVU1225
 3900 004a 032B     		cmp	r3, #3
 3901 004c 03D0     		beq	.L324
1236:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = ERR_ISCONN;
 3902              		.loc 1 1236 14 is_stmt 1 view .LVU1226
1236:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = ERR_ISCONN;
 3903              		.loc 1 1236 17 is_stmt 0 view .LVU1227
ARM GAS  /tmp/cc0Mfu8z.s 			page 117


 3904 004e 2BB1     		cbz	r3, .L314
1237:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 3905              		.loc 1 1237 9 is_stmt 1 view .LVU1228
1237:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 3906              		.loc 1 1237 18 is_stmt 0 view .LVU1229
 3907 0050 F623     		movs	r3, #246
 3908 0052 2371     		strb	r3, [r4, #4]
 3909 0054 E8E7     		b	.L310
 3910              	.L324:
1235:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (msg->conn->state != NETCONN_NONE) {
 3911              		.loc 1 1235 9 is_stmt 1 view .LVU1230
1235:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (msg->conn->state != NETCONN_NONE) {
 3912              		.loc 1 1235 18 is_stmt 0 view .LVU1231
 3913 0056 F723     		movs	r3, #247
 3914 0058 2371     		strb	r3, [r4, #4]
 3915 005a E5E7     		b	.L310
 3916              	.L314:
1239:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = tcp_connect(msg->conn->pcb.tcp, API_EXPR_REF(msg->msg.bc.ipaddr),
 3917              		.loc 1 1239 9 is_stmt 1 view .LVU1232
 3918 005c 1046     		mov	r0, r2
 3919 005e FFF7FEFF 		bl	setup_tcp
 3920              	.LVL385:
1240:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->msg.bc.port, lwip_netconn_do_connected);
 3921              		.loc 1 1240 9 view .LVU1233
1240:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->msg.bc.port, lwip_netconn_do_connected);
 3922              		.loc 1 1240 35 is_stmt 0 view .LVU1234
 3923 0062 2068     		ldr	r0, [r4]
1240:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->msg.bc.port, lwip_netconn_do_connected);
 3924              		.loc 1 1240 20 view .LVU1235
 3925 0064 274B     		ldr	r3, .L326
 3926 0066 A289     		ldrh	r2, [r4, #12]
 3927 0068 A168     		ldr	r1, [r4, #8]
 3928 006a 4068     		ldr	r0, [r0, #4]
 3929 006c FFF7FEFF 		bl	tcp_connect
 3930              	.LVL386:
1240:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->msg.bc.port, lwip_netconn_do_connected);
 3931              		.loc 1 1240 18 view .LVU1236
 3932 0070 2071     		strb	r0, [r4, #4]
1242:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           u8_t non_blocking = netconn_is_nonblocking(msg->conn);
 3933              		.loc 1 1242 9 is_stmt 1 view .LVU1237
1242:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           u8_t non_blocking = netconn_is_nonblocking(msg->conn);
 3934              		.loc 1 1242 12 is_stmt 0 view .LVU1238
 3935 0072 0028     		cmp	r0, #0
 3936 0074 D8D1     		bne	.L310
 3937              	.LBB28:
1243:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->state = NETCONN_CONNECT;
 3938              		.loc 1 1243 11 is_stmt 1 view .LVU1239
1243:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->state = NETCONN_CONNECT;
 3939              		.loc 1 1243 31 is_stmt 0 view .LVU1240
 3940 0076 2268     		ldr	r2, [r4]
 3941 0078 137F     		ldrb	r3, [r2, #28]	@ zero_extendqisi2
 3942              	.LVL387:
1244:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           SET_NONBLOCKING_CONNECT(msg->conn, non_blocking);
 3943              		.loc 1 1244 11 is_stmt 1 view .LVU1241
1244:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           SET_NONBLOCKING_CONNECT(msg->conn, non_blocking);
 3944              		.loc 1 1244 28 is_stmt 0 view .LVU1242
 3945 007a 0321     		movs	r1, #3
ARM GAS  /tmp/cc0Mfu8z.s 			page 118


 3946 007c 5170     		strb	r1, [r2, #1]
1245:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (non_blocking) {
 3947              		.loc 1 1245 11 is_stmt 1 view .LVU1243
1245:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (non_blocking) {
 3948              		.loc 1 1245 11 view .LVU1244
 3949 007e 13F00203 		ands	r3, r3, #2
 3950              	.LVL388:
1245:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (non_blocking) {
 3951              		.loc 1 1245 11 is_stmt 0 view .LVU1245
 3952 0082 08D0     		beq	.L315
1245:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (non_blocking) {
 3953              		.loc 1 1245 11 is_stmt 1 discriminator 1 view .LVU1246
 3954 0084 2168     		ldr	r1, [r4]
 3955 0086 0A7F     		ldrb	r2, [r1, #28]	@ zero_extendqisi2
 3956              	.LVL389:
1245:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (non_blocking) {
 3957              		.loc 1 1245 11 is_stmt 0 discriminator 1 view .LVU1247
 3958 0088 42F00402 		orr	r2, r2, #4
 3959 008c 0A77     		strb	r2, [r1, #28]
 3960              	.L316:
1245:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (non_blocking) {
 3961              		.loc 1 1245 11 is_stmt 1 discriminator 4 view .LVU1248
1246:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->err = ERR_INPROGRESS;
 3962              		.loc 1 1246 11 discriminator 4 view .LVU1249
1246:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             msg->err = ERR_INPROGRESS;
 3963              		.loc 1 1246 14 is_stmt 0 discriminator 4 view .LVU1250
 3964 008e 43B1     		cbz	r3, .L317
1247:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
 3965              		.loc 1 1247 13 is_stmt 1 view .LVU1251
1247:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
 3966              		.loc 1 1247 22 is_stmt 0 view .LVU1252
 3967 0090 FB23     		movs	r3, #251
 3968 0092 2371     		strb	r3, [r4, #4]
 3969 0094 C8E7     		b	.L310
 3970              	.LVL390:
 3971              	.L315:
1245:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (non_blocking) {
 3972              		.loc 1 1245 11 is_stmt 1 discriminator 2 view .LVU1253
 3973 0096 2168     		ldr	r1, [r4]
 3974 0098 0A7F     		ldrb	r2, [r1, #28]	@ zero_extendqisi2
 3975              	.LVL391:
1245:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (non_blocking) {
 3976              		.loc 1 1245 11 is_stmt 0 discriminator 2 view .LVU1254
 3977 009a 22F00402 		bic	r2, r2, #4
 3978 009e 0A77     		strb	r2, [r1, #28]
1245:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (non_blocking) {
 3979              		.loc 1 1245 11 discriminator 2 view .LVU1255
 3980 00a0 F5E7     		b	.L316
 3981              	.L317:
1249:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* sys_sem_signal() is called from lwip_netconn_do_connected (or err_tcp()),
 3982              		.loc 1 1249 13 is_stmt 1 view .LVU1256
1249:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* sys_sem_signal() is called from lwip_netconn_do_connected (or err_tcp()),
 3983              		.loc 1 1249 16 is_stmt 0 view .LVU1257
 3984 00a2 2368     		ldr	r3, [r4]
1249:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* sys_sem_signal() is called from lwip_netconn_do_connected (or err_tcp()),
 3985              		.loc 1 1249 36 view .LVU1258
 3986 00a4 5C62     		str	r4, [r3, #36]
ARM GAS  /tmp/cc0Mfu8z.s 			page 119


1253:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
 3987              		.loc 1 1253 13 is_stmt 1 view .LVU1259
1253:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
 3988              		.loc 1 1253 13 view .LVU1260
 3989 00a6 2368     		ldr	r3, [r4]
 3990 00a8 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3991 00aa 032B     		cmp	r3, #3
 3992 00ac 17D1     		bne	.L325
 3993              	.L318:
1253:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
 3994              		.loc 1 1253 13 discriminator 3 view .LVU1261
1253:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
 3995              		.loc 1 1253 13 discriminator 3 view .LVU1262
1254:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
 3996              		.loc 1 1254 13 discriminator 3 view .LVU1263
 3997 00ae 164D     		ldr	r5, .L326+4
 3998 00b0 2846     		mov	r0, r5
 3999 00b2 FFF7FEFF 		bl	sys_mutex_unlock
 4000              	.LVL392:
1255:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LOCK_TCPIP_CORE();
 4001              		.loc 1 1255 13 discriminator 3 view .LVU1264
1255:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LOCK_TCPIP_CORE();
 4002              		.loc 1 1255 31 is_stmt 0 discriminator 3 view .LVU1265
 4003 00b6 2068     		ldr	r0, [r4]
1255:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LOCK_TCPIP_CORE();
 4004              		.loc 1 1255 13 discriminator 3 view .LVU1266
 4005 00b8 0021     		movs	r1, #0
 4006 00ba 0C30     		adds	r0, r0, #12
 4007 00bc FFF7FEFF 		bl	sys_arch_sem_wait
 4008              	.LVL393:
1256:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             LWIP_ASSERT("state!", msg->conn->state != NETCONN_CONNECT);
 4009              		.loc 1 1256 13 is_stmt 1 discriminator 3 view .LVU1267
 4010 00c0 2846     		mov	r0, r5
 4011 00c2 FFF7FEFF 		bl	sys_mutex_lock
 4012              	.LVL394:
1257:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 4013              		.loc 1 1257 13 discriminator 3 view .LVU1268
1257:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 4014              		.loc 1 1257 13 discriminator 3 view .LVU1269
 4015 00c6 2368     		ldr	r3, [r4]
 4016 00c8 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4017 00ca 032B     		cmp	r3, #3
 4018 00cc BBD1     		bne	.L308
1257:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 4019              		.loc 1 1257 13 discriminator 1 view .LVU1270
1257:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 4020              		.loc 1 1257 13 discriminator 1 view .LVU1271
 4021 00ce 0F4B     		ldr	r3, .L326+8
 4022 00d0 40F2E942 		movw	r2, #1257
 4023 00d4 0E49     		ldr	r1, .L326+12
 4024 00d6 0F48     		ldr	r0, .L326+16
 4025 00d8 FFF7FEFF 		bl	printf
 4026              	.LVL395:
1257:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 4027              		.loc 1 1257 13 discriminator 1 view .LVU1272
1257:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 4028              		.loc 1 1257 13 discriminator 1 view .LVU1273
ARM GAS  /tmp/cc0Mfu8z.s 			page 120


1259:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           }
 4029              		.loc 1 1259 13 discriminator 1 view .LVU1274
 4030 00dc B3E7     		b	.L308
 4031              	.L325:
1253:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
 4032              		.loc 1 1253 13 discriminator 1 view .LVU1275
1253:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
 4033              		.loc 1 1253 13 discriminator 1 view .LVU1276
 4034 00de 0B4B     		ldr	r3, .L326+8
 4035 00e0 40F2E542 		movw	r2, #1253
 4036 00e4 0A49     		ldr	r1, .L326+12
 4037 00e6 0B48     		ldr	r0, .L326+16
 4038 00e8 FFF7FEFF 		bl	printf
 4039              	.LVL396:
 4040 00ec DFE7     		b	.L318
 4041              	.L312:
1253:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             UNLOCK_TCPIP_CORE();
 4042              		.loc 1 1253 13 is_stmt 0 discriminator 1 view .LVU1277
 4043              	.LBE28:
1266:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 4044              		.loc 1 1266 7 is_stmt 1 discriminator 1 view .LVU1278
1266:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 4045              		.loc 1 1266 7 discriminator 1 view .LVU1279
1266:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 4046              		.loc 1 1266 7 discriminator 1 view .LVU1280
1266:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 4047              		.loc 1 1266 7 discriminator 1 view .LVU1281
 4048 00ee 074B     		ldr	r3, .L326+8
 4049 00f0 40F2F242 		movw	r2, #1266
 4050 00f4 0849     		ldr	r1, .L326+20
 4051 00f6 0748     		ldr	r0, .L326+16
 4052 00f8 FFF7FEFF 		bl	printf
 4053              	.LVL397:
1266:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 4054              		.loc 1 1266 7 discriminator 1 view .LVU1282
1266:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 4055              		.loc 1 1266 7 discriminator 1 view .LVU1283
1266:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 4056              		.loc 1 1266 7 discriminator 1 view .LVU1284
 4057 00fc FA23     		movs	r3, #250
 4058 00fe 2371     		strb	r3, [r4, #4]
1266:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 4059              		.loc 1 1266 7 discriminator 1 view .LVU1285
1266:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 4060              		.loc 1 1266 7 discriminator 1 view .LVU1286
1267:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 4061              		.loc 1 1267 7 discriminator 1 view .LVU1287
 4062 0100 92E7     		b	.L310
 4063              	.L327:
 4064 0102 00BF     		.align	2
 4065              	.L326:
 4066 0104 00000000 		.word	lwip_netconn_do_connected
 4067 0108 00000000 		.word	lock_tcpip_core
 4068 010c 00000000 		.word	.LC0
 4069 0110 50000000 		.word	.LC32
 4070 0114 54000000 		.word	.LC2
 4071 0118 00000000 		.word	.LC33
ARM GAS  /tmp/cc0Mfu8z.s 			page 121


 4072              		.cfi_endproc
 4073              	.LFE118:
 4075              		.section	.text.lwip_netconn_do_disconnect,"ax",%progbits
 4076              		.align	1
 4077              		.global	lwip_netconn_do_disconnect
 4078              		.syntax unified
 4079              		.thumb
 4080              		.thumb_func
 4082              	lwip_netconn_do_disconnect:
 4083              	.LVL398:
 4084              	.LFB119:
1284:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
 4085              		.loc 1 1284 1 view -0
 4086              		.cfi_startproc
 4087              		@ args = 0, pretend = 0, frame = 0
 4088              		@ frame_needed = 0, uses_anonymous_args = 0
1284:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
 4089              		.loc 1 1284 1 is_stmt 0 view .LVU1289
 4090 0000 10B5     		push	{r4, lr}
 4091              	.LCFI21:
 4092              		.cfi_def_cfa_offset 8
 4093              		.cfi_offset 4, -8
 4094              		.cfi_offset 14, -4
 4095 0002 0446     		mov	r4, r0
1285:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4096              		.loc 1 1285 3 is_stmt 1 view .LVU1290
 4097              	.LVL399:
1288:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     udp_disconnect(msg->conn->pcb.udp);
 4098              		.loc 1 1288 3 view .LVU1291
1288:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     udp_disconnect(msg->conn->pcb.udp);
 4099              		.loc 1 1288 7 is_stmt 0 view .LVU1292
 4100 0004 0268     		ldr	r2, [r0]
 4101 0006 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
1288:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     udp_disconnect(msg->conn->pcb.udp);
 4102              		.loc 1 1288 6 view .LVU1293
 4103 0008 03F0F003 		and	r3, r3, #240
 4104 000c 202B     		cmp	r3, #32
 4105 000e 11D0     		beq	.L334
1294:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 4106              		.loc 1 1294 5 is_stmt 1 view .LVU1294
1294:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
 4107              		.loc 1 1294 14 is_stmt 0 view .LVU1295
 4108 0010 FA23     		movs	r3, #250
 4109 0012 0371     		strb	r3, [r0, #4]
 4110              	.LVL400:
 4111              	.L330:
1296:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4112              		.loc 1 1296 3 is_stmt 1 view .LVU1296
1296:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4113              		.loc 1 1296 3 view .LVU1297
 4114 0014 2368     		ldr	r3, [r4]
 4115 0016 63B1     		cbz	r3, .L328
 4116              	.LBB29:
1296:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4117              		.loc 1 1296 3 discriminator 1 view .LVU1298
1296:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4118              		.loc 1 1296 3 discriminator 1 view .LVU1299
ARM GAS  /tmp/cc0Mfu8z.s 			page 122


 4119 0018 FFF7FEFF 		bl	sys_arch_protect
 4120              	.LVL401:
1296:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4121              		.loc 1 1296 3 discriminator 1 view .LVU1300
 4122 001c 2368     		ldr	r3, [r4]
 4123 001e 93F90820 		ldrsb	r2, [r3, #8]
 4124 0022 12F10C0F 		cmn	r2, #12
 4125 0026 02DB     		blt	.L332
1296:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4126              		.loc 1 1296 3 discriminator 3 view .LVU1301
 4127 0028 94F90420 		ldrsb	r2, [r4, #4]
 4128 002c 1A72     		strb	r2, [r3, #8]
 4129              	.L332:
1296:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4130              		.loc 1 1296 3 discriminator 5 view .LVU1302
 4131 002e FFF7FEFF 		bl	sys_arch_unprotect
 4132              	.LVL402:
1296:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4133              		.loc 1 1296 3 is_stmt 0 discriminator 5 view .LVU1303
 4134              	.LBE29:
1296:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4135              		.loc 1 1296 3 is_stmt 1 discriminator 5 view .LVU1304
1296:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4136              		.loc 1 1296 24 discriminator 5 view .LVU1305
 4137              	.L328:
1297:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4138              		.loc 1 1297 1 is_stmt 0 view .LVU1306
 4139 0032 10BD     		pop	{r4, pc}
 4140              	.LVL403:
 4141              	.L334:
1289:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_OK;
 4142              		.loc 1 1289 5 is_stmt 1 view .LVU1307
 4143 0034 5068     		ldr	r0, [r2, #4]
 4144              	.LVL404:
1289:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_OK;
 4145              		.loc 1 1289 5 is_stmt 0 view .LVU1308
 4146 0036 FFF7FEFF 		bl	udp_disconnect
 4147              	.LVL405:
1290:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
 4148              		.loc 1 1290 5 is_stmt 1 view .LVU1309
1290:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
 4149              		.loc 1 1290 14 is_stmt 0 view .LVU1310
 4150 003a 0023     		movs	r3, #0
 4151 003c 2371     		strb	r3, [r4, #4]
 4152 003e E9E7     		b	.L330
 4153              		.cfi_endproc
 4154              	.LFE119:
 4156              		.section	.text.lwip_netconn_do_listen,"ax",%progbits
 4157              		.align	1
 4158              		.global	lwip_netconn_do_listen
 4159              		.syntax unified
 4160              		.thumb
 4161              		.thumb_func
 4163              	lwip_netconn_do_listen:
 4164              	.LVL406:
 4165              	.LFB120:
1308:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
ARM GAS  /tmp/cc0Mfu8z.s 			page 123


 4166              		.loc 1 1308 1 is_stmt 1 view -0
 4167              		.cfi_startproc
 4168              		@ args = 0, pretend = 0, frame = 8
 4169              		@ frame_needed = 0, uses_anonymous_args = 0
1308:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
 4170              		.loc 1 1308 1 is_stmt 0 view .LVU1312
 4171 0000 30B5     		push	{r4, r5, lr}
 4172              	.LCFI22:
 4173              		.cfi_def_cfa_offset 12
 4174              		.cfi_offset 4, -12
 4175              		.cfi_offset 5, -8
 4176              		.cfi_offset 14, -4
 4177 0002 83B0     		sub	sp, sp, #12
 4178              	.LCFI23:
 4179              		.cfi_def_cfa_offset 24
 4180 0004 0446     		mov	r4, r0
1309:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4181              		.loc 1 1309 3 is_stmt 1 view .LVU1313
 4182              	.LVL407:
1311:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = msg->conn->last_err;
 4183              		.loc 1 1311 3 view .LVU1314
1311:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = msg->conn->last_err;
 4184              		.loc 1 1311 7 is_stmt 0 view .LVU1315
 4185 0006 0368     		ldr	r3, [r0]
 4186 0008 93F90820 		ldrsb	r2, [r3, #8]
1311:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = msg->conn->last_err;
 4187              		.loc 1 1311 6 view .LVU1316
 4188 000c 12F10C0F 		cmn	r2, #12
 4189 0010 11DA     		bge	.L336
1312:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 4190              		.loc 1 1312 5 is_stmt 1 view .LVU1317
1312:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 4191              		.loc 1 1312 14 is_stmt 0 view .LVU1318
 4192 0012 0271     		strb	r2, [r0, #4]
 4193              	.LVL408:
 4194              	.L337:
1380:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4195              		.loc 1 1380 3 is_stmt 1 view .LVU1319
1380:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4196              		.loc 1 1380 3 view .LVU1320
 4197 0014 2368     		ldr	r3, [r4]
 4198 0016 63B1     		cbz	r3, .L335
 4199              	.LBB30:
1380:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4200              		.loc 1 1380 3 discriminator 1 view .LVU1321
1380:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4201              		.loc 1 1380 3 discriminator 1 view .LVU1322
 4202 0018 FFF7FEFF 		bl	sys_arch_protect
 4203              	.LVL409:
1380:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4204              		.loc 1 1380 3 discriminator 1 view .LVU1323
 4205 001c 2368     		ldr	r3, [r4]
 4206 001e 93F90820 		ldrsb	r2, [r3, #8]
 4207 0022 12F10C0F 		cmn	r2, #12
 4208 0026 02DB     		blt	.L347
1380:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4209              		.loc 1 1380 3 discriminator 3 view .LVU1324
ARM GAS  /tmp/cc0Mfu8z.s 			page 124


 4210 0028 94F90420 		ldrsb	r2, [r4, #4]
 4211 002c 1A72     		strb	r2, [r3, #8]
 4212              	.L347:
1380:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4213              		.loc 1 1380 3 discriminator 5 view .LVU1325
 4214 002e FFF7FEFF 		bl	sys_arch_unprotect
 4215              	.LVL410:
1380:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4216              		.loc 1 1380 3 is_stmt 0 discriminator 5 view .LVU1326
 4217              	.LBE30:
1380:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4218              		.loc 1 1380 3 is_stmt 1 discriminator 5 view .LVU1327
1380:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4219              		.loc 1 1380 24 discriminator 5 view .LVU1328
 4220              	.L335:
1381:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
 4221              		.loc 1 1381 1 is_stmt 0 view .LVU1329
 4222 0032 03B0     		add	sp, sp, #12
 4223              	.LCFI24:
 4224              		.cfi_remember_state
 4225              		.cfi_def_cfa_offset 12
 4226              		@ sp needed
 4227 0034 30BD     		pop	{r4, r5, pc}
 4228              	.LVL411:
 4229              	.L336:
 4230              	.LCFI25:
 4231              		.cfi_restore_state
1314:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
 4232              		.loc 1 1314 5 is_stmt 1 view .LVU1330
1314:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
 4233              		.loc 1 1314 14 is_stmt 0 view .LVU1331
 4234 0036 F522     		movs	r2, #245
 4235 0038 0271     		strb	r2, [r0, #4]
1315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4236              		.loc 1 1315 5 is_stmt 1 view .LVU1332
1315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4237              		.loc 1 1315 23 is_stmt 0 view .LVU1333
 4238 003a 5868     		ldr	r0, [r3, #4]
 4239              	.LVL412:
1315:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4240              		.loc 1 1315 8 view .LVU1334
 4241 003c 0028     		cmp	r0, #0
 4242 003e E9D0     		beq	.L337
1316:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (msg->conn->state == NETCONN_NONE) {
 4243              		.loc 1 1316 7 is_stmt 1 view .LVU1335
1316:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (msg->conn->state == NETCONN_NONE) {
 4244              		.loc 1 1316 11 is_stmt 0 view .LVU1336
 4245 0040 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
1316:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (msg->conn->state == NETCONN_NONE) {
 4246              		.loc 1 1316 10 view .LVU1337
 4247 0042 02F0F002 		and	r2, r2, #240
 4248 0046 102A     		cmp	r2, #16
 4249 0048 02D0     		beq	.L349
1376:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 4250              		.loc 1 1376 9 is_stmt 1 view .LVU1338
1376:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 4251              		.loc 1 1376 18 is_stmt 0 view .LVU1339
ARM GAS  /tmp/cc0Mfu8z.s 			page 125


 4252 004a F023     		movs	r3, #240
 4253 004c 2371     		strb	r3, [r4, #4]
 4254 004e E1E7     		b	.L337
 4255              	.L349:
1317:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           struct tcp_pcb* lpcb;
 4256              		.loc 1 1317 9 is_stmt 1 view .LVU1340
1317:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           struct tcp_pcb* lpcb;
 4257              		.loc 1 1317 22 is_stmt 0 view .LVU1341
 4258 0050 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
1317:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           struct tcp_pcb* lpcb;
 4259              		.loc 1 1317 12 view .LVU1342
 4260 0052 002B     		cmp	r3, #0
 4261 0054 44D1     		bne	.L339
 4262              	.LBB31:
1318:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           if (msg->conn->pcb.tcp->state != CLOSED) {
 4263              		.loc 1 1318 11 is_stmt 1 view .LVU1343
1319:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* connection is not closed, cannot listen */
 4264              		.loc 1 1319 11 view .LVU1344
1319:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* connection is not closed, cannot listen */
 4265              		.loc 1 1319 33 is_stmt 0 view .LVU1345
 4266 0056 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
1319:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             /* connection is not closed, cannot listen */
 4267              		.loc 1 1319 14 view .LVU1346
 4268 0058 13B1     		cbz	r3, .L340
1321:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
 4269              		.loc 1 1321 13 is_stmt 1 view .LVU1347
1321:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           } else {
 4270              		.loc 1 1321 22 is_stmt 0 view .LVU1348
 4271 005a FA23     		movs	r3, #250
 4272 005c 2371     		strb	r3, [r4, #4]
 4273 005e D9E7     		b	.L337
 4274              	.L340:
 4275              	.LBB32:
1323:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             u8_t backlog;
 4276              		.loc 1 1323 13 is_stmt 1 view .LVU1349
1324:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if TCP_LISTEN_BACKLOG
 4277              		.loc 1 1324 13 view .LVU1350
1328:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* TCP_LISTEN_BACKLOG */
 4278              		.loc 1 1328 13 view .LVU1351
 4279              	.LVL413:
1342:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4280              		.loc 1 1342 13 view .LVU1352
1342:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4281              		.loc 1 1342 20 is_stmt 0 view .LVU1353
 4282 0060 0DF10702 		add	r2, sp, #7
 4283 0064 FF21     		movs	r1, #255
 4284 0066 FFF7FEFF 		bl	tcp_listen_with_backlog_and_err
 4285              	.LVL414:
1344:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /* in this case, the old pcb is still allocated */
 4286              		.loc 1 1344 13 is_stmt 1 view .LVU1354
1344:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               /* in this case, the old pcb is still allocated */
 4287              		.loc 1 1344 16 is_stmt 0 view .LVU1355
 4288 006a 0546     		mov	r5, r0
 4289 006c E8B1     		cbz	r0, .L350
1349:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 /** @todo: should we drain the recvmbox here? */
 4290              		.loc 1 1349 15 is_stmt 1 view .LVU1356
1349:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 /** @todo: should we drain the recvmbox here? */
ARM GAS  /tmp/cc0Mfu8z.s 			page 126


 4291              		.loc 1 1349 38 is_stmt 0 view .LVU1357
 4292 006e 2068     		ldr	r0, [r4]
 4293              	.LVL415:
1349:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 /** @todo: should we drain the recvmbox here? */
 4294              		.loc 1 1349 19 view .LVU1358
 4295 0070 1030     		adds	r0, r0, #16
 4296 0072 FFF7FEFF 		bl	sys_mbox_valid
 4297              	.LVL416:
1349:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 /** @todo: should we drain the recvmbox here? */
 4298              		.loc 1 1349 18 view .LVU1359
 4299 0076 E0B9     		cbnz	r0, .L351
 4300              	.L343:
1354:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               if (!sys_mbox_valid(&msg->conn->acceptmbox)) {
 4301              		.loc 1 1354 15 is_stmt 1 view .LVU1360
1354:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               if (!sys_mbox_valid(&msg->conn->acceptmbox)) {
 4302              		.loc 1 1354 24 is_stmt 0 view .LVU1361
 4303 0078 0023     		movs	r3, #0
 4304 007a 2371     		strb	r3, [r4, #4]
1355:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 msg->err = sys_mbox_new(&msg->conn->acceptmbox, DEFAULT_ACCEPTMBOX_SIZE);
 4305              		.loc 1 1355 15 is_stmt 1 view .LVU1362
1355:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 msg->err = sys_mbox_new(&msg->conn->acceptmbox, DEFAULT_ACCEPTMBOX_SIZE);
 4306              		.loc 1 1355 39 is_stmt 0 view .LVU1363
 4307 007c 2068     		ldr	r0, [r4]
1355:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 msg->err = sys_mbox_new(&msg->conn->acceptmbox, DEFAULT_ACCEPTMBOX_SIZE);
 4308              		.loc 1 1355 20 view .LVU1364
 4309 007e 1430     		adds	r0, r0, #20
 4310 0080 FFF7FEFF 		bl	sys_mbox_valid
 4311              	.LVL417:
1355:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 msg->err = sys_mbox_new(&msg->conn->acceptmbox, DEFAULT_ACCEPTMBOX_SIZE);
 4312              		.loc 1 1355 18 view .LVU1365
 4313 0084 F0B1     		cbz	r0, .L352
 4314              	.L344:
1358:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 msg->conn->state = NETCONN_LISTEN;
 4315              		.loc 1 1358 15 is_stmt 1 view .LVU1366
1358:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 msg->conn->state = NETCONN_LISTEN;
 4316              		.loc 1 1358 22 is_stmt 0 view .LVU1367
 4317 0086 94F90430 		ldrsb	r3, [r4, #4]
1358:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 msg->conn->state = NETCONN_LISTEN;
 4318              		.loc 1 1358 18 view .LVU1368
 4319 008a 13BB     		cbnz	r3, .L345
1359:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 msg->conn->pcb.tcp = lpcb;
 4320              		.loc 1 1359 17 is_stmt 1 view .LVU1369
1359:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 msg->conn->pcb.tcp = lpcb;
 4321              		.loc 1 1359 20 is_stmt 0 view .LVU1370
 4322 008c 2368     		ldr	r3, [r4]
1359:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 msg->conn->pcb.tcp = lpcb;
 4323              		.loc 1 1359 34 view .LVU1371
 4324 008e 0222     		movs	r2, #2
 4325 0090 5A70     		strb	r2, [r3, #1]
1360:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 tcp_arg(msg->conn->pcb.tcp, msg->conn);
 4326              		.loc 1 1360 17 is_stmt 1 view .LVU1372
1360:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 tcp_arg(msg->conn->pcb.tcp, msg->conn);
 4327              		.loc 1 1360 20 is_stmt 0 view .LVU1373
 4328 0092 2368     		ldr	r3, [r4]
1360:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 tcp_arg(msg->conn->pcb.tcp, msg->conn);
 4329              		.loc 1 1360 36 view .LVU1374
 4330 0094 5D60     		str	r5, [r3, #4]
ARM GAS  /tmp/cc0Mfu8z.s 			page 127


1361:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 tcp_accept(msg->conn->pcb.tcp, accept_function);
 4331              		.loc 1 1361 17 is_stmt 1 view .LVU1375
1361:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 tcp_accept(msg->conn->pcb.tcp, accept_function);
 4332              		.loc 1 1361 28 is_stmt 0 view .LVU1376
 4333 0096 2168     		ldr	r1, [r4]
1361:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 tcp_accept(msg->conn->pcb.tcp, accept_function);
 4334              		.loc 1 1361 17 view .LVU1377
 4335 0098 4868     		ldr	r0, [r1, #4]
 4336 009a FFF7FEFF 		bl	tcp_arg
 4337              	.LVL418:
1362:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               } else {
 4338              		.loc 1 1362 17 is_stmt 1 view .LVU1378
1362:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               } else {
 4339              		.loc 1 1362 31 is_stmt 0 view .LVU1379
 4340 009e 2368     		ldr	r3, [r4]
1362:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               } else {
 4341              		.loc 1 1362 17 view .LVU1380
 4342 00a0 1249     		ldr	r1, .L353
 4343 00a2 5868     		ldr	r0, [r3, #4]
 4344 00a4 FFF7FEFF 		bl	tcp_accept
 4345              	.LVL419:
 4346 00a8 B4E7     		b	.L337
 4347              	.LVL420:
 4348              	.L350:
1346:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             } else {
 4349              		.loc 1 1346 15 is_stmt 1 view .LVU1381
1346:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****             } else {
 4350              		.loc 1 1346 24 is_stmt 0 view .LVU1382
 4351 00aa 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 4352 00ae 2371     		strb	r3, [r4, #4]
 4353 00b0 B0E7     		b	.L337
 4354              	.LVL421:
 4355              	.L351:
1351:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 sys_mbox_set_invalid(&msg->conn->recvmbox);
 4356              		.loc 1 1351 17 is_stmt 1 view .LVU1383
1351:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 sys_mbox_set_invalid(&msg->conn->recvmbox);
 4357              		.loc 1 1351 35 is_stmt 0 view .LVU1384
 4358 00b2 2068     		ldr	r0, [r4]
1351:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 sys_mbox_set_invalid(&msg->conn->recvmbox);
 4359              		.loc 1 1351 17 view .LVU1385
 4360 00b4 1030     		adds	r0, r0, #16
 4361 00b6 FFF7FEFF 		bl	sys_mbox_free
 4362              	.LVL422:
1352:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               }
 4363              		.loc 1 1352 17 is_stmt 1 view .LVU1386
1352:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               }
 4364              		.loc 1 1352 42 is_stmt 0 view .LVU1387
 4365 00ba 2068     		ldr	r0, [r4]
1352:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               }
 4366              		.loc 1 1352 17 view .LVU1388
 4367 00bc 1030     		adds	r0, r0, #16
 4368 00be FFF7FEFF 		bl	sys_mbox_set_invalid
 4369              	.LVL423:
 4370 00c2 D9E7     		b	.L343
 4371              	.L352:
1356:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               }
 4372              		.loc 1 1356 17 is_stmt 1 view .LVU1389
ARM GAS  /tmp/cc0Mfu8z.s 			page 128


1356:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               }
 4373              		.loc 1 1356 45 is_stmt 0 view .LVU1390
 4374 00c4 2068     		ldr	r0, [r4]
1356:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               }
 4375              		.loc 1 1356 28 view .LVU1391
 4376 00c6 0621     		movs	r1, #6
 4377 00c8 1430     		adds	r0, r0, #20
 4378 00ca FFF7FEFF 		bl	sys_mbox_new
 4379              	.LVL424:
1356:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               }
 4380              		.loc 1 1356 26 view .LVU1392
 4381 00ce 2071     		strb	r0, [r4, #4]
 4382 00d0 D9E7     		b	.L344
 4383              	.L345:
1365:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****                 msg->conn->pcb.tcp = NULL;
 4384              		.loc 1 1365 17 is_stmt 1 view .LVU1393
 4385 00d2 2846     		mov	r0, r5
 4386 00d4 FFF7FEFF 		bl	tcp_close
 4387              	.LVL425:
1366:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               }
 4388              		.loc 1 1366 17 view .LVU1394
1366:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               }
 4389              		.loc 1 1366 20 is_stmt 0 view .LVU1395
 4390 00d8 2368     		ldr	r3, [r4]
1366:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               }
 4391              		.loc 1 1366 36 view .LVU1396
 4392 00da 0022     		movs	r2, #0
 4393 00dc 5A60     		str	r2, [r3, #4]
 4394 00de 99E7     		b	.L337
 4395              	.LVL426:
 4396              	.L339:
1366:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****               }
 4397              		.loc 1 1366 36 view .LVU1397
 4398              	.LBE32:
 4399              	.LBE31:
1370:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* already listening, allow updating of the backlog */
 4400              		.loc 1 1370 16 is_stmt 1 view .LVU1398
1370:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           /* already listening, allow updating of the backlog */
 4401              		.loc 1 1370 19 is_stmt 0 view .LVU1399
 4402 00e0 022B     		cmp	r3, #2
 4403 00e2 97D1     		bne	.L337
1372:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           tcp_backlog_set(msg->conn->pcb.tcp, msg->msg.lb.backlog);
 4404              		.loc 1 1372 11 is_stmt 1 view .LVU1400
1372:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           tcp_backlog_set(msg->conn->pcb.tcp, msg->msg.lb.backlog);
 4405              		.loc 1 1372 20 is_stmt 0 view .LVU1401
 4406 00e4 0023     		movs	r3, #0
 4407 00e6 2371     		strb	r3, [r4, #4]
 4408 00e8 94E7     		b	.L337
 4409              	.L354:
 4410 00ea 00BF     		.align	2
 4411              	.L353:
 4412 00ec 00000000 		.word	accept_function
 4413              		.cfi_endproc
 4414              	.LFE120:
 4416              		.section	.text.lwip_netconn_do_send,"ax",%progbits
 4417              		.align	1
 4418              		.global	lwip_netconn_do_send
ARM GAS  /tmp/cc0Mfu8z.s 			page 129


 4419              		.syntax unified
 4420              		.thumb
 4421              		.thumb_func
 4423              	lwip_netconn_do_send:
 4424              	.LVL427:
 4425              	.LFB121:
1392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
 4426              		.loc 1 1392 1 is_stmt 1 view -0
 4427              		.cfi_startproc
 4428              		@ args = 0, pretend = 0, frame = 0
 4429              		@ frame_needed = 0, uses_anonymous_args = 0
1392:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
 4430              		.loc 1 1392 1 is_stmt 0 view .LVU1403
 4431 0000 10B5     		push	{r4, lr}
 4432              	.LCFI26:
 4433              		.cfi_def_cfa_offset 8
 4434              		.cfi_offset 4, -8
 4435              		.cfi_offset 14, -4
 4436 0002 0446     		mov	r4, r0
1393:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4437              		.loc 1 1393 3 is_stmt 1 view .LVU1404
 4438              	.LVL428:
1395:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = msg->conn->last_err;
 4439              		.loc 1 1395 3 view .LVU1405
1395:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = msg->conn->last_err;
 4440              		.loc 1 1395 7 is_stmt 0 view .LVU1406
 4441 0004 0368     		ldr	r3, [r0]
 4442 0006 93F90820 		ldrsb	r2, [r3, #8]
1395:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = msg->conn->last_err;
 4443              		.loc 1 1395 6 view .LVU1407
 4444 000a 12F10C0F 		cmn	r2, #12
 4445 000e 10DA     		bge	.L356
1396:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 4446              		.loc 1 1396 5 is_stmt 1 view .LVU1408
1396:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
 4447              		.loc 1 1396 14 is_stmt 0 view .LVU1409
 4448 0010 0271     		strb	r2, [r0, #4]
 4449              	.LVL429:
 4450              	.L357:
1435:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4451              		.loc 1 1435 3 is_stmt 1 view .LVU1410
1435:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4452              		.loc 1 1435 3 view .LVU1411
 4453 0012 2368     		ldr	r3, [r4]
 4454 0014 63B1     		cbz	r3, .L355
 4455              	.LBB33:
1435:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4456              		.loc 1 1435 3 discriminator 1 view .LVU1412
1435:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4457              		.loc 1 1435 3 discriminator 1 view .LVU1413
 4458 0016 FFF7FEFF 		bl	sys_arch_protect
 4459              	.LVL430:
1435:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4460              		.loc 1 1435 3 discriminator 1 view .LVU1414
 4461 001a 2368     		ldr	r3, [r4]
 4462 001c 93F90820 		ldrsb	r2, [r3, #8]
 4463 0020 12F10C0F 		cmn	r2, #12
ARM GAS  /tmp/cc0Mfu8z.s 			page 130


 4464 0024 02DB     		blt	.L360
1435:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4465              		.loc 1 1435 3 discriminator 3 view .LVU1415
 4466 0026 94F90420 		ldrsb	r2, [r4, #4]
 4467 002a 1A72     		strb	r2, [r3, #8]
 4468              	.L360:
1435:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4469              		.loc 1 1435 3 discriminator 5 view .LVU1416
 4470 002c FFF7FEFF 		bl	sys_arch_unprotect
 4471              	.LVL431:
1435:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4472              		.loc 1 1435 3 is_stmt 0 discriminator 5 view .LVU1417
 4473              	.LBE33:
1435:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4474              		.loc 1 1435 3 is_stmt 1 discriminator 5 view .LVU1418
1435:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4475              		.loc 1 1435 24 discriminator 5 view .LVU1419
 4476              	.L355:
1436:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4477              		.loc 1 1436 1 is_stmt 0 view .LVU1420
 4478 0030 10BD     		pop	{r4, pc}
 4479              	.LVL432:
 4480              	.L356:
1398:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
 4481              		.loc 1 1398 5 is_stmt 1 view .LVU1421
1398:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->conn->pcb.tcp != NULL) {
 4482              		.loc 1 1398 14 is_stmt 0 view .LVU1422
 4483 0032 F522     		movs	r2, #245
 4484 0034 0271     		strb	r2, [r0, #4]
1399:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 4485              		.loc 1 1399 5 is_stmt 1 view .LVU1423
1399:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 4486              		.loc 1 1399 23 is_stmt 0 view .LVU1424
 4487 0036 5868     		ldr	r0, [r3, #4]
 4488              	.LVL433:
1399:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 4489              		.loc 1 1399 8 view .LVU1425
 4490 0038 0028     		cmp	r0, #0
 4491 003a EAD0     		beq	.L357
1400:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 4492              		.loc 1 1400 7 is_stmt 1 view .LVU1426
1400:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 4493              		.loc 1 1400 15 is_stmt 0 view .LVU1427
 4494 003c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1400:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
 4495              		.loc 1 1400 7 view .LVU1428
 4496 003e 03F0F003 		and	r3, r3, #240
 4497 0042 202B     		cmp	r3, #32
 4498 0044 E5D1     		bne	.L357
1422:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = udp_send(msg->conn->pcb.udp, msg->msg.b->p);
 4499              		.loc 1 1422 9 is_stmt 1 view .LVU1429
1422:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = udp_send(msg->conn->pcb.udp, msg->msg.b->p);
 4500              		.loc 1 1422 13 is_stmt 0 view .LVU1430
 4501 0046 A168     		ldr	r1, [r4, #8]
 4502 0048 8B68     		ldr	r3, [r1, #8]
1422:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = udp_send(msg->conn->pcb.udp, msg->msg.b->p);
 4503              		.loc 1 1422 12 view .LVU1431
ARM GAS  /tmp/cc0Mfu8z.s 			page 131


 4504 004a 23B9     		cbnz	r3, .L358
1423:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
 4505              		.loc 1 1423 11 is_stmt 1 view .LVU1432
1423:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
 4506              		.loc 1 1423 22 is_stmt 0 view .LVU1433
 4507 004c 0968     		ldr	r1, [r1]
 4508 004e FFF7FEFF 		bl	udp_send
 4509              	.LVL434:
1423:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
 4510              		.loc 1 1423 20 view .LVU1434
 4511 0052 2071     		strb	r0, [r4, #4]
 4512 0054 DDE7     		b	.L357
 4513              	.L358:
1425:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 4514              		.loc 1 1425 11 is_stmt 1 view .LVU1435
1425:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 4515              		.loc 1 1425 22 is_stmt 0 view .LVU1436
 4516 0056 8B89     		ldrh	r3, [r1, #12]
 4517 0058 01F10802 		add	r2, r1, #8
 4518 005c 0968     		ldr	r1, [r1]
 4519 005e FFF7FEFF 		bl	udp_sendto
 4520              	.LVL435:
1425:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 4521              		.loc 1 1425 20 view .LVU1437
 4522 0062 2071     		strb	r0, [r4, #4]
 4523 0064 D5E7     		b	.L357
 4524              		.cfi_endproc
 4525              	.LFE121:
 4527              		.section	.text.lwip_netconn_do_recv,"ax",%progbits
 4528              		.align	1
 4529              		.global	lwip_netconn_do_recv
 4530              		.syntax unified
 4531              		.thumb
 4532              		.thumb_func
 4534              	lwip_netconn_do_recv:
 4535              	.LVL436:
 4536              	.LFB122:
1447:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
 4537              		.loc 1 1447 1 is_stmt 1 view -0
 4538              		.cfi_startproc
 4539              		@ args = 0, pretend = 0, frame = 0
 4540              		@ frame_needed = 0, uses_anonymous_args = 0
1447:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
 4541              		.loc 1 1447 1 is_stmt 0 view .LVU1439
 4542 0000 70B5     		push	{r4, r5, r6, lr}
 4543              	.LCFI27:
 4544              		.cfi_def_cfa_offset 16
 4545              		.cfi_offset 4, -16
 4546              		.cfi_offset 5, -12
 4547              		.cfi_offset 6, -8
 4548              		.cfi_offset 14, -4
 4549 0002 0546     		mov	r5, r0
1448:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4550              		.loc 1 1448 3 is_stmt 1 view .LVU1440
 4551              	.LVL437:
1450:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
 4552              		.loc 1 1450 3 view .LVU1441
ARM GAS  /tmp/cc0Mfu8z.s 			page 132


1450:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.tcp != NULL) {
 4553              		.loc 1 1450 12 is_stmt 0 view .LVU1442
 4554 0004 0023     		movs	r3, #0
 4555 0006 0371     		strb	r3, [r0, #4]
1451:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4556              		.loc 1 1451 3 is_stmt 1 view .LVU1443
1451:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4557              		.loc 1 1451 10 is_stmt 0 view .LVU1444
 4558 0008 0368     		ldr	r3, [r0]
1451:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4559              		.loc 1 1451 21 view .LVU1445
 4560 000a 5A68     		ldr	r2, [r3, #4]
1451:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
 4561              		.loc 1 1451 6 view .LVU1446
 4562 000c 22B1     		cbz	r2, .L363
1452:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       u32_t remaining = msg->msg.r.len;
 4563              		.loc 1 1452 5 is_stmt 1 view .LVU1447
1452:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       u32_t remaining = msg->msg.r.len;
 4564              		.loc 1 1452 9 is_stmt 0 view .LVU1448
 4565 000e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1452:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       u32_t remaining = msg->msg.r.len;
 4566              		.loc 1 1452 8 view .LVU1449
 4567 0010 03F0F003 		and	r3, r3, #240
 4568 0014 102B     		cmp	r3, #16
 4569 0016 0FD0     		beq	.L370
 4570              	.LVL438:
 4571              	.L363:
1461:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4572              		.loc 1 1461 3 is_stmt 1 view .LVU1450
1461:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4573              		.loc 1 1461 3 view .LVU1451
 4574 0018 2B68     		ldr	r3, [r5]
 4575 001a 63B1     		cbz	r3, .L362
 4576              	.LBB34:
1461:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4577              		.loc 1 1461 3 discriminator 1 view .LVU1452
1461:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4578              		.loc 1 1461 3 discriminator 1 view .LVU1453
 4579 001c FFF7FEFF 		bl	sys_arch_protect
 4580              	.LVL439:
1461:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4581              		.loc 1 1461 3 discriminator 1 view .LVU1454
 4582 0020 2B68     		ldr	r3, [r5]
 4583 0022 93F90820 		ldrsb	r2, [r3, #8]
 4584 0026 12F10C0F 		cmn	r2, #12
 4585 002a 02DB     		blt	.L367
1461:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4586              		.loc 1 1461 3 discriminator 3 view .LVU1455
 4587 002c 95F90420 		ldrsb	r2, [r5, #4]
 4588 0030 1A72     		strb	r2, [r3, #8]
 4589              	.L367:
1461:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4590              		.loc 1 1461 3 discriminator 5 view .LVU1456
 4591 0032 FFF7FEFF 		bl	sys_arch_unprotect
 4592              	.LVL440:
1461:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4593              		.loc 1 1461 3 is_stmt 0 discriminator 5 view .LVU1457
ARM GAS  /tmp/cc0Mfu8z.s 			page 133


 4594              	.LBE34:
1461:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4595              		.loc 1 1461 3 is_stmt 1 discriminator 5 view .LVU1458
1461:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4596              		.loc 1 1461 24 discriminator 5 view .LVU1459
 4597              	.L362:
1462:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
 4598              		.loc 1 1462 1 is_stmt 0 view .LVU1460
 4599 0036 70BD     		pop	{r4, r5, r6, pc}
 4600              	.LVL441:
 4601              	.L370:
 4602              	.LBB35:
1453:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       do {
 4603              		.loc 1 1453 7 is_stmt 1 view .LVU1461
1453:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       do {
 4604              		.loc 1 1453 13 is_stmt 0 view .LVU1462
 4605 0038 8468     		ldr	r4, [r0, #8]
 4606              	.LVL442:
1453:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       do {
 4607              		.loc 1 1453 13 view .LVU1463
 4608 003a 08E0     		b	.L365
 4609              	.LVL443:
 4610              	.L368:
 4611              	.LBB36:
1455:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_recved(msg->conn->pcb.tcp, recved);
 4612              		.loc 1 1455 15 view .LVU1464
 4613 003c 4FF6FF76 		movw	r6, #65535
 4614              	.L364:
 4615              	.LVL444:
1456:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         remaining -= recved;
 4616              		.loc 1 1456 9 is_stmt 1 discriminator 4 view .LVU1465
1456:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         remaining -= recved;
 4617              		.loc 1 1456 23 is_stmt 0 discriminator 4 view .LVU1466
 4618 0040 2B68     		ldr	r3, [r5]
1456:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         remaining -= recved;
 4619              		.loc 1 1456 9 discriminator 4 view .LVU1467
 4620 0042 3146     		mov	r1, r6
 4621 0044 5868     		ldr	r0, [r3, #4]
 4622 0046 FFF7FEFF 		bl	tcp_recved
 4623              	.LVL445:
1457:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } while (remaining != 0);
 4624              		.loc 1 1457 9 is_stmt 1 discriminator 4 view .LVU1468
1457:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } while (remaining != 0);
 4625              		.loc 1 1457 9 is_stmt 0 discriminator 4 view .LVU1469
 4626              	.LBE36:
1458:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 4627              		.loc 1 1458 15 is_stmt 1 discriminator 4 view .LVU1470
1458:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 4628              		.loc 1 1458 7 is_stmt 0 discriminator 4 view .LVU1471
 4629 004a A41B     		subs	r4, r4, r6
 4630              	.LVL446:
1458:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 4631              		.loc 1 1458 7 discriminator 4 view .LVU1472
 4632 004c E4D0     		beq	.L363
 4633              	.LVL447:
 4634              	.L365:
1454:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         u16_t recved = (remaining > 0xffff) ? 0xffff : (u16_t)remaining;
ARM GAS  /tmp/cc0Mfu8z.s 			page 134


 4635              		.loc 1 1454 7 is_stmt 1 view .LVU1473
 4636              	.LBB37:
1455:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_recved(msg->conn->pcb.tcp, recved);
 4637              		.loc 1 1455 9 view .LVU1474
1455:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_recved(msg->conn->pcb.tcp, recved);
 4638              		.loc 1 1455 15 is_stmt 0 view .LVU1475
 4639 004e B4F5803F 		cmp	r4, #65536
 4640 0052 F3D2     		bcs	.L368
1455:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         tcp_recved(msg->conn->pcb.tcp, recved);
 4641              		.loc 1 1455 15 discriminator 1 view .LVU1476
 4642 0054 A6B2     		uxth	r6, r4
 4643 0056 F3E7     		b	.L364
 4644              	.LBE37:
 4645              	.LBE35:
 4646              		.cfi_endproc
 4647              	.LFE122:
 4649              		.section	.rodata.lwip_netconn_do_write.str1.4,"aMS",%progbits,1
 4650              		.align	2
 4651              	.LC34:
 4652 0000 6D73672D 		.ascii	"msg->msg.w.len != 0\000"
 4652      3E6D7367 
 4652      2E772E6C 
 4652      656E2021 
 4652      3D203000 
 4653              		.section	.text.lwip_netconn_do_write,"ax",%progbits
 4654              		.align	1
 4655              		.global	lwip_netconn_do_write
 4656              		.syntax unified
 4657              		.thumb
 4658              		.thumb_func
 4660              	lwip_netconn_do_write:
 4661              	.LVL448:
 4662              	.LFB124:
1642:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1643:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1644:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1645:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Send some data on a TCP pcb contained in a netconn
1646:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_write
1647:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1648:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg_msg pointing to the connection
1649:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1650:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1651:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_write(void *m)
1652:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 4663              		.loc 1 1652 1 is_stmt 1 view -0
 4664              		.cfi_startproc
 4665              		@ args = 0, pretend = 0, frame = 0
 4666              		@ frame_needed = 0, uses_anonymous_args = 0
 4667              		.loc 1 1652 1 is_stmt 0 view .LVU1478
 4668 0000 38B5     		push	{r3, r4, r5, lr}
 4669              	.LCFI28:
 4670              		.cfi_def_cfa_offset 16
 4671              		.cfi_offset 3, -16
 4672              		.cfi_offset 4, -12
 4673              		.cfi_offset 5, -8
 4674              		.cfi_offset 14, -4
 4675 0002 0446     		mov	r4, r0
ARM GAS  /tmp/cc0Mfu8z.s 			page 135


1653:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
 4676              		.loc 1 1653 3 is_stmt 1 view .LVU1479
 4677              	.LVL449:
1654:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1655:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (ERR_IS_FATAL(msg->conn->last_err)) {
 4678              		.loc 1 1655 3 view .LVU1480
 4679              		.loc 1 1655 7 is_stmt 0 view .LVU1481
 4680 0004 0368     		ldr	r3, [r0]
 4681 0006 93F90820 		ldrsb	r2, [r3, #8]
 4682              		.loc 1 1655 6 view .LVU1482
 4683 000a 12F10C0F 		cmn	r2, #12
 4684 000e 0FDA     		bge	.L372
1656:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = msg->conn->last_err;
 4685              		.loc 1 1656 5 is_stmt 1 view .LVU1483
 4686              		.loc 1 1656 14 is_stmt 0 view .LVU1484
 4687 0010 0271     		strb	r2, [r0, #4]
 4688              	.L373:
1657:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1658:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) {
1659:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1660:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->conn->state != NETCONN_NONE) {
1661:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* netconn is connecting, closing or in blocking write */
1662:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = ERR_INPROGRESS;
1663:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (msg->conn->pcb.tcp != NULL) {
1664:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->state = NETCONN_WRITE;
1665:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* set all the variables used by lwip_netconn_do_writemore */
1666:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("already writing or closing", msg->conn->current_msg == NULL &&
1667:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->write_offset == 0);
1668:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->msg.w.len != 0", msg->msg.w.len != 0);
1669:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
1670:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->write_offset = 0;
1671:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1672:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if (lwip_netconn_do_writemore(msg->conn, 0) != ERR_OK) {
1673:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state == NETCONN_WRITE);
1674:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
1675:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
1676:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LOCK_TCPIP_CORE();
1677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state != NETCONN_WRITE);
1678:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1679:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
1680:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         lwip_netconn_do_writemore(msg->conn);
1681:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
1682:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* for both cases: if lwip_netconn_do_writemore was called, don't ACK the APIMSG
1683:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            since lwip_netconn_do_writemore ACKs it! */
1684:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         return;
1685:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1686:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = ERR_CONN;
1687:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1688:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCP */
1689:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->err = ERR_VAL;
1690:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1691:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if (LWIP_UDP || LWIP_RAW)
1692:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1693:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->err = ERR_VAL;
1694:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* (LWIP_UDP || LWIP_RAW) */
1695:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1696:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
ARM GAS  /tmp/cc0Mfu8z.s 			page 136


1697:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 4689              		.loc 1 1697 3 is_stmt 1 view .LVU1485
 4690              		.loc 1 1697 3 view .LVU1486
 4691 0012 63B1     		cbz	r3, .L371
 4692              	.LBB38:
 4693              		.loc 1 1697 3 discriminator 1 view .LVU1487
 4694              		.loc 1 1697 3 discriminator 1 view .LVU1488
 4695 0014 FFF7FEFF 		bl	sys_arch_protect
 4696              	.LVL450:
 4697              		.loc 1 1697 3 discriminator 1 view .LVU1489
 4698 0018 2368     		ldr	r3, [r4]
 4699 001a 93F90820 		ldrsb	r2, [r3, #8]
 4700 001e 12F10C0F 		cmn	r2, #12
 4701 0022 02DB     		blt	.L383
 4702              		.loc 1 1697 3 discriminator 3 view .LVU1490
 4703 0024 94F90420 		ldrsb	r2, [r4, #4]
 4704 0028 1A72     		strb	r2, [r3, #8]
 4705              	.L383:
 4706              		.loc 1 1697 3 discriminator 5 view .LVU1491
 4707 002a FFF7FEFF 		bl	sys_arch_unprotect
 4708              	.LVL451:
 4709              		.loc 1 1697 3 is_stmt 0 discriminator 5 view .LVU1492
 4710              	.LBE38:
 4711              		.loc 1 1697 3 is_stmt 1 discriminator 5 view .LVU1493
 4712              		.loc 1 1697 24 discriminator 5 view .LVU1494
 4713              	.L371:
1698:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 4714              		.loc 1 1698 1 is_stmt 0 view .LVU1495
 4715 002e 38BD     		pop	{r3, r4, r5, pc}
 4716              	.LVL452:
 4717              	.L372:
1658:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 4718              		.loc 1 1658 5 is_stmt 1 view .LVU1496
1658:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 4719              		.loc 1 1658 9 is_stmt 0 view .LVU1497
 4720 0030 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
1658:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
 4721              		.loc 1 1658 8 view .LVU1498
 4722 0032 02F0F002 		and	r2, r2, #240
 4723 0036 102A     		cmp	r2, #16
 4724 0038 02D0     		beq	.L385
1693:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* (LWIP_UDP || LWIP_RAW) */
 4725              		.loc 1 1693 7 is_stmt 1 view .LVU1499
1693:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* (LWIP_UDP || LWIP_RAW) */
 4726              		.loc 1 1693 16 is_stmt 0 view .LVU1500
 4727 003a FA22     		movs	r2, #250
 4728 003c 0271     		strb	r2, [r0, #4]
 4729 003e E8E7     		b	.L373
 4730              	.L385:
1660:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* netconn is connecting, closing or in blocking write */
 4731              		.loc 1 1660 7 is_stmt 1 view .LVU1501
1660:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* netconn is connecting, closing or in blocking write */
 4732              		.loc 1 1660 20 is_stmt 0 view .LVU1502
 4733 0040 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
1660:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* netconn is connecting, closing or in blocking write */
 4734              		.loc 1 1660 10 view .LVU1503
 4735 0042 12B1     		cbz	r2, .L375
ARM GAS  /tmp/cc0Mfu8z.s 			page 137


1662:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (msg->conn->pcb.tcp != NULL) {
 4736              		.loc 1 1662 9 is_stmt 1 view .LVU1504
1662:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else if (msg->conn->pcb.tcp != NULL) {
 4737              		.loc 1 1662 18 is_stmt 0 view .LVU1505
 4738 0044 FB22     		movs	r2, #251
 4739 0046 0271     		strb	r2, [r0, #4]
 4740 0048 E3E7     		b	.L373
 4741              	.L375:
1663:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->state = NETCONN_WRITE;
 4742              		.loc 1 1663 14 is_stmt 1 view .LVU1506
1663:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->state = NETCONN_WRITE;
 4743              		.loc 1 1663 32 is_stmt 0 view .LVU1507
 4744 004a 5A68     		ldr	r2, [r3, #4]
1663:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->state = NETCONN_WRITE;
 4745              		.loc 1 1663 17 view .LVU1508
 4746 004c 002A     		cmp	r2, #0
 4747 004e 48D0     		beq	.L376
1664:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* set all the variables used by lwip_netconn_do_writemore */
 4748              		.loc 1 1664 9 is_stmt 1 view .LVU1509
1664:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* set all the variables used by lwip_netconn_do_writemore */
 4749              		.loc 1 1664 26 is_stmt 0 view .LVU1510
 4750 0050 0122     		movs	r2, #1
 4751 0052 5A70     		strb	r2, [r3, #1]
1666:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->write_offset == 0);
 4752              		.loc 1 1666 9 is_stmt 1 view .LVU1511
1666:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->write_offset == 0);
 4753              		.loc 1 1666 9 view .LVU1512
 4754 0054 0368     		ldr	r3, [r0]
 4755 0056 5A6A     		ldr	r2, [r3, #36]
 4756 0058 002A     		cmp	r2, #0
 4757 005a 2ED0     		beq	.L386
 4758              	.L377:
1666:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->write_offset == 0);
 4759              		.loc 1 1666 9 discriminator 3 view .LVU1513
1666:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->write_offset == 0);
 4760              		.loc 1 1666 9 discriminator 3 view .LVU1514
 4761 005c 224B     		ldr	r3, .L389
 4762 005e 40F28262 		movw	r2, #1666
 4763 0062 2249     		ldr	r1, .L389+4
 4764 0064 2248     		ldr	r0, .L389+8
 4765              	.LVL453:
1666:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->write_offset == 0);
 4766              		.loc 1 1666 9 is_stmt 0 discriminator 3 view .LVU1515
 4767 0066 FFF7FEFF 		bl	printf
 4768              	.LVL454:
 4769              	.L378:
1666:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->write_offset == 0);
 4770              		.loc 1 1666 9 is_stmt 1 discriminator 5 view .LVU1516
1666:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->write_offset == 0);
 4771              		.loc 1 1666 9 discriminator 5 view .LVU1517
1668:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
 4772              		.loc 1 1668 9 discriminator 5 view .LVU1518
1668:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
 4773              		.loc 1 1668 9 discriminator 5 view .LVU1519
 4774 006a E368     		ldr	r3, [r4, #12]
 4775 006c 4BB3     		cbz	r3, .L387
 4776              	.L379:
ARM GAS  /tmp/cc0Mfu8z.s 			page 138


1668:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
 4777              		.loc 1 1668 9 discriminator 3 view .LVU1520
1668:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
 4778              		.loc 1 1668 9 discriminator 3 view .LVU1521
1669:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->write_offset = 0;
 4779              		.loc 1 1669 9 discriminator 3 view .LVU1522
1669:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->write_offset = 0;
 4780              		.loc 1 1669 12 is_stmt 0 discriminator 3 view .LVU1523
 4781 006e 2368     		ldr	r3, [r4]
1669:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->write_offset = 0;
 4782              		.loc 1 1669 32 discriminator 3 view .LVU1524
 4783 0070 5C62     		str	r4, [r3, #36]
1670:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 4784              		.loc 1 1670 9 is_stmt 1 discriminator 3 view .LVU1525
1670:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 4785              		.loc 1 1670 12 is_stmt 0 discriminator 3 view .LVU1526
 4786 0072 2368     		ldr	r3, [r4]
1670:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 4787              		.loc 1 1670 33 discriminator 3 view .LVU1527
 4788 0074 0021     		movs	r1, #0
 4789 0076 1962     		str	r1, [r3, #32]
1672:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state == NETCONN_WRITE);
 4790              		.loc 1 1672 9 is_stmt 1 discriminator 3 view .LVU1528
1672:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state == NETCONN_WRITE);
 4791              		.loc 1 1672 13 is_stmt 0 discriminator 3 view .LVU1529
 4792 0078 2068     		ldr	r0, [r4]
 4793 007a FFF7FEFF 		bl	lwip_netconn_do_writemore
 4794              	.LVL455:
1672:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state == NETCONN_WRITE);
 4795              		.loc 1 1672 12 discriminator 3 view .LVU1530
 4796 007e 0028     		cmp	r0, #0
 4797 0080 D5D0     		beq	.L371
1673:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 4798              		.loc 1 1673 11 is_stmt 1 view .LVU1531
1673:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 4799              		.loc 1 1673 11 view .LVU1532
 4800 0082 2368     		ldr	r3, [r4]
 4801 0084 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4802 0086 012B     		cmp	r3, #1
 4803 0088 23D1     		bne	.L388
 4804              	.L381:
1673:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 4805              		.loc 1 1673 11 discriminator 3 view .LVU1533
1673:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 4806              		.loc 1 1673 11 discriminator 3 view .LVU1534
1674:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
 4807              		.loc 1 1674 11 discriminator 3 view .LVU1535
 4808 008a 1A4D     		ldr	r5, .L389+12
 4809 008c 2846     		mov	r0, r5
 4810 008e FFF7FEFF 		bl	sys_mutex_unlock
 4811              	.LVL456:
1675:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LOCK_TCPIP_CORE();
 4812              		.loc 1 1675 11 discriminator 3 view .LVU1536
1675:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LOCK_TCPIP_CORE();
 4813              		.loc 1 1675 29 is_stmt 0 discriminator 3 view .LVU1537
 4814 0092 2068     		ldr	r0, [r4]
1675:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LOCK_TCPIP_CORE();
ARM GAS  /tmp/cc0Mfu8z.s 			page 139


 4815              		.loc 1 1675 11 discriminator 3 view .LVU1538
 4816 0094 0021     		movs	r1, #0
 4817 0096 0C30     		adds	r0, r0, #12
 4818 0098 FFF7FEFF 		bl	sys_arch_sem_wait
 4819              	.LVL457:
1676:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           LWIP_ASSERT("state!", msg->conn->state != NETCONN_WRITE);
 4820              		.loc 1 1676 11 is_stmt 1 discriminator 3 view .LVU1539
 4821 009c 2846     		mov	r0, r5
 4822 009e FFF7FEFF 		bl	sys_mutex_lock
 4823              	.LVL458:
1677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 4824              		.loc 1 1677 11 discriminator 3 view .LVU1540
1677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 4825              		.loc 1 1677 11 discriminator 3 view .LVU1541
 4826 00a2 2368     		ldr	r3, [r4]
 4827 00a4 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 4828 00a6 012B     		cmp	r3, #1
 4829 00a8 C1D1     		bne	.L371
1677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 4830              		.loc 1 1677 11 discriminator 1 view .LVU1542
1677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 4831              		.loc 1 1677 11 discriminator 1 view .LVU1543
 4832 00aa 0F4B     		ldr	r3, .L389
 4833 00ac 40F28D62 		movw	r2, #1677
 4834 00b0 1149     		ldr	r1, .L389+16
 4835 00b2 0F48     		ldr	r0, .L389+8
 4836 00b4 FFF7FEFF 		bl	printf
 4837              	.LVL459:
1677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 4838              		.loc 1 1677 11 discriminator 1 view .LVU1544
1677:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
 4839              		.loc 1 1677 11 discriminator 1 view .LVU1545
1684:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 4840              		.loc 1 1684 9 discriminator 1 view .LVU1546
 4841 00b8 B9E7     		b	.L371
 4842              	.LVL460:
 4843              	.L386:
1666:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->conn->write_offset == 0);
 4844              		.loc 1 1666 9 is_stmt 0 discriminator 2 view .LVU1547
 4845 00ba 1B6A     		ldr	r3, [r3, #32]
 4846 00bc 002B     		cmp	r3, #0
 4847 00be D4D0     		beq	.L378
 4848 00c0 CCE7     		b	.L377
 4849              	.LVL461:
 4850              	.L387:
1668:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
 4851              		.loc 1 1668 9 is_stmt 1 discriminator 1 view .LVU1548
1668:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = msg;
 4852              		.loc 1 1668 9 discriminator 1 view .LVU1549
 4853 00c2 094B     		ldr	r3, .L389
 4854 00c4 40F28462 		movw	r2, #1668
 4855 00c8 0C49     		ldr	r1, .L389+20
 4856 00ca 0948     		ldr	r0, .L389+8
 4857 00cc FFF7FEFF 		bl	printf
 4858              	.LVL462:
 4859 00d0 CDE7     		b	.L379
 4860              	.L388:
ARM GAS  /tmp/cc0Mfu8z.s 			page 140


1673:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 4861              		.loc 1 1673 11 discriminator 1 view .LVU1550
1673:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           UNLOCK_TCPIP_CORE();
 4862              		.loc 1 1673 11 discriminator 1 view .LVU1551
 4863 00d2 054B     		ldr	r3, .L389
 4864 00d4 40F28962 		movw	r2, #1673
 4865 00d8 0749     		ldr	r1, .L389+16
 4866 00da 0548     		ldr	r0, .L389+8
 4867 00dc FFF7FEFF 		bl	printf
 4868              	.LVL463:
 4869 00e0 D3E7     		b	.L381
 4870              	.LVL464:
 4871              	.L376:
1686:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 4872              		.loc 1 1686 9 view .LVU1552
1686:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 4873              		.loc 1 1686 18 is_stmt 0 view .LVU1553
 4874 00e2 F522     		movs	r2, #245
 4875 00e4 0271     		strb	r2, [r0, #4]
 4876 00e6 94E7     		b	.L373
 4877              	.L390:
 4878              		.align	2
 4879              	.L389:
 4880 00e8 00000000 		.word	.LC0
 4881 00ec 34000000 		.word	.LC31
 4882 00f0 54000000 		.word	.LC2
 4883 00f4 00000000 		.word	lock_tcpip_core
 4884 00f8 50000000 		.word	.LC32
 4885 00fc 00000000 		.word	.LC34
 4886              		.cfi_endproc
 4887              	.LFE124:
 4889              		.section	.rodata.lwip_netconn_do_getaddr.str1.4,"aMS",%progbits,1
 4890              		.align	2
 4891              	.LC35:
 4892 0000 696E7661 		.ascii	"invalid netconn_type\000"
 4892      6C696420 
 4892      6E657463 
 4892      6F6E6E5F 
 4892      74797065 
 4893              		.section	.text.lwip_netconn_do_getaddr,"ax",%progbits
 4894              		.align	1
 4895              		.global	lwip_netconn_do_getaddr
 4896              		.syntax unified
 4897              		.thumb
 4898              		.thumb_func
 4900              	lwip_netconn_do_getaddr:
 4901              	.LVL465:
 4902              	.LFB125:
1699:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1700:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1701:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Return a connection's local or remote address
1702:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_getaddr
1703:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1704:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg_msg pointing to the connection
1705:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1706:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1707:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_getaddr(void *m)
ARM GAS  /tmp/cc0Mfu8z.s 			page 141


1708:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 4903              		.loc 1 1708 1 is_stmt 1 view -0
 4904              		.cfi_startproc
 4905              		@ args = 0, pretend = 0, frame = 0
 4906              		@ frame_needed = 0, uses_anonymous_args = 0
 4907              		.loc 1 1708 1 is_stmt 0 view .LVU1555
 4908 0000 10B5     		push	{r4, lr}
 4909              	.LCFI29:
 4910              		.cfi_def_cfa_offset 8
 4911              		.cfi_offset 4, -8
 4912              		.cfi_offset 14, -4
 4913 0002 0446     		mov	r4, r0
1709:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
 4914              		.loc 1 1709 3 is_stmt 1 view .LVU1556
 4915              	.LVL466:
1710:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1711:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if (msg->conn->pcb.ip != NULL) {
 4916              		.loc 1 1711 3 view .LVU1557
 4917              		.loc 1 1711 10 is_stmt 0 view .LVU1558
 4918 0004 0368     		ldr	r3, [r0]
 4919              		.loc 1 1711 21 view .LVU1559
 4920 0006 5B68     		ldr	r3, [r3, #4]
 4921              		.loc 1 1711 6 view .LVU1560
 4922 0008 002B     		cmp	r3, #0
 4923 000a 3FD0     		beq	.L392
1712:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (msg->msg.ad.local) {
 4924              		.loc 1 1712 5 is_stmt 1 view .LVU1561
 4925              		.loc 1 1712 20 is_stmt 0 view .LVU1562
 4926 000c 027C     		ldrb	r2, [r0, #16]	@ zero_extendqisi2
 4927              		.loc 1 1712 8 view .LVU1563
 4928 000e 9AB1     		cbz	r2, .L393
1713:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ip_addr_copy(API_EXPR_DEREF(msg->msg.ad.ipaddr),
 4929              		.loc 1 1713 7 is_stmt 1 view .LVU1564
 4930 0010 8268     		ldr	r2, [r0, #8]
 4931 0012 1B68     		ldr	r3, [r3]
 4932 0014 1360     		str	r3, [r2]
 4933              	.L394:
1714:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->pcb.ip->local_ip);
1715:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1716:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ip_addr_copy(API_EXPR_DEREF(msg->msg.ad.ipaddr),
1717:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->pcb.ip->remote_ip);
1718:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1719:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1720:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_OK;
 4934              		.loc 1 1720 5 view .LVU1565
 4935              		.loc 1 1720 14 is_stmt 0 view .LVU1566
 4936 0016 0023     		movs	r3, #0
 4937 0018 2371     		strb	r3, [r4, #4]
1721:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     switch (NETCONNTYPE_GROUP(msg->conn->type)) {
 4938              		.loc 1 1721 5 is_stmt 1 view .LVU1567
 4939              		.loc 1 1721 13 is_stmt 0 view .LVU1568
 4940 001a 2268     		ldr	r2, [r4]
 4941 001c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 4942 001e 03F0F003 		and	r3, r3, #240
 4943              		.loc 1 1721 5 view .LVU1569
 4944 0022 102B     		cmp	r3, #16
 4945 0024 18D0     		beq	.L395
ARM GAS  /tmp/cc0Mfu8z.s 			page 142


 4946 0026 202B     		cmp	r3, #32
 4947 0028 28D1     		bne	.L396
1722:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_RAW
1723:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_RAW:
1724:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->msg.ad.local) {
1725:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EXPR_DEREF(msg->msg.ad.port) = msg->conn->pcb.raw->protocol;
1726:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1727:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* return an error as connecting is only a helper for upper layers */
1728:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = ERR_CONN;
1729:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1730:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
1731:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_RAW */
1732:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_UDP
1733:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_UDP:
1734:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->msg.ad.local) {
 4948              		.loc 1 1734 7 is_stmt 1 view .LVU1570
 4949              		.loc 1 1734 22 is_stmt 0 view .LVU1571
 4950 002a 237C     		ldrb	r3, [r4, #16]	@ zero_extendqisi2
 4951              		.loc 1 1734 10 view .LVU1572
 4952 002c 43B1     		cbz	r3, .L397
1735:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EXPR_DEREF(msg->msg.ad.port) = msg->conn->pcb.udp->local_port;
 4953              		.loc 1 1735 9 is_stmt 1 view .LVU1573
 4954              		.loc 1 1735 58 is_stmt 0 view .LVU1574
 4955 002e 5268     		ldr	r2, [r2, #4]
 4956              		.loc 1 1735 9 view .LVU1575
 4957 0030 E368     		ldr	r3, [r4, #12]
 4958              		.loc 1 1735 62 view .LVU1576
 4959 0032 528A     		ldrh	r2, [r2, #18]
 4960              		.loc 1 1735 42 view .LVU1577
 4961 0034 1A80     		strh	r2, [r3]	@ movhi
 4962 0036 2BE0     		b	.L398
 4963              	.L393:
1716:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->pcb.ip->remote_ip);
 4964              		.loc 1 1716 7 is_stmt 1 view .LVU1578
 4965 0038 8268     		ldr	r2, [r0, #8]
 4966 003a 5B68     		ldr	r3, [r3, #4]
 4967 003c 1360     		str	r3, [r2]
 4968 003e EAE7     		b	.L394
 4969              	.L397:
1736:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1737:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         if ((msg->conn->pcb.udp->flags & UDP_FLAGS_CONNECTED) == 0) {
 4970              		.loc 1 1737 9 view .LVU1579
 4971              		.loc 1 1737 28 is_stmt 0 view .LVU1580
 4972 0040 5368     		ldr	r3, [r2, #4]
 4973              		.loc 1 1737 32 view .LVU1581
 4974 0042 1A7C     		ldrb	r2, [r3, #16]	@ zero_extendqisi2
 4975              		.loc 1 1737 12 view .LVU1582
 4976 0044 12F0040F 		tst	r2, #4
 4977 0048 02D1     		bne	.L399
1738:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           msg->err = ERR_CONN;
 4978              		.loc 1 1738 11 is_stmt 1 view .LVU1583
 4979              		.loc 1 1738 20 is_stmt 0 view .LVU1584
 4980 004a F523     		movs	r3, #245
 4981 004c 2371     		strb	r3, [r4, #4]
 4982 004e 1FE0     		b	.L398
 4983              	.L399:
1739:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         } else {
ARM GAS  /tmp/cc0Mfu8z.s 			page 143


1740:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           API_EXPR_DEREF(msg->msg.ad.port) = msg->conn->pcb.udp->remote_port;
 4984              		.loc 1 1740 11 is_stmt 1 view .LVU1585
 4985 0050 E268     		ldr	r2, [r4, #12]
 4986              		.loc 1 1740 64 is_stmt 0 view .LVU1586
 4987 0052 9B8A     		ldrh	r3, [r3, #20]
 4988              		.loc 1 1740 44 view .LVU1587
 4989 0054 1380     		strh	r3, [r2]	@ movhi
 4990 0056 1BE0     		b	.L398
 4991              	.L395:
1741:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         }
1742:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1743:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
1744:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_UDP */
1745:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1746:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     case NETCONN_TCP:
1747:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if ((msg->msg.ad.local == 0) &&
 4992              		.loc 1 1747 7 is_stmt 1 view .LVU1588
 4993              		.loc 1 1747 23 is_stmt 0 view .LVU1589
 4994 0058 237C     		ldrb	r3, [r4, #16]	@ zero_extendqisi2
 4995              		.loc 1 1747 10 view .LVU1590
 4996 005a 1BB9     		cbnz	r3, .L400
1748:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           ((msg->conn->pcb.tcp->state == CLOSED) || (msg->conn->pcb.tcp->state == LISTEN))) {
 4997              		.loc 1 1748 27 discriminator 1 view .LVU1591
 4998 005c 5168     		ldr	r1, [r2, #4]
 4999              		.loc 1 1748 31 discriminator 1 view .LVU1592
 5000 005e 097D     		ldrb	r1, [r1, #20]	@ zero_extendqisi2
1747:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****           ((msg->conn->pcb.tcp->state == CLOSED) || (msg->conn->pcb.tcp->state == LISTEN))) {
 5001              		.loc 1 1747 36 discriminator 1 view .LVU1593
 5002 0060 0129     		cmp	r1, #1
 5003 0062 05D9     		bls	.L406
 5004              	.L400:
1749:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* pcb is not connected and remote name is requested */
1750:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = ERR_CONN;
1751:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1752:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         API_EXPR_DEREF(msg->msg.ad.port) = (msg->msg.ad.local ? msg->conn->pcb.tcp->local_port : ms
 5005              		.loc 1 1752 9 is_stmt 1 view .LVU1594
 5006              		.loc 1 1752 42 is_stmt 0 view .LVU1595
 5007 0064 3BB1     		cbz	r3, .L401
 5008              		.loc 1 1752 79 discriminator 1 view .LVU1596
 5009 0066 5368     		ldr	r3, [r2, #4]
 5010              		.loc 1 1752 42 discriminator 1 view .LVU1597
 5011 0068 DA8A     		ldrh	r2, [r3, #22]
 5012              	.L402:
 5013              		.loc 1 1752 9 discriminator 4 view .LVU1598
 5014 006a E368     		ldr	r3, [r4, #12]
 5015              		.loc 1 1752 42 discriminator 4 view .LVU1599
 5016 006c 1A80     		strh	r2, [r3]	@ movhi
 5017 006e 0FE0     		b	.L398
 5018              	.L406:
1750:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 5019              		.loc 1 1750 9 is_stmt 1 view .LVU1600
1750:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
 5020              		.loc 1 1750 18 is_stmt 0 view .LVU1601
 5021 0070 F523     		movs	r3, #245
 5022 0072 2371     		strb	r3, [r4, #4]
 5023 0074 0CE0     		b	.L398
 5024              	.L401:
ARM GAS  /tmp/cc0Mfu8z.s 			page 144


 5025              		.loc 1 1752 112 discriminator 2 view .LVU1602
 5026 0076 5368     		ldr	r3, [r2, #4]
 5027              		.loc 1 1752 42 discriminator 2 view .LVU1603
 5028 0078 1A8B     		ldrh	r2, [r3, #24]
 5029 007a F6E7     		b	.L402
 5030              	.L396:
1753:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1754:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
1755:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1756:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     default:
1757:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("invalid netconn_type", 0);
 5031              		.loc 1 1757 7 is_stmt 1 discriminator 1 view .LVU1604
 5032              		.loc 1 1757 7 discriminator 1 view .LVU1605
 5033              		.loc 1 1757 7 discriminator 1 view .LVU1606
 5034              		.loc 1 1757 7 discriminator 1 view .LVU1607
 5035 007c 0C4B     		ldr	r3, .L407
 5036 007e 40F2DD62 		movw	r2, #1757
 5037 0082 0C49     		ldr	r1, .L407+4
 5038 0084 0C48     		ldr	r0, .L407+8
 5039              	.LVL467:
 5040              		.loc 1 1757 7 is_stmt 0 discriminator 1 view .LVU1608
 5041 0086 FFF7FEFF 		bl	printf
 5042              	.LVL468:
 5043              		.loc 1 1757 7 is_stmt 1 discriminator 1 view .LVU1609
 5044              		.loc 1 1757 7 discriminator 1 view .LVU1610
1758:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       break;
 5045              		.loc 1 1758 7 discriminator 1 view .LVU1611
 5046 008a 01E0     		b	.L398
 5047              	.LVL469:
 5048              	.L392:
1759:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1760:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else {
1761:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_CONN;
 5049              		.loc 1 1761 5 view .LVU1612
 5050              		.loc 1 1761 14 is_stmt 0 view .LVU1613
 5051 008c F523     		movs	r3, #245
 5052 008e 0371     		strb	r3, [r0, #4]
 5053              	.LVL470:
 5054              	.L398:
1762:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1763:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 5055              		.loc 1 1763 3 is_stmt 1 view .LVU1614
 5056              		.loc 1 1763 3 view .LVU1615
 5057 0090 2368     		ldr	r3, [r4]
 5058 0092 63B1     		cbz	r3, .L391
 5059              	.LBB39:
 5060              		.loc 1 1763 3 discriminator 1 view .LVU1616
 5061              		.loc 1 1763 3 discriminator 1 view .LVU1617
 5062 0094 FFF7FEFF 		bl	sys_arch_protect
 5063              	.LVL471:
 5064              		.loc 1 1763 3 discriminator 1 view .LVU1618
 5065 0098 2368     		ldr	r3, [r4]
 5066 009a 93F90820 		ldrsb	r2, [r3, #8]
 5067 009e 12F10C0F 		cmn	r2, #12
 5068 00a2 02DB     		blt	.L404
 5069              		.loc 1 1763 3 discriminator 3 view .LVU1619
 5070 00a4 94F90420 		ldrsb	r2, [r4, #4]
ARM GAS  /tmp/cc0Mfu8z.s 			page 145


 5071 00a8 1A72     		strb	r2, [r3, #8]
 5072              	.L404:
 5073              		.loc 1 1763 3 discriminator 5 view .LVU1620
 5074 00aa FFF7FEFF 		bl	sys_arch_unprotect
 5075              	.LVL472:
 5076              		.loc 1 1763 3 is_stmt 0 discriminator 5 view .LVU1621
 5077              	.LBE39:
 5078              		.loc 1 1763 3 is_stmt 1 discriminator 5 view .LVU1622
 5079              		.loc 1 1763 24 discriminator 5 view .LVU1623
 5080              	.L391:
1764:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 5081              		.loc 1 1764 1 is_stmt 0 view .LVU1624
 5082 00ae 10BD     		pop	{r4, pc}
 5083              	.LVL473:
 5084              	.L408:
 5085              		.loc 1 1764 1 view .LVU1625
 5086              		.align	2
 5087              	.L407:
 5088 00b0 00000000 		.word	.LC0
 5089 00b4 00000000 		.word	.LC35
 5090 00b8 54000000 		.word	.LC2
 5091              		.cfi_endproc
 5092              	.LFE125:
 5094              		.section	.text.lwip_netconn_do_close,"ax",%progbits
 5095              		.align	1
 5096              		.global	lwip_netconn_do_close
 5097              		.syntax unified
 5098              		.thumb
 5099              		.thumb_func
 5101              	lwip_netconn_do_close:
 5102              	.LVL474:
 5103              	.LFB126:
1765:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1766:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** /**
1767:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Close or half-shutdown a TCP pcb contained in a netconn
1768:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * Called from netconn_close
1769:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * In contrast to closing sockets, the netconn is not deallocated.
1770:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  *
1771:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  * @param m the api_msg_msg pointing to the connection
1772:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****  */
1773:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** void
1774:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** lwip_netconn_do_close(void *m)
1775:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** {
 5104              		.loc 1 1775 1 is_stmt 1 view -0
 5105              		.cfi_startproc
 5106              		@ args = 0, pretend = 0, frame = 0
 5107              		@ frame_needed = 0, uses_anonymous_args = 0
 5108              		.loc 1 1775 1 is_stmt 0 view .LVU1627
 5109 0000 38B5     		push	{r3, r4, r5, lr}
 5110              	.LCFI30:
 5111              		.cfi_def_cfa_offset 16
 5112              		.cfi_offset 3, -16
 5113              		.cfi_offset 4, -12
 5114              		.cfi_offset 5, -8
 5115              		.cfi_offset 14, -4
 5116 0002 0446     		mov	r4, r0
1776:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   struct api_msg *msg = (struct api_msg*)m;
ARM GAS  /tmp/cc0Mfu8z.s 			page 146


 5117              		.loc 1 1776 3 is_stmt 1 view .LVU1628
 5118              	.LVL475:
1777:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** 
1778:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCP
1779:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   enum netconn_state state = msg->conn->state;
 5119              		.loc 1 1779 3 view .LVU1629
 5120              		.loc 1 1779 33 is_stmt 0 view .LVU1630
 5121 0004 0068     		ldr	r0, [r0]
 5122              	.LVL476:
 5123              		.loc 1 1779 22 view .LVU1631
 5124 0006 4278     		ldrb	r2, [r0, #1]	@ zero_extendqisi2
 5125              	.LVL477:
1780:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   /* First check if this is a TCP netconn and if it is in a correct state
1781:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (LISTEN doesn't support half shutdown) */
1782:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   if ((msg->conn->pcb.tcp != NULL) &&
 5126              		.loc 1 1782 3 is_stmt 1 view .LVU1632
 5127              		.loc 1 1782 22 is_stmt 0 view .LVU1633
 5128 0008 4368     		ldr	r3, [r0, #4]
 5129              		.loc 1 1782 6 view .LVU1634
 5130 000a 23B1     		cbz	r3, .L410
1783:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) &&
 5131              		.loc 1 1783 8 discriminator 1 view .LVU1635
 5132 000c 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
1782:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       (NETCONNTYPE_GROUP(msg->conn->type) == NETCONN_TCP) &&
 5133              		.loc 1 1782 36 discriminator 1 view .LVU1636
 5134 000e 03F0F003 		and	r3, r3, #240
 5135 0012 102B     		cmp	r3, #16
 5136 0014 10D0     		beq	.L423
 5137              	.L410:
1784:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((msg->msg.sd.shut == NETCONN_SHUT_RDWR) || (state != NETCONN_LISTEN))) {
1785:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Check if we are in a connected state */
1786:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (state == NETCONN_CONNECT) {
1787:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* TCP connect in progress: cannot shutdown */
1788:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->err = ERR_CONN;
1789:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else if (state == NETCONN_WRITE) {
1790:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
1791:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->msg.sd.shut & NETCONN_SHUT_WR) {
1792:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* close requested, abort running write */
1793:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         sys_sem_t* write_completed_sem;
1794:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->conn->current_msg != NULL", msg->conn->current_msg != NULL);
1795:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         write_completed_sem = LWIP_API_MSG_SEM(msg->conn->current_msg);
1796:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg->err = ERR_CLSD;
1797:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->current_msg = NULL;
1798:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->write_offset = 0;
1799:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->state = NETCONN_NONE;
1800:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         state = NETCONN_NONE;
1801:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         NETCONN_SET_SAFE_ERR(msg->conn, ERR_CLSD);
1802:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         sys_sem_signal(write_completed_sem);
1803:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       } else {
1804:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("msg->msg.sd.shut == NETCONN_SHUT_RD", msg->msg.sd.shut == NETCONN_SHUT_RD);
1805:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* In this case, let the write continue and do not interfere with
1806:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****            conn->current_msg or conn->state! */
1807:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->err = tcp_shutdown(msg->conn->pcb.tcp, 1, 0);
1808:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1809:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1810:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     if (state == NETCONN_NONE) {
1811:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_NETCONN_FULLDUPLEX */
ARM GAS  /tmp/cc0Mfu8z.s 			page 147


1812:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->err = ERR_INPROGRESS;
1813:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
1814:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_NETCONN_FULLDUPLEX */
1815:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (msg->msg.sd.shut & NETCONN_SHUT_RD) {
1816:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Drain and delete mboxes */
1817:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         netconn_drain(msg->conn);
1818:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1819:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       LWIP_ASSERT("already writing or closing", msg->conn->current_msg == NULL &&
1820:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->write_offset == 0);
1821:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->state = NETCONN_CLOSE;
1822:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->current_msg = msg;
1823:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
1824:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       if (lwip_netconn_do_close_internal(msg->conn, 0) != ERR_OK) {
1825:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
1826:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
1827:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
1828:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LOCK_TCPIP_CORE();
1829:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_NONE);
1830:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
1831:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
1832:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       lwip_netconn_do_close_internal(msg->conn);
1833:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
1834:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* for tcp netconns, lwip_netconn_do_close_internal ACKs the message */
1835:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       return;
1836:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
1837:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   } else
1838:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #endif /* LWIP_TCP */
1839:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   {
1840:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     msg->err = ERR_CONN;
 5138              		.loc 1 1840 5 is_stmt 1 view .LVU1637
 5139              		.loc 1 1840 14 is_stmt 0 view .LVU1638
 5140 0016 F523     		movs	r3, #245
 5141 0018 2371     		strb	r3, [r4, #4]
 5142              	.L413:
1841:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   }
1842:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****   TCPIP_APIMSG_ACK(msg);
 5143              		.loc 1 1842 3 is_stmt 1 view .LVU1639
 5144              		.loc 1 1842 3 view .LVU1640
 5145 001a 60B1     		cbz	r0, .L409
 5146              	.LBB40:
 5147              		.loc 1 1842 3 discriminator 1 view .LVU1641
 5148              		.loc 1 1842 3 discriminator 1 view .LVU1642
 5149 001c FFF7FEFF 		bl	sys_arch_protect
 5150              	.LVL478:
 5151              		.loc 1 1842 3 discriminator 1 view .LVU1643
 5152 0020 2368     		ldr	r3, [r4]
 5153 0022 93F90820 		ldrsb	r2, [r3, #8]
 5154 0026 12F10C0F 		cmn	r2, #12
 5155 002a 02DB     		blt	.L421
 5156              		.loc 1 1842 3 discriminator 3 view .LVU1644
 5157 002c 94F90420 		ldrsb	r2, [r4, #4]
 5158 0030 1A72     		strb	r2, [r3, #8]
 5159              	.L421:
 5160              		.loc 1 1842 3 discriminator 5 view .LVU1645
 5161 0032 FFF7FEFF 		bl	sys_arch_unprotect
 5162              	.LVL479:
 5163              		.loc 1 1842 3 is_stmt 0 discriminator 5 view .LVU1646
ARM GAS  /tmp/cc0Mfu8z.s 			page 148


 5164              	.LBE40:
 5165              		.loc 1 1842 3 is_stmt 1 discriminator 5 view .LVU1647
 5166              		.loc 1 1842 24 discriminator 5 view .LVU1648
 5167              	.L409:
1843:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** }
 5168              		.loc 1 1843 1 is_stmt 0 view .LVU1649
 5169 0036 38BD     		pop	{r3, r4, r5, pc}
 5170              	.LVL480:
 5171              	.L423:
1784:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((msg->msg.sd.shut == NETCONN_SHUT_RDWR) || (state != NETCONN_LISTEN))) {
 5172              		.loc 1 1784 20 view .LVU1650
 5173 0038 237A     		ldrb	r3, [r4, #8]	@ zero_extendqisi2
1783:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       ((msg->msg.sd.shut == NETCONN_SHUT_RDWR) || (state != NETCONN_LISTEN))) {
 5174              		.loc 1 1783 59 view .LVU1651
 5175 003a 032B     		cmp	r3, #3
 5176 003c 01D0     		beq	.L411
1784:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     /* Check if we are in a connected state */
 5177              		.loc 1 1784 48 view .LVU1652
 5178 003e 022A     		cmp	r2, #2
 5179 0040 E9D0     		beq	.L410
 5180              	.L411:
1786:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* TCP connect in progress: cannot shutdown */
 5181              		.loc 1 1786 5 is_stmt 1 view .LVU1653
1786:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       /* TCP connect in progress: cannot shutdown */
 5182              		.loc 1 1786 8 is_stmt 0 view .LVU1654
 5183 0042 032A     		cmp	r2, #3
 5184 0044 04D0     		beq	.L424
1789:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 5185              		.loc 1 1789 12 is_stmt 1 view .LVU1655
1789:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_NETCONN_FULLDUPLEX
 5186              		.loc 1 1789 15 is_stmt 0 view .LVU1656
 5187 0046 012A     		cmp	r2, #1
 5188 0048 05D1     		bne	.L414
1812:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
 5189              		.loc 1 1812 7 is_stmt 1 view .LVU1657
1812:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else {
 5190              		.loc 1 1812 16 is_stmt 0 view .LVU1658
 5191 004a FB23     		movs	r3, #251
 5192 004c 2371     		strb	r3, [r4, #4]
 5193 004e E4E7     		b	.L413
 5194              	.L424:
1788:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else if (state == NETCONN_WRITE) {
 5195              		.loc 1 1788 7 is_stmt 1 view .LVU1659
1788:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     } else if (state == NETCONN_WRITE) {
 5196              		.loc 1 1788 16 is_stmt 0 view .LVU1660
 5197 0050 F523     		movs	r3, #245
 5198 0052 2371     		strb	r3, [r4, #4]
 5199 0054 E1E7     		b	.L413
 5200              	.L414:
1815:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Drain and delete mboxes */
 5201              		.loc 1 1815 7 is_stmt 1 view .LVU1661
1815:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         /* Drain and delete mboxes */
 5202              		.loc 1 1815 10 is_stmt 0 view .LVU1662
 5203 0056 13F0010F 		tst	r3, #1
 5204 005a 31D1     		bne	.L425
 5205              	.LVL481:
 5206              	.L415:
ARM GAS  /tmp/cc0Mfu8z.s 			page 149


1819:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->write_offset == 0);
 5207              		.loc 1 1819 7 is_stmt 1 view .LVU1663
1819:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->write_offset == 0);
 5208              		.loc 1 1819 7 view .LVU1664
 5209 005c 2368     		ldr	r3, [r4]
 5210 005e 5A6A     		ldr	r2, [r3, #36]
 5211 0060 002A     		cmp	r2, #0
 5212 0062 30D0     		beq	.L426
 5213              	.L416:
1819:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->write_offset == 0);
 5214              		.loc 1 1819 7 discriminator 3 view .LVU1665
1819:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->write_offset == 0);
 5215              		.loc 1 1819 7 discriminator 3 view .LVU1666
 5216 0064 1E4B     		ldr	r3, .L428
 5217 0066 40F21B72 		movw	r2, #1819
 5218 006a 1E49     		ldr	r1, .L428+4
 5219 006c 1E48     		ldr	r0, .L428+8
 5220 006e FFF7FEFF 		bl	printf
 5221              	.LVL482:
 5222              	.L417:
1819:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->write_offset == 0);
 5223              		.loc 1 1819 7 discriminator 5 view .LVU1667
1819:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->write_offset == 0);
 5224              		.loc 1 1819 7 discriminator 5 view .LVU1668
1821:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->current_msg = msg;
 5225              		.loc 1 1821 7 discriminator 5 view .LVU1669
1821:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->current_msg = msg;
 5226              		.loc 1 1821 10 is_stmt 0 discriminator 5 view .LVU1670
 5227 0072 2368     		ldr	r3, [r4]
1821:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       msg->conn->current_msg = msg;
 5228              		.loc 1 1821 24 discriminator 5 view .LVU1671
 5229 0074 0422     		movs	r2, #4
 5230 0076 5A70     		strb	r2, [r3, #1]
1822:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 5231              		.loc 1 1822 7 is_stmt 1 discriminator 5 view .LVU1672
1822:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 5232              		.loc 1 1822 10 is_stmt 0 discriminator 5 view .LVU1673
 5233 0078 2368     		ldr	r3, [r4]
1822:Middlewares/Third_Party/LwIP/src/api/api_msg.c **** #if LWIP_TCPIP_CORE_LOCKING
 5234              		.loc 1 1822 30 discriminator 5 view .LVU1674
 5235 007a 5C62     		str	r4, [r3, #36]
1824:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
 5236              		.loc 1 1824 7 is_stmt 1 discriminator 5 view .LVU1675
1824:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
 5237              		.loc 1 1824 11 is_stmt 0 discriminator 5 view .LVU1676
 5238 007c 0021     		movs	r1, #0
 5239 007e 2068     		ldr	r0, [r4]
 5240 0080 FFF7FEFF 		bl	lwip_netconn_do_close_internal
 5241              	.LVL483:
1824:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_CLOSE);
 5242              		.loc 1 1824 10 discriminator 5 view .LVU1677
 5243 0084 0028     		cmp	r0, #0
 5244 0086 D6D0     		beq	.L409
1825:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
 5245              		.loc 1 1825 9 is_stmt 1 view .LVU1678
1825:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
 5246              		.loc 1 1825 9 view .LVU1679
ARM GAS  /tmp/cc0Mfu8z.s 			page 150


 5247 0088 2368     		ldr	r3, [r4]
 5248 008a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5249 008c 042B     		cmp	r3, #4
 5250 008e 1ED1     		bne	.L427
 5251              	.L419:
1825:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
 5252              		.loc 1 1825 9 discriminator 3 view .LVU1680
1825:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
 5253              		.loc 1 1825 9 discriminator 3 view .LVU1681
1826:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         sys_arch_sem_wait(LWIP_API_MSG_SEM(msg), 0);
 5254              		.loc 1 1826 9 discriminator 3 view .LVU1682
 5255 0090 164D     		ldr	r5, .L428+12
 5256 0092 2846     		mov	r0, r5
 5257 0094 FFF7FEFF 		bl	sys_mutex_unlock
 5258              	.LVL484:
1827:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LOCK_TCPIP_CORE();
 5259              		.loc 1 1827 9 discriminator 3 view .LVU1683
1827:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LOCK_TCPIP_CORE();
 5260              		.loc 1 1827 27 is_stmt 0 discriminator 3 view .LVU1684
 5261 0098 2068     		ldr	r0, [r4]
1827:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LOCK_TCPIP_CORE();
 5262              		.loc 1 1827 9 discriminator 3 view .LVU1685
 5263 009a 0021     		movs	r1, #0
 5264 009c 0C30     		adds	r0, r0, #12
 5265 009e FFF7FEFF 		bl	sys_arch_sem_wait
 5266              	.LVL485:
1828:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         LWIP_ASSERT("state!", msg->conn->state == NETCONN_NONE);
 5267              		.loc 1 1828 9 is_stmt 1 discriminator 3 view .LVU1686
 5268 00a2 2846     		mov	r0, r5
 5269 00a4 FFF7FEFF 		bl	sys_mutex_lock
 5270              	.LVL486:
1829:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 5271              		.loc 1 1829 9 discriminator 3 view .LVU1687
1829:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 5272              		.loc 1 1829 9 discriminator 3 view .LVU1688
 5273 00a8 2368     		ldr	r3, [r4]
 5274 00aa 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5275 00ac 002B     		cmp	r3, #0
 5276 00ae C2D0     		beq	.L409
1829:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 5277              		.loc 1 1829 9 discriminator 1 view .LVU1689
1829:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 5278              		.loc 1 1829 9 discriminator 1 view .LVU1690
 5279 00b0 0B4B     		ldr	r3, .L428
 5280 00b2 40F22572 		movw	r2, #1829
 5281 00b6 0E49     		ldr	r1, .L428+16
 5282 00b8 0B48     		ldr	r0, .L428+8
 5283 00ba FFF7FEFF 		bl	printf
 5284              	.LVL487:
1829:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 5285              		.loc 1 1829 9 discriminator 1 view .LVU1691
1829:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 5286              		.loc 1 1829 9 discriminator 1 view .LVU1692
1835:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****     }
 5287              		.loc 1 1835 7 discriminator 1 view .LVU1693
 5288 00be BAE7     		b	.L409
 5289              	.LVL488:
ARM GAS  /tmp/cc0Mfu8z.s 			page 151


 5290              	.L425:
1817:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 5291              		.loc 1 1817 9 view .LVU1694
 5292 00c0 FFF7FEFF 		bl	netconn_drain
 5293              	.LVL489:
1817:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****       }
 5294              		.loc 1 1817 9 is_stmt 0 view .LVU1695
 5295 00c4 CAE7     		b	.L415
 5296              	.L426:
1819:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         msg->conn->write_offset == 0);
 5297              		.loc 1 1819 7 discriminator 2 view .LVU1696
 5298 00c6 1B6A     		ldr	r3, [r3, #32]
 5299 00c8 002B     		cmp	r3, #0
 5300 00ca D2D0     		beq	.L417
 5301 00cc CAE7     		b	.L416
 5302              	.L427:
1825:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
 5303              		.loc 1 1825 9 is_stmt 1 discriminator 1 view .LVU1697
1825:Middlewares/Third_Party/LwIP/src/api/api_msg.c ****         UNLOCK_TCPIP_CORE();
 5304              		.loc 1 1825 9 discriminator 1 view .LVU1698
 5305 00ce 044B     		ldr	r3, .L428
 5306 00d0 40F22172 		movw	r2, #1825
 5307 00d4 0649     		ldr	r1, .L428+16
 5308 00d6 0448     		ldr	r0, .L428+8
 5309 00d8 FFF7FEFF 		bl	printf
 5310              	.LVL490:
 5311 00dc D8E7     		b	.L419
 5312              	.L429:
 5313 00de 00BF     		.align	2
 5314              	.L428:
 5315 00e0 00000000 		.word	.LC0
 5316 00e4 34000000 		.word	.LC31
 5317 00e8 54000000 		.word	.LC2
 5318 00ec 00000000 		.word	lock_tcpip_core
 5319 00f0 50000000 		.word	.LC32
 5320              		.cfi_endproc
 5321              	.LFE126:
 5323              		.global	netconn_aborted
 5324              		.section	.bss.netconn_aborted,"aw",%nobits
 5325              		.set	.LANCHOR0,. + 0
 5328              	netconn_aborted:
 5329 0000 00       		.space	1
 5330              		.text
 5331              	.Letext0:
 5332              		.file 2 "/opt/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/machine/_default_types.h"
 5333              		.file 3 "/opt/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/sys/_stdint.h"
 5334              		.file 4 "/opt/gcc-arm-none-eabi-10.3-2021.10/lib/gcc/arm-none-eabi/10.3.1/include/stddef.h"
 5335              		.file 5 "Middlewares/Third_Party/LwIP/system/arch/cc.h"
 5336              		.file 6 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 5337              		.file 7 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 5338              		.file 8 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
 5339              		.file 9 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 5340              		.file 10 "Middlewares/Third_Party/FreeRTOS/Source/include/queue.h"
 5341              		.file 11 "Middlewares/Third_Party/FreeRTOS/Source/include/semphr.h"
 5342              		.file 12 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.h"
 5343              		.file 13 "Middlewares/Third_Party/LwIP/system/arch/sys_arch.h"
 5344              		.file 14 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
ARM GAS  /tmp/cc0Mfu8z.s 			page 152


 5345              		.file 15 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 5346              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/netbuf.h"
 5347              		.file 17 "Middlewares/Third_Party/LwIP/src/include/lwip/api.h"
 5348              		.file 18 "Middlewares/Third_Party/LwIP/src/include/lwip/ip.h"
 5349              		.file 19 "Middlewares/Third_Party/LwIP/src/include/lwip/tcp.h"
 5350              		.file 20 "Middlewares/Third_Party/LwIP/src/include/lwip/udp.h"
 5351              		.file 21 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/api_msg.h"
 5352              		.file 22 "Middlewares/Third_Party/LwIP/src/include/lwip/tcpip.h"
 5353              		.file 23 "Middlewares/Third_Party/LwIP/src/include/lwip/sys.h"
 5354              		.file 24 "/opt/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/stdio.h"
ARM GAS  /tmp/cc0Mfu8z.s 			page 153


DEFINED SYMBOLS
                            *ABS*:0000000000000000 api_msg.c
     /tmp/cc0Mfu8z.s:18     .rodata.recv_udp.str1.4:0000000000000000 $d
     /tmp/cc0Mfu8z.s:34     .text.recv_udp:0000000000000000 $t
     /tmp/cc0Mfu8z.s:39     .text.recv_udp:0000000000000000 recv_udp
     /tmp/cc0Mfu8z.s:235    .text.recv_udp:00000000000000b0 $d
     /tmp/cc0Mfu8z.s:244    .text.setup_tcp:0000000000000000 $t
     /tmp/cc0Mfu8z.s:249    .text.setup_tcp:0000000000000000 setup_tcp
     /tmp/cc0Mfu8z.s:302    .text.setup_tcp:0000000000000030 $d
     /tmp/cc0Mfu8z.s:2401   .text.recv_tcp:0000000000000000 recv_tcp
     /tmp/cc0Mfu8z.s:2269   .text.sent_tcp:0000000000000000 sent_tcp
     /tmp/cc0Mfu8z.s:2136   .text.poll_tcp:0000000000000000 poll_tcp
     /tmp/cc0Mfu8z.s:474    .text.err_tcp:0000000000000000 err_tcp
     /tmp/cc0Mfu8z.s:310    .rodata.pcb_new.str1.4:0000000000000000 $d
     /tmp/cc0Mfu8z.s:314    .text.pcb_new:0000000000000000 $t
     /tmp/cc0Mfu8z.s:319    .text.pcb_new:0000000000000000 pcb_new
     /tmp/cc0Mfu8z.s:448    .text.pcb_new:0000000000000078 $d
     /tmp/cc0Mfu8z.s:456    .rodata.err_tcp.str1.4:0000000000000000 $d
     /tmp/cc0Mfu8z.s:469    .text.err_tcp:0000000000000000 $t
     /tmp/cc0Mfu8z.s:788    .text.err_tcp:0000000000000128 $d
     /tmp/cc0Mfu8z.s:800    .rodata.lwip_netconn_do_connected.str1.4:0000000000000000 $d
     /tmp/cc0Mfu8z.s:811    .text.lwip_netconn_do_connected:0000000000000000 $t
     /tmp/cc0Mfu8z.s:816    .text.lwip_netconn_do_connected:0000000000000000 lwip_netconn_do_connected
     /tmp/cc0Mfu8z.s:1031   .text.lwip_netconn_do_connected:00000000000000c0 $d
     /tmp/cc0Mfu8z.s:1040   .rodata.lwip_netconn_do_writemore.str1.4:0000000000000000 $d
     /tmp/cc0Mfu8z.s:1053   .text.lwip_netconn_do_writemore:0000000000000000 $t
     /tmp/cc0Mfu8z.s:1058   .text.lwip_netconn_do_writemore:0000000000000000 lwip_netconn_do_writemore
     /tmp/cc0Mfu8z.s:1601   .text.lwip_netconn_do_writemore:00000000000001f4 $d
     /tmp/cc0Mfu8z.s:1613   .rodata.lwip_netconn_do_close_internal.str1.4:0000000000000000 $d
     /tmp/cc0Mfu8z.s:1629   .text.lwip_netconn_do_close_internal:0000000000000000 $t
     /tmp/cc0Mfu8z.s:1634   .text.lwip_netconn_do_close_internal:0000000000000000 lwip_netconn_do_close_internal
     /tmp/cc0Mfu8z.s:2116   .text.lwip_netconn_do_close_internal:00000000000001fc $d
     /tmp/cc0Mfu8z.s:2131   .text.poll_tcp:0000000000000000 $t
     /tmp/cc0Mfu8z.s:2257   .text.poll_tcp:0000000000000074 $d
     /tmp/cc0Mfu8z.s:2264   .text.sent_tcp:0000000000000000 $t
     /tmp/cc0Mfu8z.s:2379   .text.sent_tcp:0000000000000068 $d
     /tmp/cc0Mfu8z.s:2386   .rodata.recv_tcp.str1.4:0000000000000000 $d
     /tmp/cc0Mfu8z.s:2396   .text.recv_tcp:0000000000000000 $t
     /tmp/cc0Mfu8z.s:2601   .text.recv_tcp:00000000000000b4 $d
     /tmp/cc0Mfu8z.s:2610   .text.lwip_netconn_do_newconn:0000000000000000 $t
     /tmp/cc0Mfu8z.s:2616   .text.lwip_netconn_do_newconn:0000000000000000 lwip_netconn_do_newconn
     /tmp/cc0Mfu8z.s:2684   .rodata.netconn_alloc.str1.4:0000000000000000 $d
     /tmp/cc0Mfu8z.s:2688   .text.netconn_alloc:0000000000000000 $t
     /tmp/cc0Mfu8z.s:2694   .text.netconn_alloc:0000000000000000 netconn_alloc
     /tmp/cc0Mfu8z.s:2830   .text.netconn_alloc:0000000000000080 $d
     /tmp/cc0Mfu8z.s:2837   .rodata.netconn_free.str1.4:0000000000000000 $d
     /tmp/cc0Mfu8z.s:2849   .text.netconn_free:0000000000000000 $t
     /tmp/cc0Mfu8z.s:2855   .text.netconn_free:0000000000000000 netconn_free
     /tmp/cc0Mfu8z.s:2946   .text.netconn_free:0000000000000064 $d
     /tmp/cc0Mfu8z.s:2955   .text.netconn_drain:0000000000000000 $t
     /tmp/cc0Mfu8z.s:2960   .text.netconn_drain:0000000000000000 netconn_drain
     /tmp/cc0Mfu8z.s:3126   .text.netconn_drain:00000000000000a4 $d
     /tmp/cc0Mfu8z.s:3131   .text.accept_function:0000000000000000 $t
     /tmp/cc0Mfu8z.s:3136   .text.accept_function:0000000000000000 accept_function
     /tmp/cc0Mfu8z.s:3350   .text.accept_function:00000000000000e0 $d
     /tmp/cc0Mfu8z.s:3355   .rodata.lwip_netconn_do_delconn.str1.4:0000000000000000 $d
     /tmp/cc0Mfu8z.s:3368   .text.lwip_netconn_do_delconn:0000000000000000 $t
ARM GAS  /tmp/cc0Mfu8z.s 			page 154


     /tmp/cc0Mfu8z.s:3374   .text.lwip_netconn_do_delconn:0000000000000000 lwip_netconn_do_delconn
     /tmp/cc0Mfu8z.s:3685   .text.lwip_netconn_do_delconn:0000000000000154 $d
     /tmp/cc0Mfu8z.s:3696   .text.lwip_netconn_do_bind:0000000000000000 $t
     /tmp/cc0Mfu8z.s:3702   .text.lwip_netconn_do_bind:0000000000000000 lwip_netconn_do_bind
     /tmp/cc0Mfu8z.s:3805   .rodata.lwip_netconn_do_connect.str1.4:0000000000000000 $d
     /tmp/cc0Mfu8z.s:3809   .text.lwip_netconn_do_connect:0000000000000000 $t
     /tmp/cc0Mfu8z.s:3815   .text.lwip_netconn_do_connect:0000000000000000 lwip_netconn_do_connect
     /tmp/cc0Mfu8z.s:4066   .text.lwip_netconn_do_connect:0000000000000104 $d
     /tmp/cc0Mfu8z.s:4076   .text.lwip_netconn_do_disconnect:0000000000000000 $t
     /tmp/cc0Mfu8z.s:4082   .text.lwip_netconn_do_disconnect:0000000000000000 lwip_netconn_do_disconnect
     /tmp/cc0Mfu8z.s:4157   .text.lwip_netconn_do_listen:0000000000000000 $t
     /tmp/cc0Mfu8z.s:4163   .text.lwip_netconn_do_listen:0000000000000000 lwip_netconn_do_listen
     /tmp/cc0Mfu8z.s:4412   .text.lwip_netconn_do_listen:00000000000000ec $d
     /tmp/cc0Mfu8z.s:4417   .text.lwip_netconn_do_send:0000000000000000 $t
     /tmp/cc0Mfu8z.s:4423   .text.lwip_netconn_do_send:0000000000000000 lwip_netconn_do_send
     /tmp/cc0Mfu8z.s:4528   .text.lwip_netconn_do_recv:0000000000000000 $t
     /tmp/cc0Mfu8z.s:4534   .text.lwip_netconn_do_recv:0000000000000000 lwip_netconn_do_recv
     /tmp/cc0Mfu8z.s:4650   .rodata.lwip_netconn_do_write.str1.4:0000000000000000 $d
     /tmp/cc0Mfu8z.s:4654   .text.lwip_netconn_do_write:0000000000000000 $t
     /tmp/cc0Mfu8z.s:4660   .text.lwip_netconn_do_write:0000000000000000 lwip_netconn_do_write
     /tmp/cc0Mfu8z.s:4880   .text.lwip_netconn_do_write:00000000000000e8 $d
     /tmp/cc0Mfu8z.s:4890   .rodata.lwip_netconn_do_getaddr.str1.4:0000000000000000 $d
     /tmp/cc0Mfu8z.s:4894   .text.lwip_netconn_do_getaddr:0000000000000000 $t
     /tmp/cc0Mfu8z.s:4900   .text.lwip_netconn_do_getaddr:0000000000000000 lwip_netconn_do_getaddr
     /tmp/cc0Mfu8z.s:5088   .text.lwip_netconn_do_getaddr:00000000000000b0 $d
     /tmp/cc0Mfu8z.s:5095   .text.lwip_netconn_do_close:0000000000000000 $t
     /tmp/cc0Mfu8z.s:5101   .text.lwip_netconn_do_close:0000000000000000 lwip_netconn_do_close
     /tmp/cc0Mfu8z.s:5315   .text.lwip_netconn_do_close:00000000000000e0 $d
     /tmp/cc0Mfu8z.s:5328   .bss.netconn_aborted:0000000000000000 netconn_aborted
     /tmp/cc0Mfu8z.s:5329   .bss.netconn_aborted:0000000000000000 $d

UNDEFINED SYMBOLS
printf
sys_mbox_valid
memp_malloc
sys_mbox_trypost
pbuf_free
netbuf_delete
tcp_arg
tcp_recv
tcp_sent
tcp_poll
tcp_err
udp_new_ip_type
udp_recv
tcp_new_ip_type
sys_arch_protect
sys_arch_unprotect
sys_sem_valid
sys_sem_signal
tcp_write
tcp_output
tcp_close
tcp_accept
tcp_shutdown
tcp_abort
tcp_recved
ARM GAS  /tmp/cc0Mfu8z.s 			page 155


sys_mbox_new
sys_sem_new
sys_mbox_set_invalid
memp_free
sys_mbox_free
sys_sem_free
sys_sem_set_invalid
sys_arch_mbox_tryfetch
udp_remove
sys_mutex_unlock
sys_arch_sem_wait
sys_mutex_lock
lock_tcpip_core
udp_bind
tcp_bind
udp_connect
tcp_connect
udp_disconnect
tcp_listen_with_backlog_and_err
udp_send
udp_sendto
