ARM GAS  /tmp/ccza2cSo.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"tcpip.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.rodata.tcpip_thread.str1.4,"aMS",%progbits,1
  18              		.align	2
  19              	.LC0:
  20 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/api/tcpip.c\000"
  20      6C657761 
  20      7265732F 
  20      54686972 
  20      645F5061 
  21 002d 000000   		.align	2
  22              	.LC1:
  23 0030 74637069 		.ascii	"tcpip_thread: invalid message\000"
  23      705F7468 
  23      72656164 
  23      3A20696E 
  23      76616C69 
  24 004e 0000     		.align	2
  25              	.LC2:
  26 0050 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
  26      7274696F 
  26      6E202225 
  26      73222066 
  26      61696C65 
  27              		.section	.text.tcpip_thread,"ax",%progbits
  28              		.align	1
  29              		.syntax unified
  30              		.thumb
  31              		.thumb_func
  33              	tcpip_thread:
  34              	.LVL0:
  35              	.LFB102:
  36              		.file 1 "Middlewares/Third_Party/LwIP/src/api/tcpip.c"
   1:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** /**
   2:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * Sequential API Main thread module
   4:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  *
   5:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  */
   6:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
   7:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** /*
   8:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
   9:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * All rights reserved.
  10:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  *
ARM GAS  /tmp/ccza2cSo.s 			page 2


  11:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * Redistribution and use in source and binary forms, with or without modification,
  12:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * are permitted provided that the following conditions are met:
  13:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  *
  14:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  15:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  *    this list of conditions and the following disclaimer.
  16:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  17:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  *    this list of conditions and the following disclaimer in the documentation
  18:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  *    and/or other materials provided with the distribution.
  19:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * 3. The name of the author may not be used to endorse or promote products
  20:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  *    derived from this software without specific prior written permission.
  21:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  *
  22:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  23:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  24:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  25:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  26:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  27:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  28:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  29:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  30:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  31:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * OF SUCH DAMAGE.
  32:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  *
  33:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * This file is part of the lwIP TCP/IP stack.
  34:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  *
  35:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * Author: Adam Dunkels <adam@sics.se>
  36:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  *
  37:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  */
  38:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
  39:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #include "lwip/opt.h"
  40:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
  41:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #if !NO_SYS /* don't build if not configured for use in lwipopts.h */
  42:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
  43:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #include "lwip/priv/tcpip_priv.h"
  44:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #include "lwip/sys.h"
  45:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #include "lwip/memp.h"
  46:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #include "lwip/mem.h"
  47:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #include "lwip/init.h"
  48:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #include "lwip/ip.h"
  49:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #include "lwip/pbuf.h"
  50:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #include "lwip/etharp.h"
  51:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #include "netif/ethernet.h"
  52:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
  53:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #define TCPIP_MSG_VAR_REF(name)     API_VAR_REF(name)
  54:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #define TCPIP_MSG_VAR_DECLARE(name) API_VAR_DECLARE(struct tcpip_msg, name)
  55:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #define TCPIP_MSG_VAR_ALLOC(name)   API_VAR_ALLOC(struct tcpip_msg, MEMP_TCPIP_MSG_API, name, ERR_M
  56:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #define TCPIP_MSG_VAR_FREE(name)    API_VAR_FREE(MEMP_TCPIP_MSG_API, name)
  57:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
  58:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** /* global variables */
  59:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** static tcpip_init_done_fn tcpip_init_done;
  60:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** static void *tcpip_init_done_arg;
  61:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** static sys_mbox_t mbox;
  62:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
  63:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #if LWIP_TCPIP_CORE_LOCKING
  64:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** /** The global semaphore to lock the stack. */
  65:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** sys_mutex_t lock_tcpip_core;
  66:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
  67:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
ARM GAS  /tmp/ccza2cSo.s 			page 3


  68:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #if LWIP_TIMERS
  69:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** /* wait for a message, timeouts are processed while waiting */
  70:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #define TCPIP_MBOX_FETCH(mbox, msg) sys_timeouts_mbox_fetch(mbox, msg)
  71:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #else /* LWIP_TIMERS */
  72:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** /* wait for a message with timers disabled (e.g. pass a timer-check trigger into tcpip_thread) */
  73:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #define TCPIP_MBOX_FETCH(mbox, msg) sys_mbox_fetch(mbox, msg)
  74:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #endif /* LWIP_TIMERS */
  75:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
  76:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** /**
  77:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * The main lwIP thread. This thread has exclusive access to lwIP core functions
  78:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * (unless access to them is not locked). Other threads communicate with this
  79:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * thread using message boxes.
  80:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  *
  81:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * It also starts all the timers to make sure they are running in the right
  82:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * thread context.
  83:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  *
  84:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @param arg unused argument
  85:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  */
  86:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** static void
  87:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** tcpip_thread(void *arg)
  88:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** {
  37              		.loc 1 88 1 view -0
  38              		.cfi_startproc
  39              		@ Volatile: function does not return.
  40              		@ args = 0, pretend = 0, frame = 8
  41              		@ frame_needed = 0, uses_anonymous_args = 0
  42              		.loc 1 88 1 is_stmt 0 view .LVU1
  43 0000 00B5     		push	{lr}
  44              	.LCFI0:
  45              		.cfi_def_cfa_offset 4
  46              		.cfi_offset 14, -4
  47 0002 83B0     		sub	sp, sp, #12
  48              	.LCFI1:
  49              		.cfi_def_cfa_offset 16
  89:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   struct tcpip_msg *msg;
  50              		.loc 1 89 3 is_stmt 1 view .LVU2
  90:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   LWIP_UNUSED_ARG(arg);
  51              		.loc 1 90 3 view .LVU3
  91:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
  92:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   if (tcpip_init_done != NULL) {
  52              		.loc 1 92 3 view .LVU4
  53              		.loc 1 92 23 is_stmt 0 view .LVU5
  54 0004 204B     		ldr	r3, .L12
  55 0006 1B68     		ldr	r3, [r3]
  56              		.loc 1 92 6 view .LVU6
  57 0008 13B1     		cbz	r3, .L2
  93:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     tcpip_init_done(tcpip_init_done_arg);
  58              		.loc 1 93 5 is_stmt 1 view .LVU7
  59 000a 204A     		ldr	r2, .L12+4
  60 000c 1068     		ldr	r0, [r2]
  61              	.LVL1:
  62              		.loc 1 93 5 is_stmt 0 view .LVU8
  63 000e 9847     		blx	r3
  64              	.LVL2:
  65              	.L2:
  94:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   }
  95:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
ARM GAS  /tmp/ccza2cSo.s 			page 4


  96:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   LOCK_TCPIP_CORE();
  66              		.loc 1 96 3 is_stmt 1 view .LVU9
  67 0010 1F48     		ldr	r0, .L12+8
  68 0012 FFF7FEFF 		bl	sys_mutex_lock
  69              	.LVL3:
  70 0016 05E0     		b	.L3
  71              	.L10:
  97:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   while (1) {                          /* MAIN Loop */
  98:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     UNLOCK_TCPIP_CORE();
  99:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     LWIP_TCPIP_THREAD_ALIVE();
 100:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     /* wait for a message, timeouts are processed while waiting */
 101:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     TCPIP_MBOX_FETCH(&mbox, (void **)&msg);
 102:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     LOCK_TCPIP_CORE();
 103:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     if (msg == NULL) {
 104:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       LWIP_DEBUGF(TCPIP_DEBUG, ("tcpip_thread: invalid message: NULL\n"));
  72              		.loc 1 104 74 discriminator 1 view .LVU10
 105:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       LWIP_ASSERT("tcpip_thread: invalid message", 0);
  73              		.loc 1 105 7 discriminator 1 view .LVU11
  74              		.loc 1 105 7 discriminator 1 view .LVU12
  75              		.loc 1 105 7 discriminator 1 view .LVU13
  76              		.loc 1 105 7 discriminator 1 view .LVU14
  77 0018 1E4B     		ldr	r3, .L12+12
  78 001a 6922     		movs	r2, #105
  79 001c 1E49     		ldr	r1, .L12+16
  80 001e 1F48     		ldr	r0, .L12+20
  81 0020 FFF7FEFF 		bl	printf
  82              	.LVL4:
  83              		.loc 1 105 7 discriminator 1 view .LVU15
  84              		.loc 1 105 7 discriminator 1 view .LVU16
 106:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       continue;
  85              		.loc 1 106 7 discriminator 1 view .LVU17
  86              	.L3:
  97:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   while (1) {                          /* MAIN Loop */
  87              		.loc 1 97 3 view .LVU18
  98:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     LWIP_TCPIP_THREAD_ALIVE();
  88              		.loc 1 98 5 view .LVU19
  89 0024 1A4C     		ldr	r4, .L12+8
  90 0026 2046     		mov	r0, r4
  91 0028 FFF7FEFF 		bl	sys_mutex_unlock
  92              	.LVL5:
  99:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     /* wait for a message, timeouts are processed while waiting */
  93              		.loc 1 99 30 view .LVU20
 101:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     LOCK_TCPIP_CORE();
  94              		.loc 1 101 5 view .LVU21
  95 002c 01A9     		add	r1, sp, #4
  96 002e 1C48     		ldr	r0, .L12+24
  97 0030 FFF7FEFF 		bl	sys_timeouts_mbox_fetch
  98              	.LVL6:
 102:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     if (msg == NULL) {
  99              		.loc 1 102 5 view .LVU22
 100 0034 2046     		mov	r0, r4
 101 0036 FFF7FEFF 		bl	sys_mutex_lock
 102              	.LVL7:
 103:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       LWIP_DEBUGF(TCPIP_DEBUG, ("tcpip_thread: invalid message: NULL\n"));
 103              		.loc 1 103 5 view .LVU23
 103:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       LWIP_DEBUGF(TCPIP_DEBUG, ("tcpip_thread: invalid message: NULL\n"));
 104              		.loc 1 103 13 is_stmt 0 view .LVU24
ARM GAS  /tmp/ccza2cSo.s 			page 5


 105 003a 019B     		ldr	r3, [sp, #4]
 103:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       LWIP_DEBUGF(TCPIP_DEBUG, ("tcpip_thread: invalid message: NULL\n"));
 106              		.loc 1 103 8 view .LVU25
 107 003c 002B     		cmp	r3, #0
 108 003e EBD0     		beq	.L10
 107:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     }
 108:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     switch (msg->type) {
 109              		.loc 1 108 5 is_stmt 1 view .LVU26
 110              		.loc 1 108 16 is_stmt 0 view .LVU27
 111 0040 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 112              		.loc 1 108 5 view .LVU28
 113 0042 032A     		cmp	r2, #3
 114 0044 13D0     		beq	.L6
 115 0046 042A     		cmp	r2, #4
 116 0048 19D0     		beq	.L7
 117 004a 022A     		cmp	r2, #2
 118 004c 06D0     		beq	.L11
 109:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #if !LWIP_TCPIP_CORE_LOCKING
 110:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     case TCPIP_MSG_API:
 111:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       LWIP_DEBUGF(TCPIP_DEBUG, ("tcpip_thread: API message %p\n", (void *)msg));
 112:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       msg->msg.api_msg.function(msg->msg.api_msg.msg);
 113:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       break;
 114:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     case TCPIP_MSG_API_CALL:
 115:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       LWIP_DEBUGF(TCPIP_DEBUG, ("tcpip_thread: API CALL message %p\n", (void *)msg));
 116:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       msg->msg.api_call.arg->err = msg->msg.api_call.function(msg->msg.api_call.arg);
 117:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       sys_sem_signal(msg->msg.api_call.sem);
 118:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       break;
 119:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #endif /* !LWIP_TCPIP_CORE_LOCKING */
 120:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 121:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #if !LWIP_TCPIP_CORE_LOCKING_INPUT
 122:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     case TCPIP_MSG_INPKT:
 123:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       LWIP_DEBUGF(TCPIP_DEBUG, ("tcpip_thread: PACKET %p\n", (void *)msg));
 124:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       msg->msg.inp.input_fn(msg->msg.inp.p, msg->msg.inp.netif);
 125:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       memp_free(MEMP_TCPIP_MSG_INPKT, msg);
 126:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       break;
 127:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #endif /* !LWIP_TCPIP_CORE_LOCKING_INPUT */
 128:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 129:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #if LWIP_TCPIP_TIMEOUT && LWIP_TIMERS
 130:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     case TCPIP_MSG_TIMEOUT:
 131:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       LWIP_DEBUGF(TCPIP_DEBUG, ("tcpip_thread: TIMEOUT %p\n", (void *)msg));
 132:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       sys_timeout(msg->msg.tmo.msecs, msg->msg.tmo.h, msg->msg.tmo.arg);
 133:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       memp_free(MEMP_TCPIP_MSG_API, msg);
 134:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       break;
 135:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     case TCPIP_MSG_UNTIMEOUT:
 136:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       LWIP_DEBUGF(TCPIP_DEBUG, ("tcpip_thread: UNTIMEOUT %p\n", (void *)msg));
 137:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       sys_untimeout(msg->msg.tmo.h, msg->msg.tmo.arg);
 138:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       memp_free(MEMP_TCPIP_MSG_API, msg);
 139:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       break;
 140:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #endif /* LWIP_TCPIP_TIMEOUT && LWIP_TIMERS */
 141:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 142:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     case TCPIP_MSG_CALLBACK:
 143:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       LWIP_DEBUGF(TCPIP_DEBUG, ("tcpip_thread: CALLBACK %p\n", (void *)msg));
 144:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       msg->msg.cb.function(msg->msg.cb.ctx);
 145:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       memp_free(MEMP_TCPIP_MSG_API, msg);
 146:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       break;
 147:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 148:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     case TCPIP_MSG_CALLBACK_STATIC:
ARM GAS  /tmp/ccza2cSo.s 			page 6


 149:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       LWIP_DEBUGF(TCPIP_DEBUG, ("tcpip_thread: CALLBACK_STATIC %p\n", (void *)msg));
 150:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       msg->msg.cb.function(msg->msg.cb.ctx);
 151:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       break;
 152:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 153:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     default:
 154:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       LWIP_DEBUGF(TCPIP_DEBUG, ("tcpip_thread: invalid message: %d\n", msg->type));
 119              		.loc 1 154 83 is_stmt 1 discriminator 1 view .LVU29
 155:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       LWIP_ASSERT("tcpip_thread: invalid message", 0);
 120              		.loc 1 155 7 discriminator 1 view .LVU30
 121              		.loc 1 155 7 discriminator 1 view .LVU31
 122              		.loc 1 155 7 discriminator 1 view .LVU32
 123              		.loc 1 155 7 discriminator 1 view .LVU33
 124 004e 114B     		ldr	r3, .L12+12
 125 0050 9B22     		movs	r2, #155
 126 0052 1149     		ldr	r1, .L12+16
 127 0054 1148     		ldr	r0, .L12+20
 128 0056 FFF7FEFF 		bl	printf
 129              	.LVL8:
 130              		.loc 1 155 7 discriminator 1 view .LVU34
 131              		.loc 1 155 7 discriminator 1 view .LVU35
 156:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       break;
 132              		.loc 1 156 7 discriminator 1 view .LVU36
 133 005a E3E7     		b	.L3
 134              	.L11:
 123:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       msg->msg.inp.input_fn(msg->msg.inp.p, msg->msg.inp.netif);
 135              		.loc 1 123 75 view .LVU37
 124:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       memp_free(MEMP_TCPIP_MSG_INPKT, msg);
 136              		.loc 1 124 7 view .LVU38
 124:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       memp_free(MEMP_TCPIP_MSG_INPKT, msg);
 137              		.loc 1 124 19 is_stmt 0 view .LVU39
 138 005c DA68     		ldr	r2, [r3, #12]
 124:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       memp_free(MEMP_TCPIP_MSG_INPKT, msg);
 139              		.loc 1 124 7 view .LVU40
 140 005e 9968     		ldr	r1, [r3, #8]
 141 0060 5868     		ldr	r0, [r3, #4]
 142 0062 9047     		blx	r2
 143              	.LVL9:
 125:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       break;
 144              		.loc 1 125 7 is_stmt 1 view .LVU41
 145 0064 0199     		ldr	r1, [sp, #4]
 146 0066 0920     		movs	r0, #9
 147 0068 FFF7FEFF 		bl	memp_free
 148              	.LVL10:
 126:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #endif /* !LWIP_TCPIP_CORE_LOCKING_INPUT */
 149              		.loc 1 126 7 view .LVU42
 150 006c DAE7     		b	.L3
 151              	.L6:
 143:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       msg->msg.cb.function(msg->msg.cb.ctx);
 152              		.loc 1 143 77 view .LVU43
 144:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       memp_free(MEMP_TCPIP_MSG_API, msg);
 153              		.loc 1 144 7 view .LVU44
 144:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       memp_free(MEMP_TCPIP_MSG_API, msg);
 154              		.loc 1 144 18 is_stmt 0 view .LVU45
 155 006e 5A68     		ldr	r2, [r3, #4]
 144:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       memp_free(MEMP_TCPIP_MSG_API, msg);
 156              		.loc 1 144 7 view .LVU46
 157 0070 9868     		ldr	r0, [r3, #8]
ARM GAS  /tmp/ccza2cSo.s 			page 7


 158 0072 9047     		blx	r2
 159              	.LVL11:
 145:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       break;
 160              		.loc 1 145 7 is_stmt 1 view .LVU47
 161 0074 0199     		ldr	r1, [sp, #4]
 162 0076 0820     		movs	r0, #8
 163 0078 FFF7FEFF 		bl	memp_free
 164              	.LVL12:
 146:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 165              		.loc 1 146 7 view .LVU48
 166 007c D2E7     		b	.L3
 167              	.L7:
 149:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       msg->msg.cb.function(msg->msg.cb.ctx);
 168              		.loc 1 149 84 view .LVU49
 150:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       break;
 169              		.loc 1 150 7 view .LVU50
 150:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       break;
 170              		.loc 1 150 18 is_stmt 0 view .LVU51
 171 007e 5A68     		ldr	r2, [r3, #4]
 150:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       break;
 172              		.loc 1 150 7 view .LVU52
 173 0080 9868     		ldr	r0, [r3, #8]
 174 0082 9047     		blx	r2
 175              	.LVL13:
 151:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 176              		.loc 1 151 7 is_stmt 1 view .LVU53
 177 0084 CEE7     		b	.L3
 178              	.L13:
 179 0086 00BF     		.align	2
 180              	.L12:
 181 0088 00000000 		.word	.LANCHOR0
 182 008c 00000000 		.word	.LANCHOR1
 183 0090 00000000 		.word	.LANCHOR2
 184 0094 00000000 		.word	.LC0
 185 0098 30000000 		.word	.LC1
 186 009c 50000000 		.word	.LC2
 187 00a0 00000000 		.word	.LANCHOR3
 188              		.cfi_endproc
 189              	.LFE102:
 191              		.section	.text.pbuf_free_int,"ax",%progbits
 192              		.align	1
 193              		.syntax unified
 194              		.thumb
 195              		.thumb_func
 197              	pbuf_free_int:
 198              	.LVL14:
 199              	.LFB112:
 157:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     }
 158:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   }
 159:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** }
 160:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 161:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** /**
 162:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * Pass a received packet to tcpip_thread for input processing
 163:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  *
 164:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @param p the received packet
 165:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @param inp the network interface on which the packet was received
 166:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @param input_fn input function to call
ARM GAS  /tmp/ccza2cSo.s 			page 8


 167:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  */
 168:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** err_t
 169:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** tcpip_inpkt(struct pbuf *p, struct netif *inp, netif_input_fn input_fn)
 170:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** {
 171:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #if LWIP_TCPIP_CORE_LOCKING_INPUT
 172:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   err_t ret;
 173:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   LWIP_DEBUGF(TCPIP_DEBUG, ("tcpip_inpkt: PACKET %p/%p\n", (void *)p, (void *)inp));
 174:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   LOCK_TCPIP_CORE();
 175:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   ret = input_fn(p, inp);
 176:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   UNLOCK_TCPIP_CORE();
 177:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   return ret;
 178:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #else /* LWIP_TCPIP_CORE_LOCKING_INPUT */
 179:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   struct tcpip_msg *msg;
 180:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 181:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   LWIP_ASSERT("Invalid mbox", sys_mbox_valid_val(mbox));
 182:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 183:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   msg = (struct tcpip_msg *)memp_malloc(MEMP_TCPIP_MSG_INPKT);
 184:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   if (msg == NULL) {
 185:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     return ERR_MEM;
 186:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   }
 187:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 188:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   msg->type = TCPIP_MSG_INPKT;
 189:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   msg->msg.inp.p = p;
 190:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   msg->msg.inp.netif = inp;
 191:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   msg->msg.inp.input_fn = input_fn;
 192:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   if (sys_mbox_trypost(&mbox, msg) != ERR_OK) {
 193:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     memp_free(MEMP_TCPIP_MSG_INPKT, msg);
 194:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     return ERR_MEM;
 195:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   }
 196:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   return ERR_OK;
 197:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #endif /* LWIP_TCPIP_CORE_LOCKING_INPUT */
 198:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** }
 199:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 200:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** /**
 201:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @ingroup lwip_os
 202:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * Pass a received packet to tcpip_thread for input processing with
 203:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * ethernet_input or ip_input. Don't call directly, pass to netif_add()
 204:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * and call netif->input().
 205:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  *
 206:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @param p the received packet, p->payload pointing to the Ethernet header or
 207:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  *          to an IP header (if inp doesn't have NETIF_FLAG_ETHARP or
 208:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  *          NETIF_FLAG_ETHERNET flags)
 209:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @param inp the network interface on which the packet was received
 210:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  */
 211:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** err_t
 212:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** tcpip_input(struct pbuf *p, struct netif *inp)
 213:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** {
 214:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #if LWIP_ETHERNET
 215:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   if (inp->flags & (NETIF_FLAG_ETHARP | NETIF_FLAG_ETHERNET)) {
 216:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     return tcpip_inpkt(p, inp, ethernet_input);
 217:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   } else
 218:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #endif /* LWIP_ETHERNET */
 219:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   return tcpip_inpkt(p, inp, ip_input);
 220:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** }
 221:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 222:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** /**
 223:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * Call a specific function in the thread context of
ARM GAS  /tmp/ccza2cSo.s 			page 9


 224:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * tcpip_thread for easy access synchronization.
 225:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * A function called in that way may access lwIP core code
 226:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * without fearing concurrent access.
 227:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  *
 228:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @param function the function to call
 229:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @param ctx parameter passed to f
 230:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @param block 1 to block until the request is posted, 0 to non-blocking mode
 231:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @return ERR_OK if the function was called, another err_t if not
 232:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  */
 233:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** err_t
 234:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** tcpip_callback_with_block(tcpip_callback_fn function, void *ctx, u8_t block)
 235:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** {
 236:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   struct tcpip_msg *msg;
 237:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 238:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   LWIP_ASSERT("Invalid mbox", sys_mbox_valid_val(mbox));
 239:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 240:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   msg = (struct tcpip_msg *)memp_malloc(MEMP_TCPIP_MSG_API);
 241:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   if (msg == NULL) {
 242:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     return ERR_MEM;
 243:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   }
 244:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 245:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   msg->type = TCPIP_MSG_CALLBACK;
 246:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   msg->msg.cb.function = function;
 247:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   msg->msg.cb.ctx = ctx;
 248:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   if (block) {
 249:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     sys_mbox_post(&mbox, msg);
 250:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   } else {
 251:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     if (sys_mbox_trypost(&mbox, msg) != ERR_OK) {
 252:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       memp_free(MEMP_TCPIP_MSG_API, msg);
 253:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       return ERR_MEM;
 254:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     }
 255:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   }
 256:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   return ERR_OK;
 257:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** }
 258:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 259:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #if LWIP_TCPIP_TIMEOUT && LWIP_TIMERS
 260:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** /**
 261:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * call sys_timeout in tcpip_thread
 262:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  *
 263:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @param msecs time in milliseconds for timeout
 264:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @param h function to be called on timeout
 265:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @param arg argument to pass to timeout function h
 266:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @return ERR_MEM on memory error, ERR_OK otherwise
 267:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  */
 268:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** err_t
 269:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** tcpip_timeout(u32_t msecs, sys_timeout_handler h, void *arg)
 270:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** {
 271:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   struct tcpip_msg *msg;
 272:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 273:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   LWIP_ASSERT("Invalid mbox", sys_mbox_valid_val(mbox));
 274:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 275:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   msg = (struct tcpip_msg *)memp_malloc(MEMP_TCPIP_MSG_API);
 276:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   if (msg == NULL) {
 277:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     return ERR_MEM;
 278:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   }
 279:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 280:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   msg->type = TCPIP_MSG_TIMEOUT;
ARM GAS  /tmp/ccza2cSo.s 			page 10


 281:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   msg->msg.tmo.msecs = msecs;
 282:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   msg->msg.tmo.h = h;
 283:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   msg->msg.tmo.arg = arg;
 284:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   sys_mbox_post(&mbox, msg);
 285:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   return ERR_OK;
 286:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** }
 287:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 288:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** /**
 289:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * call sys_untimeout in tcpip_thread
 290:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  *
 291:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @param h function to be called on timeout
 292:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @param arg argument to pass to timeout function h
 293:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @return ERR_MEM on memory error, ERR_OK otherwise
 294:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  */
 295:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** err_t
 296:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** tcpip_untimeout(sys_timeout_handler h, void *arg)
 297:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** {
 298:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   struct tcpip_msg *msg;
 299:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 300:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   LWIP_ASSERT("Invalid mbox", sys_mbox_valid_val(mbox));
 301:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 302:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   msg = (struct tcpip_msg *)memp_malloc(MEMP_TCPIP_MSG_API);
 303:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   if (msg == NULL) {
 304:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     return ERR_MEM;
 305:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   }
 306:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 307:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   msg->type = TCPIP_MSG_UNTIMEOUT;
 308:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   msg->msg.tmo.h = h;
 309:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   msg->msg.tmo.arg = arg;
 310:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   sys_mbox_post(&mbox, msg);
 311:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   return ERR_OK;
 312:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** }
 313:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #endif /* LWIP_TCPIP_TIMEOUT && LWIP_TIMERS */
 314:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 315:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 316:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** /**
 317:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * Sends a message to TCPIP thread to call a function. Caller thread blocks on
 318:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * on a provided semaphore, which ist NOT automatically signalled by TCPIP thread,
 319:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * this has to be done by the user.
 320:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * It is recommended to use LWIP_TCPIP_CORE_LOCKING since this is the way
 321:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * with least runtime overhead.
 322:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  *
 323:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @param fn function to be called from TCPIP thread
 324:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @param apimsg argument to API function
 325:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @param sem semaphore to wait on
 326:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @return ERR_OK if the function was called, another err_t if not
 327:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  */
 328:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** err_t
 329:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** tcpip_send_msg_wait_sem(tcpip_callback_fn fn, void *apimsg, sys_sem_t* sem)
 330:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** {
 331:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #if LWIP_TCPIP_CORE_LOCKING
 332:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   LWIP_UNUSED_ARG(sem);
 333:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   LOCK_TCPIP_CORE();
 334:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   fn(apimsg);
 335:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   UNLOCK_TCPIP_CORE();
 336:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   return ERR_OK;
 337:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
ARM GAS  /tmp/ccza2cSo.s 			page 11


 338:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   TCPIP_MSG_VAR_DECLARE(msg);
 339:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 340:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   LWIP_ASSERT("semaphore not initialized", sys_sem_valid(sem));
 341:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   LWIP_ASSERT("Invalid mbox", sys_mbox_valid_val(mbox));
 342:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 343:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   TCPIP_MSG_VAR_ALLOC(msg);
 344:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   TCPIP_MSG_VAR_REF(msg).type = TCPIP_MSG_API;
 345:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   TCPIP_MSG_VAR_REF(msg).msg.api_msg.function = fn;
 346:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   TCPIP_MSG_VAR_REF(msg).msg.api_msg.msg = apimsg;
 347:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   sys_mbox_post(&mbox, &TCPIP_MSG_VAR_REF(msg));
 348:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   sys_arch_sem_wait(sem, 0);
 349:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   TCPIP_MSG_VAR_FREE(msg);
 350:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   return ERR_OK;
 351:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 352:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** }
 353:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 354:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** /**
 355:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * Synchronously calls function in TCPIP thread and waits for its completion.
 356:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * It is recommended to use LWIP_TCPIP_CORE_LOCKING (preferred) or
 357:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * LWIP_NETCONN_SEM_PER_THREAD. 
 358:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * If not, a semaphore is created and destroyed on every call which is usually
 359:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * an expensive/slow operation.
 360:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @param fn Function to call
 361:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @param call Call parameters
 362:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @return Return value from tcpip_api_call_fn
 363:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  */
 364:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** err_t
 365:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** tcpip_api_call(tcpip_api_call_fn fn, struct tcpip_api_call_data *call)
 366:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** {
 367:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #if LWIP_TCPIP_CORE_LOCKING
 368:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   err_t err;
 369:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   LOCK_TCPIP_CORE();
 370:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   err = fn(call);
 371:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   UNLOCK_TCPIP_CORE();
 372:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   return err;
 373:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
 374:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   TCPIP_MSG_VAR_DECLARE(msg);
 375:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 376:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #if !LWIP_NETCONN_SEM_PER_THREAD
 377:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   err_t err = sys_sem_new(&call->sem, 0);
 378:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   if (err != ERR_OK) {
 379:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     return err;
 380:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   }
 381:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #endif /* LWIP_NETCONN_SEM_PER_THREAD */
 382:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 383:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   LWIP_ASSERT("Invalid mbox", sys_mbox_valid_val(mbox));
 384:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 385:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   TCPIP_MSG_VAR_ALLOC(msg);
 386:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   TCPIP_MSG_VAR_REF(msg).type = TCPIP_MSG_API_CALL;
 387:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   TCPIP_MSG_VAR_REF(msg).msg.api_call.arg = call;
 388:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   TCPIP_MSG_VAR_REF(msg).msg.api_call.function = fn;
 389:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #if LWIP_NETCONN_SEM_PER_THREAD
 390:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   TCPIP_MSG_VAR_REF(msg).msg.api_call.sem = LWIP_NETCONN_THREAD_SEM_GET();
 391:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #else /* LWIP_NETCONN_SEM_PER_THREAD */
 392:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   TCPIP_MSG_VAR_REF(msg).msg.api_call.sem = &call->sem;
 393:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #endif /* LWIP_NETCONN_SEM_PER_THREAD */
 394:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   sys_mbox_post(&mbox, &TCPIP_MSG_VAR_REF(msg));
ARM GAS  /tmp/ccza2cSo.s 			page 12


 395:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   sys_arch_sem_wait(TCPIP_MSG_VAR_REF(msg).msg.api_call.sem, 0);
 396:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   TCPIP_MSG_VAR_FREE(msg);
 397:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 398:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #if !LWIP_NETCONN_SEM_PER_THREAD
 399:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   sys_sem_free(&call->sem);
 400:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #endif /* LWIP_NETCONN_SEM_PER_THREAD */
 401:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 402:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   return call->err;
 403:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 404:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** }
 405:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 406:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** /**
 407:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * Allocate a structure for a static callback message and initialize it.
 408:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * This is intended to be used to send "static" messages from interrupt context.
 409:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  *
 410:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @param function the function to call
 411:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @param ctx parameter passed to function
 412:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @return a struct pointer to pass to tcpip_trycallback().
 413:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  */
 414:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** struct tcpip_callback_msg*
 415:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** tcpip_callbackmsg_new(tcpip_callback_fn function, void *ctx)
 416:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** {
 417:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   struct tcpip_msg *msg = (struct tcpip_msg *)memp_malloc(MEMP_TCPIP_MSG_API);
 418:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   if (msg == NULL) {
 419:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     return NULL;
 420:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   }
 421:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   msg->type = TCPIP_MSG_CALLBACK_STATIC;
 422:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   msg->msg.cb.function = function;
 423:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   msg->msg.cb.ctx = ctx;
 424:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   return (struct tcpip_callback_msg*)msg;
 425:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** }
 426:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 427:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** /**
 428:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * Free a callback message allocated by tcpip_callbackmsg_new().
 429:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  *
 430:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @param msg the message to free
 431:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  */
 432:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** void
 433:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** tcpip_callbackmsg_delete(struct tcpip_callback_msg* msg)
 434:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** {
 435:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   memp_free(MEMP_TCPIP_MSG_API, msg);
 436:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** }
 437:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 438:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** /**
 439:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * Try to post a callback-message to the tcpip_thread mbox
 440:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * This is intended to be used to send "static" messages from interrupt context.
 441:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  *
 442:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @param msg pointer to the message to post
 443:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @return sys_mbox_trypost() return code
 444:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  */
 445:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** err_t
 446:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** tcpip_trycallback(struct tcpip_callback_msg* msg)
 447:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** {
 448:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   LWIP_ASSERT("Invalid mbox", sys_mbox_valid_val(mbox));
 449:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   return sys_mbox_trypost(&mbox, msg);
 450:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** }
 451:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
ARM GAS  /tmp/ccza2cSo.s 			page 13


 452:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** /**
 453:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @ingroup lwip_os
 454:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * Initialize this module:
 455:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * - initialize all sub modules
 456:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * - start the tcpip_thread
 457:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  *
 458:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @param initfunc a function to call when tcpip_thread is running and finished initializing
 459:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @param arg argument to pass to initfunc
 460:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  */
 461:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** void
 462:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** tcpip_init(tcpip_init_done_fn initfunc, void *arg)
 463:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** {
 464:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   lwip_init();
 465:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 466:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   tcpip_init_done = initfunc;
 467:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   tcpip_init_done_arg = arg;
 468:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   if (sys_mbox_new(&mbox, TCPIP_MBOX_SIZE) != ERR_OK) {
 469:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     LWIP_ASSERT("failed to create tcpip_thread mbox", 0);
 470:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   }
 471:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #if LWIP_TCPIP_CORE_LOCKING
 472:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   if (sys_mutex_new(&lock_tcpip_core) != ERR_OK) {
 473:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     LWIP_ASSERT("failed to create lock_tcpip_core", 0);
 474:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   }
 475:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #endif /* LWIP_TCPIP_CORE_LOCKING */
 476:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 477:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   sys_thread_new(TCPIP_THREAD_NAME, tcpip_thread, NULL, TCPIP_THREAD_STACKSIZE, TCPIP_THREAD_PRIO);
 478:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** }
 479:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 480:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** /**
 481:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * Simple callback function used with tcpip_callback to free a pbuf
 482:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * (pbuf_free has a wrong signature for tcpip_callback)
 483:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  *
 484:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @param p The pbuf (chain) to be dereferenced.
 485:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  */
 486:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** static void
 487:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** pbuf_free_int(void *p)
 488:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** {
 200              		.loc 1 488 1 view -0
 201              		.cfi_startproc
 202              		@ args = 0, pretend = 0, frame = 0
 203              		@ frame_needed = 0, uses_anonymous_args = 0
 204              		.loc 1 488 1 is_stmt 0 view .LVU55
 205 0000 08B5     		push	{r3, lr}
 206              	.LCFI2:
 207              		.cfi_def_cfa_offset 8
 208              		.cfi_offset 3, -8
 209              		.cfi_offset 14, -4
 489:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   struct pbuf *q = (struct pbuf *)p;
 210              		.loc 1 489 3 is_stmt 1 view .LVU56
 211              	.LVL15:
 490:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   pbuf_free(q);
 212              		.loc 1 490 3 view .LVU57
 213 0002 FFF7FEFF 		bl	pbuf_free
 214              	.LVL16:
 491:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** }
 215              		.loc 1 491 1 is_stmt 0 view .LVU58
 216 0006 08BD     		pop	{r3, pc}
ARM GAS  /tmp/ccza2cSo.s 			page 14


 217              		.cfi_endproc
 218              	.LFE112:
 220              		.section	.rodata.tcpip_inpkt.str1.4,"aMS",%progbits,1
 221              		.align	2
 222              	.LC3:
 223 0000 496E7661 		.ascii	"Invalid mbox\000"
 223      6C696420 
 223      6D626F78 
 223      00
 224              		.section	.text.tcpip_inpkt,"ax",%progbits
 225              		.align	1
 226              		.global	tcpip_inpkt
 227              		.syntax unified
 228              		.thumb
 229              		.thumb_func
 231              	tcpip_inpkt:
 232              	.LVL17:
 233              	.LFB103:
 170:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #if LWIP_TCPIP_CORE_LOCKING_INPUT
 234              		.loc 1 170 1 is_stmt 1 view -0
 235              		.cfi_startproc
 236              		@ args = 0, pretend = 0, frame = 0
 237              		@ frame_needed = 0, uses_anonymous_args = 0
 170:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #if LWIP_TCPIP_CORE_LOCKING_INPUT
 238              		.loc 1 170 1 is_stmt 0 view .LVU60
 239 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 240              	.LCFI3:
 241              		.cfi_def_cfa_offset 24
 242              		.cfi_offset 3, -24
 243              		.cfi_offset 4, -20
 244              		.cfi_offset 5, -16
 245              		.cfi_offset 6, -12
 246              		.cfi_offset 7, -8
 247              		.cfi_offset 14, -4
 248 0002 0746     		mov	r7, r0
 249 0004 0E46     		mov	r6, r1
 250 0006 1546     		mov	r5, r2
 179:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 251              		.loc 1 179 3 is_stmt 1 view .LVU61
 181:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 252              		.loc 1 181 3 view .LVU62
 181:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 253              		.loc 1 181 3 view .LVU63
 254 0008 1248     		ldr	r0, .L23
 255              	.LVL18:
 181:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 256              		.loc 1 181 3 is_stmt 0 view .LVU64
 257 000a FFF7FEFF 		bl	sys_mbox_valid
 258              	.LVL19:
 181:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 259              		.loc 1 181 3 view .LVU65
 260 000e 78B1     		cbz	r0, .L21
 261              	.L17:
 181:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 262              		.loc 1 181 3 is_stmt 1 discriminator 3 view .LVU66
 181:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 263              		.loc 1 181 3 discriminator 3 view .LVU67
ARM GAS  /tmp/ccza2cSo.s 			page 15


 183:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   if (msg == NULL) {
 264              		.loc 1 183 3 discriminator 3 view .LVU68
 183:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   if (msg == NULL) {
 265              		.loc 1 183 29 is_stmt 0 discriminator 3 view .LVU69
 266 0010 0920     		movs	r0, #9
 267 0012 FFF7FEFF 		bl	memp_malloc
 268              	.LVL20:
 184:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     return ERR_MEM;
 269              		.loc 1 184 3 is_stmt 1 discriminator 3 view .LVU70
 184:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     return ERR_MEM;
 270              		.loc 1 184 6 is_stmt 0 discriminator 3 view .LVU71
 271 0016 0446     		mov	r4, r0
 272 0018 C0B1     		cbz	r0, .L19
 188:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   msg->msg.inp.p = p;
 273              		.loc 1 188 3 is_stmt 1 view .LVU72
 188:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   msg->msg.inp.p = p;
 274              		.loc 1 188 13 is_stmt 0 view .LVU73
 275 001a 0223     		movs	r3, #2
 276 001c 0370     		strb	r3, [r0]
 189:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   msg->msg.inp.netif = inp;
 277              		.loc 1 189 3 is_stmt 1 view .LVU74
 189:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   msg->msg.inp.netif = inp;
 278              		.loc 1 189 18 is_stmt 0 view .LVU75
 279 001e 4760     		str	r7, [r0, #4]
 190:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   msg->msg.inp.input_fn = input_fn;
 280              		.loc 1 190 3 is_stmt 1 view .LVU76
 190:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   msg->msg.inp.input_fn = input_fn;
 281              		.loc 1 190 22 is_stmt 0 view .LVU77
 282 0020 8660     		str	r6, [r0, #8]
 191:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   if (sys_mbox_trypost(&mbox, msg) != ERR_OK) {
 283              		.loc 1 191 3 is_stmt 1 view .LVU78
 191:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   if (sys_mbox_trypost(&mbox, msg) != ERR_OK) {
 284              		.loc 1 191 25 is_stmt 0 view .LVU79
 285 0022 C560     		str	r5, [r0, #12]
 192:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     memp_free(MEMP_TCPIP_MSG_INPKT, msg);
 286              		.loc 1 192 3 is_stmt 1 view .LVU80
 192:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     memp_free(MEMP_TCPIP_MSG_INPKT, msg);
 287              		.loc 1 192 7 is_stmt 0 view .LVU81
 288 0024 0146     		mov	r1, r0
 289 0026 0B48     		ldr	r0, .L23
 290              	.LVL21:
 192:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     memp_free(MEMP_TCPIP_MSG_INPKT, msg);
 291              		.loc 1 192 7 view .LVU82
 292 0028 FFF7FEFF 		bl	sys_mbox_trypost
 293              	.LVL22:
 192:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     memp_free(MEMP_TCPIP_MSG_INPKT, msg);
 294              		.loc 1 192 6 view .LVU83
 295 002c 38B9     		cbnz	r0, .L22
 296              	.L18:
 198:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 297              		.loc 1 198 1 view .LVU84
 298 002e F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 299              	.LVL23:
 300              	.L21:
 181:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 301              		.loc 1 181 3 is_stmt 1 discriminator 1 view .LVU85
 181:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
ARM GAS  /tmp/ccza2cSo.s 			page 16


 302              		.loc 1 181 3 discriminator 1 view .LVU86
 303 0030 094B     		ldr	r3, .L23+4
 304 0032 B522     		movs	r2, #181
 305 0034 0949     		ldr	r1, .L23+8
 306 0036 0A48     		ldr	r0, .L23+12
 307 0038 FFF7FEFF 		bl	printf
 308              	.LVL24:
 309 003c E8E7     		b	.L17
 310              	.LVL25:
 311              	.L22:
 193:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     return ERR_MEM;
 312              		.loc 1 193 5 view .LVU87
 313 003e 2146     		mov	r1, r4
 314 0040 0920     		movs	r0, #9
 315 0042 FFF7FEFF 		bl	memp_free
 316              	.LVL26:
 194:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   }
 317              		.loc 1 194 5 view .LVU88
 194:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   }
 318              		.loc 1 194 12 is_stmt 0 view .LVU89
 319 0046 4FF0FF30 		mov	r0, #-1
 320 004a F0E7     		b	.L18
 321              	.LVL27:
 322              	.L19:
 185:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   }
 323              		.loc 1 185 12 view .LVU90
 324 004c 4FF0FF30 		mov	r0, #-1
 325              	.LVL28:
 185:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   }
 326              		.loc 1 185 12 view .LVU91
 327 0050 EDE7     		b	.L18
 328              	.L24:
 329 0052 00BF     		.align	2
 330              	.L23:
 331 0054 00000000 		.word	.LANCHOR3
 332 0058 00000000 		.word	.LC0
 333 005c 00000000 		.word	.LC3
 334 0060 50000000 		.word	.LC2
 335              		.cfi_endproc
 336              	.LFE103:
 338              		.section	.text.tcpip_input,"ax",%progbits
 339              		.align	1
 340              		.global	tcpip_input
 341              		.syntax unified
 342              		.thumb
 343              		.thumb_func
 345              	tcpip_input:
 346              	.LVL29:
 347              	.LFB104:
 213:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #if LWIP_ETHERNET
 348              		.loc 1 213 1 is_stmt 1 view -0
 349              		.cfi_startproc
 350              		@ args = 0, pretend = 0, frame = 0
 351              		@ frame_needed = 0, uses_anonymous_args = 0
 213:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #if LWIP_ETHERNET
 352              		.loc 1 213 1 is_stmt 0 view .LVU93
 353 0000 08B5     		push	{r3, lr}
ARM GAS  /tmp/ccza2cSo.s 			page 17


 354              	.LCFI4:
 355              		.cfi_def_cfa_offset 8
 356              		.cfi_offset 3, -8
 357              		.cfi_offset 14, -4
 215:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     return tcpip_inpkt(p, inp, ethernet_input);
 358              		.loc 1 215 3 is_stmt 1 view .LVU94
 215:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     return tcpip_inpkt(p, inp, ethernet_input);
 359              		.loc 1 215 10 is_stmt 0 view .LVU95
 360 0002 91F82F30 		ldrb	r3, [r1, #47]	@ zero_extendqisi2
 215:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     return tcpip_inpkt(p, inp, ethernet_input);
 361              		.loc 1 215 6 view .LVU96
 362 0006 13F0180F 		tst	r3, #24
 363 000a 03D0     		beq	.L26
 216:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   } else
 364              		.loc 1 216 5 is_stmt 1 view .LVU97
 216:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   } else
 365              		.loc 1 216 12 is_stmt 0 view .LVU98
 366 000c 034A     		ldr	r2, .L29
 367 000e FFF7FEFF 		bl	tcpip_inpkt
 368              	.LVL30:
 369              	.L27:
 220:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 370              		.loc 1 220 1 view .LVU99
 371 0012 08BD     		pop	{r3, pc}
 372              	.LVL31:
 373              	.L26:
 219:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** }
 374              		.loc 1 219 3 is_stmt 1 view .LVU100
 219:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** }
 375              		.loc 1 219 10 is_stmt 0 view .LVU101
 376 0014 024A     		ldr	r2, .L29+4
 377 0016 FFF7FEFF 		bl	tcpip_inpkt
 378              	.LVL32:
 219:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** }
 379              		.loc 1 219 10 view .LVU102
 380 001a FAE7     		b	.L27
 381              	.L30:
 382              		.align	2
 383              	.L29:
 384 001c 00000000 		.word	ethernet_input
 385 0020 00000000 		.word	ip4_input
 386              		.cfi_endproc
 387              	.LFE104:
 389              		.section	.text.tcpip_callback_with_block,"ax",%progbits
 390              		.align	1
 391              		.global	tcpip_callback_with_block
 392              		.syntax unified
 393              		.thumb
 394              		.thumb_func
 396              	tcpip_callback_with_block:
 397              	.LVL33:
 398              	.LFB105:
 235:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   struct tcpip_msg *msg;
 399              		.loc 1 235 1 is_stmt 1 view -0
 400              		.cfi_startproc
 401              		@ args = 0, pretend = 0, frame = 0
 402              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccza2cSo.s 			page 18


 235:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   struct tcpip_msg *msg;
 403              		.loc 1 235 1 is_stmt 0 view .LVU104
 404 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 405              	.LCFI5:
 406              		.cfi_def_cfa_offset 24
 407              		.cfi_offset 3, -24
 408              		.cfi_offset 4, -20
 409              		.cfi_offset 5, -16
 410              		.cfi_offset 6, -12
 411              		.cfi_offset 7, -8
 412              		.cfi_offset 14, -4
 413 0002 0746     		mov	r7, r0
 414 0004 0E46     		mov	r6, r1
 415 0006 1546     		mov	r5, r2
 236:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 416              		.loc 1 236 3 is_stmt 1 view .LVU105
 238:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 417              		.loc 1 238 3 view .LVU106
 238:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 418              		.loc 1 238 3 view .LVU107
 419 0008 1548     		ldr	r0, .L38
 420              	.LVL34:
 238:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 421              		.loc 1 238 3 is_stmt 0 view .LVU108
 422 000a FFF7FEFF 		bl	sys_mbox_valid
 423              	.LVL35:
 238:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 424              		.loc 1 238 3 view .LVU109
 425 000e 78B1     		cbz	r0, .L37
 426              	.L32:
 238:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 427              		.loc 1 238 3 is_stmt 1 discriminator 3 view .LVU110
 238:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 428              		.loc 1 238 3 discriminator 3 view .LVU111
 240:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   if (msg == NULL) {
 429              		.loc 1 240 3 discriminator 3 view .LVU112
 240:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   if (msg == NULL) {
 430              		.loc 1 240 29 is_stmt 0 discriminator 3 view .LVU113
 431 0010 0820     		movs	r0, #8
 432 0012 FFF7FEFF 		bl	memp_malloc
 433              	.LVL36:
 241:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     return ERR_MEM;
 434              		.loc 1 241 3 is_stmt 1 discriminator 3 view .LVU114
 241:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     return ERR_MEM;
 435              		.loc 1 241 6 is_stmt 0 discriminator 3 view .LVU115
 436 0016 0446     		mov	r4, r0
 437 0018 F0B1     		cbz	r0, .L35
 245:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   msg->msg.cb.function = function;
 438              		.loc 1 245 3 is_stmt 1 view .LVU116
 245:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   msg->msg.cb.function = function;
 439              		.loc 1 245 13 is_stmt 0 view .LVU117
 440 001a 0323     		movs	r3, #3
 441 001c 0370     		strb	r3, [r0]
 246:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   msg->msg.cb.ctx = ctx;
 442              		.loc 1 246 3 is_stmt 1 view .LVU118
 246:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   msg->msg.cb.ctx = ctx;
 443              		.loc 1 246 24 is_stmt 0 view .LVU119
ARM GAS  /tmp/ccza2cSo.s 			page 19


 444 001e 4760     		str	r7, [r0, #4]
 247:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   if (block) {
 445              		.loc 1 247 3 is_stmt 1 view .LVU120
 247:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   if (block) {
 446              		.loc 1 247 19 is_stmt 0 view .LVU121
 447 0020 8660     		str	r6, [r0, #8]
 248:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     sys_mbox_post(&mbox, msg);
 448              		.loc 1 248 3 is_stmt 1 view .LVU122
 248:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     sys_mbox_post(&mbox, msg);
 449              		.loc 1 248 6 is_stmt 0 view .LVU123
 450 0022 65B1     		cbz	r5, .L34
 249:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   } else {
 451              		.loc 1 249 5 is_stmt 1 view .LVU124
 452 0024 0146     		mov	r1, r0
 453 0026 0E48     		ldr	r0, .L38
 454              	.LVL37:
 249:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   } else {
 455              		.loc 1 249 5 is_stmt 0 view .LVU125
 456 0028 FFF7FEFF 		bl	sys_mbox_post
 457              	.LVL38:
 256:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** }
 458              		.loc 1 256 10 view .LVU126
 459 002c 0020     		movs	r0, #0
 460              	.L33:
 257:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 461              		.loc 1 257 1 view .LVU127
 462 002e F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 463              	.LVL39:
 464              	.L37:
 238:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 465              		.loc 1 238 3 is_stmt 1 discriminator 1 view .LVU128
 238:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 466              		.loc 1 238 3 discriminator 1 view .LVU129
 467 0030 0C4B     		ldr	r3, .L38+4
 468 0032 EE22     		movs	r2, #238
 469 0034 0C49     		ldr	r1, .L38+8
 470 0036 0D48     		ldr	r0, .L38+12
 471 0038 FFF7FEFF 		bl	printf
 472              	.LVL40:
 473 003c E8E7     		b	.L32
 474              	.LVL41:
 475              	.L34:
 251:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       memp_free(MEMP_TCPIP_MSG_API, msg);
 476              		.loc 1 251 5 view .LVU130
 251:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       memp_free(MEMP_TCPIP_MSG_API, msg);
 477              		.loc 1 251 9 is_stmt 0 view .LVU131
 478 003e 0146     		mov	r1, r0
 479 0040 0748     		ldr	r0, .L38
 480              	.LVL42:
 251:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       memp_free(MEMP_TCPIP_MSG_API, msg);
 481              		.loc 1 251 9 view .LVU132
 482 0042 FFF7FEFF 		bl	sys_mbox_trypost
 483              	.LVL43:
 251:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       memp_free(MEMP_TCPIP_MSG_API, msg);
 484              		.loc 1 251 8 view .LVU133
 485 0046 0028     		cmp	r0, #0
 486 0048 F1D0     		beq	.L33
ARM GAS  /tmp/ccza2cSo.s 			page 20


 252:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****       return ERR_MEM;
 487              		.loc 1 252 7 is_stmt 1 view .LVU134
 488 004a 2146     		mov	r1, r4
 489 004c 0820     		movs	r0, #8
 490 004e FFF7FEFF 		bl	memp_free
 491              	.LVL44:
 253:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     }
 492              		.loc 1 253 7 view .LVU135
 253:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     }
 493              		.loc 1 253 14 is_stmt 0 view .LVU136
 494 0052 4FF0FF30 		mov	r0, #-1
 495 0056 EAE7     		b	.L33
 496              	.LVL45:
 497              	.L35:
 242:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   }
 498              		.loc 1 242 12 view .LVU137
 499 0058 4FF0FF30 		mov	r0, #-1
 500              	.LVL46:
 242:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   }
 501              		.loc 1 242 12 view .LVU138
 502 005c E7E7     		b	.L33
 503              	.L39:
 504 005e 00BF     		.align	2
 505              	.L38:
 506 0060 00000000 		.word	.LANCHOR3
 507 0064 00000000 		.word	.LC0
 508 0068 00000000 		.word	.LC3
 509 006c 50000000 		.word	.LC2
 510              		.cfi_endproc
 511              	.LFE105:
 513              		.section	.text.tcpip_send_msg_wait_sem,"ax",%progbits
 514              		.align	1
 515              		.global	tcpip_send_msg_wait_sem
 516              		.syntax unified
 517              		.thumb
 518              		.thumb_func
 520              	tcpip_send_msg_wait_sem:
 521              	.LVL47:
 522              	.LFB106:
 330:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #if LWIP_TCPIP_CORE_LOCKING
 523              		.loc 1 330 1 is_stmt 1 view -0
 524              		.cfi_startproc
 525              		@ args = 0, pretend = 0, frame = 0
 526              		@ frame_needed = 0, uses_anonymous_args = 0
 330:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #if LWIP_TCPIP_CORE_LOCKING
 527              		.loc 1 330 1 is_stmt 0 view .LVU140
 528 0000 70B5     		push	{r4, r5, r6, lr}
 529              	.LCFI6:
 530              		.cfi_def_cfa_offset 16
 531              		.cfi_offset 4, -16
 532              		.cfi_offset 5, -12
 533              		.cfi_offset 6, -8
 534              		.cfi_offset 14, -4
 535 0002 0446     		mov	r4, r0
 536 0004 0D46     		mov	r5, r1
 332:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   LOCK_TCPIP_CORE();
 537              		.loc 1 332 3 is_stmt 1 view .LVU141
ARM GAS  /tmp/ccza2cSo.s 			page 21


 333:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   fn(apimsg);
 538              		.loc 1 333 3 view .LVU142
 539 0006 054E     		ldr	r6, .L42
 540 0008 3046     		mov	r0, r6
 541              	.LVL48:
 333:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   fn(apimsg);
 542              		.loc 1 333 3 is_stmt 0 view .LVU143
 543 000a FFF7FEFF 		bl	sys_mutex_lock
 544              	.LVL49:
 334:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   UNLOCK_TCPIP_CORE();
 545              		.loc 1 334 3 is_stmt 1 view .LVU144
 546 000e 2846     		mov	r0, r5
 547 0010 A047     		blx	r4
 548              	.LVL50:
 335:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   return ERR_OK;
 549              		.loc 1 335 3 view .LVU145
 550 0012 3046     		mov	r0, r6
 551 0014 FFF7FEFF 		bl	sys_mutex_unlock
 552              	.LVL51:
 336:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
 553              		.loc 1 336 3 view .LVU146
 352:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 554              		.loc 1 352 1 is_stmt 0 view .LVU147
 555 0018 0020     		movs	r0, #0
 556 001a 70BD     		pop	{r4, r5, r6, pc}
 557              	.LVL52:
 558              	.L43:
 352:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 559              		.loc 1 352 1 view .LVU148
 560              		.align	2
 561              	.L42:
 562 001c 00000000 		.word	.LANCHOR2
 563              		.cfi_endproc
 564              	.LFE106:
 566              		.section	.text.tcpip_api_call,"ax",%progbits
 567              		.align	1
 568              		.global	tcpip_api_call
 569              		.syntax unified
 570              		.thumb
 571              		.thumb_func
 573              	tcpip_api_call:
 574              	.LVL53:
 575              	.LFB107:
 366:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #if LWIP_TCPIP_CORE_LOCKING
 576              		.loc 1 366 1 is_stmt 1 view -0
 577              		.cfi_startproc
 578              		@ args = 0, pretend = 0, frame = 0
 579              		@ frame_needed = 0, uses_anonymous_args = 0
 366:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #if LWIP_TCPIP_CORE_LOCKING
 580              		.loc 1 366 1 is_stmt 0 view .LVU150
 581 0000 70B5     		push	{r4, r5, r6, lr}
 582              	.LCFI7:
 583              		.cfi_def_cfa_offset 16
 584              		.cfi_offset 4, -16
 585              		.cfi_offset 5, -12
 586              		.cfi_offset 6, -8
 587              		.cfi_offset 14, -4
ARM GAS  /tmp/ccza2cSo.s 			page 22


 588 0002 0446     		mov	r4, r0
 589 0004 0D46     		mov	r5, r1
 368:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   LOCK_TCPIP_CORE();
 590              		.loc 1 368 3 is_stmt 1 view .LVU151
 369:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   err = fn(call);
 591              		.loc 1 369 3 view .LVU152
 592 0006 064E     		ldr	r6, .L46
 593 0008 3046     		mov	r0, r6
 594              	.LVL54:
 369:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   err = fn(call);
 595              		.loc 1 369 3 is_stmt 0 view .LVU153
 596 000a FFF7FEFF 		bl	sys_mutex_lock
 597              	.LVL55:
 370:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   UNLOCK_TCPIP_CORE();
 598              		.loc 1 370 3 is_stmt 1 view .LVU154
 370:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   UNLOCK_TCPIP_CORE();
 599              		.loc 1 370 9 is_stmt 0 view .LVU155
 600 000e 2846     		mov	r0, r5
 601 0010 A047     		blx	r4
 602              	.LVL56:
 603 0012 0446     		mov	r4, r0
 604              	.LVL57:
 371:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   return err;
 605              		.loc 1 371 3 is_stmt 1 view .LVU156
 606 0014 3046     		mov	r0, r6
 607 0016 FFF7FEFF 		bl	sys_mutex_unlock
 608              	.LVL58:
 372:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** #else /* LWIP_TCPIP_CORE_LOCKING */
 609              		.loc 1 372 3 view .LVU157
 404:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 610              		.loc 1 404 1 is_stmt 0 view .LVU158
 611 001a 2046     		mov	r0, r4
 612 001c 70BD     		pop	{r4, r5, r6, pc}
 613              	.LVL59:
 614              	.L47:
 404:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 615              		.loc 1 404 1 view .LVU159
 616 001e 00BF     		.align	2
 617              	.L46:
 618 0020 00000000 		.word	.LANCHOR2
 619              		.cfi_endproc
 620              	.LFE107:
 622              		.section	.text.tcpip_callbackmsg_new,"ax",%progbits
 623              		.align	1
 624              		.global	tcpip_callbackmsg_new
 625              		.syntax unified
 626              		.thumb
 627              		.thumb_func
 629              	tcpip_callbackmsg_new:
 630              	.LVL60:
 631              	.LFB108:
 416:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   struct tcpip_msg *msg = (struct tcpip_msg *)memp_malloc(MEMP_TCPIP_MSG_API);
 632              		.loc 1 416 1 is_stmt 1 view -0
 633              		.cfi_startproc
 634              		@ args = 0, pretend = 0, frame = 0
 635              		@ frame_needed = 0, uses_anonymous_args = 0
 416:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   struct tcpip_msg *msg = (struct tcpip_msg *)memp_malloc(MEMP_TCPIP_MSG_API);
ARM GAS  /tmp/ccza2cSo.s 			page 23


 636              		.loc 1 416 1 is_stmt 0 view .LVU161
 637 0000 38B5     		push	{r3, r4, r5, lr}
 638              	.LCFI8:
 639              		.cfi_def_cfa_offset 16
 640              		.cfi_offset 3, -16
 641              		.cfi_offset 4, -12
 642              		.cfi_offset 5, -8
 643              		.cfi_offset 14, -4
 644 0002 0546     		mov	r5, r0
 645 0004 0C46     		mov	r4, r1
 417:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   if (msg == NULL) {
 646              		.loc 1 417 3 is_stmt 1 view .LVU162
 417:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   if (msg == NULL) {
 647              		.loc 1 417 47 is_stmt 0 view .LVU163
 648 0006 0820     		movs	r0, #8
 649              	.LVL61:
 417:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   if (msg == NULL) {
 650              		.loc 1 417 47 view .LVU164
 651 0008 FFF7FEFF 		bl	memp_malloc
 652              	.LVL62:
 418:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     return NULL;
 653              		.loc 1 418 3 is_stmt 1 view .LVU165
 418:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     return NULL;
 654              		.loc 1 418 6 is_stmt 0 view .LVU166
 655 000c 0346     		mov	r3, r0
 656 000e 18B1     		cbz	r0, .L48
 421:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   msg->msg.cb.function = function;
 657              		.loc 1 421 3 is_stmt 1 view .LVU167
 421:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   msg->msg.cb.function = function;
 658              		.loc 1 421 13 is_stmt 0 view .LVU168
 659 0010 0422     		movs	r2, #4
 660 0012 0270     		strb	r2, [r0]
 422:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   msg->msg.cb.ctx = ctx;
 661              		.loc 1 422 3 is_stmt 1 view .LVU169
 422:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   msg->msg.cb.ctx = ctx;
 662              		.loc 1 422 24 is_stmt 0 view .LVU170
 663 0014 4560     		str	r5, [r0, #4]
 423:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   return (struct tcpip_callback_msg*)msg;
 664              		.loc 1 423 3 is_stmt 1 view .LVU171
 423:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   return (struct tcpip_callback_msg*)msg;
 665              		.loc 1 423 19 is_stmt 0 view .LVU172
 666 0016 8460     		str	r4, [r0, #8]
 424:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** }
 667              		.loc 1 424 3 is_stmt 1 view .LVU173
 668              	.L48:
 425:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 669              		.loc 1 425 1 is_stmt 0 view .LVU174
 670 0018 1846     		mov	r0, r3
 671              	.LVL63:
 425:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 672              		.loc 1 425 1 view .LVU175
 673 001a 38BD     		pop	{r3, r4, r5, pc}
 425:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 674              		.loc 1 425 1 view .LVU176
 675              		.cfi_endproc
 676              	.LFE108:
 678              		.section	.text.tcpip_callbackmsg_delete,"ax",%progbits
ARM GAS  /tmp/ccza2cSo.s 			page 24


 679              		.align	1
 680              		.global	tcpip_callbackmsg_delete
 681              		.syntax unified
 682              		.thumb
 683              		.thumb_func
 685              	tcpip_callbackmsg_delete:
 686              	.LVL64:
 687              	.LFB109:
 434:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   memp_free(MEMP_TCPIP_MSG_API, msg);
 688              		.loc 1 434 1 is_stmt 1 view -0
 689              		.cfi_startproc
 690              		@ args = 0, pretend = 0, frame = 0
 691              		@ frame_needed = 0, uses_anonymous_args = 0
 434:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   memp_free(MEMP_TCPIP_MSG_API, msg);
 692              		.loc 1 434 1 is_stmt 0 view .LVU178
 693 0000 08B5     		push	{r3, lr}
 694              	.LCFI9:
 695              		.cfi_def_cfa_offset 8
 696              		.cfi_offset 3, -8
 697              		.cfi_offset 14, -4
 698 0002 0146     		mov	r1, r0
 435:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** }
 699              		.loc 1 435 3 is_stmt 1 view .LVU179
 700 0004 0820     		movs	r0, #8
 701              	.LVL65:
 435:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** }
 702              		.loc 1 435 3 is_stmt 0 view .LVU180
 703 0006 FFF7FEFF 		bl	memp_free
 704              	.LVL66:
 436:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 705              		.loc 1 436 1 view .LVU181
 706 000a 08BD     		pop	{r3, pc}
 707              		.cfi_endproc
 708              	.LFE109:
 710              		.section	.text.tcpip_trycallback,"ax",%progbits
 711              		.align	1
 712              		.global	tcpip_trycallback
 713              		.syntax unified
 714              		.thumb
 715              		.thumb_func
 717              	tcpip_trycallback:
 718              	.LVL67:
 719              	.LFB110:
 447:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   LWIP_ASSERT("Invalid mbox", sys_mbox_valid_val(mbox));
 720              		.loc 1 447 1 is_stmt 1 view -0
 721              		.cfi_startproc
 722              		@ args = 0, pretend = 0, frame = 0
 723              		@ frame_needed = 0, uses_anonymous_args = 0
 447:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   LWIP_ASSERT("Invalid mbox", sys_mbox_valid_val(mbox));
 724              		.loc 1 447 1 is_stmt 0 view .LVU183
 725 0000 10B5     		push	{r4, lr}
 726              	.LCFI10:
 727              		.cfi_def_cfa_offset 8
 728              		.cfi_offset 4, -8
 729              		.cfi_offset 14, -4
 730 0002 0446     		mov	r4, r0
 448:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   return sys_mbox_trypost(&mbox, msg);
ARM GAS  /tmp/ccza2cSo.s 			page 25


 731              		.loc 1 448 3 is_stmt 1 view .LVU184
 448:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   return sys_mbox_trypost(&mbox, msg);
 732              		.loc 1 448 3 view .LVU185
 733 0004 0848     		ldr	r0, .L57
 734              	.LVL68:
 448:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   return sys_mbox_trypost(&mbox, msg);
 735              		.loc 1 448 3 is_stmt 0 view .LVU186
 736 0006 FFF7FEFF 		bl	sys_mbox_valid
 737              	.LVL69:
 738 000a 20B1     		cbz	r0, .L56
 739              	.L54:
 448:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   return sys_mbox_trypost(&mbox, msg);
 740              		.loc 1 448 3 is_stmt 1 discriminator 3 view .LVU187
 448:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   return sys_mbox_trypost(&mbox, msg);
 741              		.loc 1 448 3 discriminator 3 view .LVU188
 449:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** }
 742              		.loc 1 449 3 discriminator 3 view .LVU189
 449:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** }
 743              		.loc 1 449 10 is_stmt 0 discriminator 3 view .LVU190
 744 000c 2146     		mov	r1, r4
 745 000e 0648     		ldr	r0, .L57
 746 0010 FFF7FEFF 		bl	sys_mbox_trypost
 747              	.LVL70:
 450:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 748              		.loc 1 450 1 discriminator 3 view .LVU191
 749 0014 10BD     		pop	{r4, pc}
 750              	.LVL71:
 751              	.L56:
 448:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   return sys_mbox_trypost(&mbox, msg);
 752              		.loc 1 448 3 is_stmt 1 discriminator 1 view .LVU192
 448:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   return sys_mbox_trypost(&mbox, msg);
 753              		.loc 1 448 3 discriminator 1 view .LVU193
 754 0016 054B     		ldr	r3, .L57+4
 755 0018 4FF4E072 		mov	r2, #448
 756 001c 0449     		ldr	r1, .L57+8
 757 001e 0548     		ldr	r0, .L57+12
 758 0020 FFF7FEFF 		bl	printf
 759              	.LVL72:
 760 0024 F2E7     		b	.L54
 761              	.L58:
 762 0026 00BF     		.align	2
 763              	.L57:
 764 0028 00000000 		.word	.LANCHOR3
 765 002c 00000000 		.word	.LC0
 766 0030 00000000 		.word	.LC3
 767 0034 50000000 		.word	.LC2
 768              		.cfi_endproc
 769              	.LFE110:
 771              		.section	.rodata.tcpip_init.str1.4,"aMS",%progbits,1
 772              		.align	2
 773              	.LC4:
 774 0000 6661696C 		.ascii	"failed to create tcpip_thread mbox\000"
 774      65642074 
 774      6F206372 
 774      65617465 
 774      20746370 
 775 0023 00       		.align	2
ARM GAS  /tmp/ccza2cSo.s 			page 26


 776              	.LC5:
 777 0024 6661696C 		.ascii	"failed to create lock_tcpip_core\000"
 777      65642074 
 777      6F206372 
 777      65617465 
 777      206C6F63 
 778 0045 000000   		.align	2
 779              	.LC6:
 780 0048 74637069 		.ascii	"tcpip_thread\000"
 780      705F7468 
 780      72656164 
 780      00
 781              		.section	.text.tcpip_init,"ax",%progbits
 782              		.align	1
 783              		.global	tcpip_init
 784              		.syntax unified
 785              		.thumb
 786              		.thumb_func
 788              	tcpip_init:
 789              	.LVL73:
 790              	.LFB111:
 463:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   lwip_init();
 791              		.loc 1 463 1 view -0
 792              		.cfi_startproc
 793              		@ args = 0, pretend = 0, frame = 0
 794              		@ frame_needed = 0, uses_anonymous_args = 0
 463:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   lwip_init();
 795              		.loc 1 463 1 is_stmt 0 view .LVU195
 796 0000 30B5     		push	{r4, r5, lr}
 797              	.LCFI11:
 798              		.cfi_def_cfa_offset 12
 799              		.cfi_offset 4, -12
 800              		.cfi_offset 5, -8
 801              		.cfi_offset 14, -4
 802 0002 83B0     		sub	sp, sp, #12
 803              	.LCFI12:
 804              		.cfi_def_cfa_offset 24
 805 0004 0546     		mov	r5, r0
 806 0006 0C46     		mov	r4, r1
 464:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 807              		.loc 1 464 3 is_stmt 1 view .LVU196
 808 0008 FFF7FEFF 		bl	lwip_init
 809              	.LVL74:
 466:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   tcpip_init_done_arg = arg;
 810              		.loc 1 466 3 view .LVU197
 466:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   tcpip_init_done_arg = arg;
 811              		.loc 1 466 19 is_stmt 0 view .LVU198
 812 000c 134B     		ldr	r3, .L65
 813 000e 1D60     		str	r5, [r3]
 467:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   if (sys_mbox_new(&mbox, TCPIP_MBOX_SIZE) != ERR_OK) {
 814              		.loc 1 467 3 is_stmt 1 view .LVU199
 467:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   if (sys_mbox_new(&mbox, TCPIP_MBOX_SIZE) != ERR_OK) {
 815              		.loc 1 467 23 is_stmt 0 view .LVU200
 816 0010 134B     		ldr	r3, .L65+4
 817 0012 1C60     		str	r4, [r3]
 468:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     LWIP_ASSERT("failed to create tcpip_thread mbox", 0);
 818              		.loc 1 468 3 is_stmt 1 view .LVU201
ARM GAS  /tmp/ccza2cSo.s 			page 27


 468:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     LWIP_ASSERT("failed to create tcpip_thread mbox", 0);
 819              		.loc 1 468 7 is_stmt 0 view .LVU202
 820 0014 0621     		movs	r1, #6
 821 0016 1348     		ldr	r0, .L65+8
 822 0018 FFF7FEFF 		bl	sys_mbox_new
 823              	.LVL75:
 468:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     LWIP_ASSERT("failed to create tcpip_thread mbox", 0);
 824              		.loc 1 468 6 view .LVU203
 825 001c 68B9     		cbnz	r0, .L63
 826              	.L60:
 469:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   }
 827              		.loc 1 469 5 is_stmt 1 discriminator 3 view .LVU204
 469:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   }
 828              		.loc 1 469 5 discriminator 3 view .LVU205
 472:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     LWIP_ASSERT("failed to create lock_tcpip_core", 0);
 829              		.loc 1 472 3 discriminator 3 view .LVU206
 472:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     LWIP_ASSERT("failed to create lock_tcpip_core", 0);
 830              		.loc 1 472 7 is_stmt 0 discriminator 3 view .LVU207
 831 001e 1248     		ldr	r0, .L65+12
 832 0020 FFF7FEFF 		bl	sys_mutex_new
 833              	.LVL76:
 472:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****     LWIP_ASSERT("failed to create lock_tcpip_core", 0);
 834              		.loc 1 472 6 discriminator 3 view .LVU208
 835 0024 88B9     		cbnz	r0, .L64
 836              	.L61:
 473:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   }
 837              		.loc 1 473 5 is_stmt 1 discriminator 3 view .LVU209
 473:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   }
 838              		.loc 1 473 5 discriminator 3 view .LVU210
 477:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** }
 839              		.loc 1 477 3 discriminator 3 view .LVU211
 840 0026 0022     		movs	r2, #0
 841 0028 0092     		str	r2, [sp]
 842 002a 4FF48063 		mov	r3, #1024
 843 002e 0F49     		ldr	r1, .L65+16
 844 0030 0F48     		ldr	r0, .L65+20
 845 0032 FFF7FEFF 		bl	sys_thread_new
 846              	.LVL77:
 478:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 847              		.loc 1 478 1 is_stmt 0 discriminator 3 view .LVU212
 848 0036 03B0     		add	sp, sp, #12
 849              	.LCFI13:
 850              		.cfi_remember_state
 851              		.cfi_def_cfa_offset 12
 852              		@ sp needed
 853 0038 30BD     		pop	{r4, r5, pc}
 854              	.LVL78:
 855              	.L63:
 856              	.LCFI14:
 857              		.cfi_restore_state
 469:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   }
 858              		.loc 1 469 5 is_stmt 1 discriminator 1 view .LVU213
 469:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   }
 859              		.loc 1 469 5 discriminator 1 view .LVU214
 469:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   }
 860              		.loc 1 469 5 discriminator 1 view .LVU215
 469:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   }
ARM GAS  /tmp/ccza2cSo.s 			page 28


 861              		.loc 1 469 5 discriminator 1 view .LVU216
 862 003a 0E4B     		ldr	r3, .L65+24
 863 003c 40F2D512 		movw	r2, #469
 864 0040 0D49     		ldr	r1, .L65+28
 865 0042 0E48     		ldr	r0, .L65+32
 866 0044 FFF7FEFF 		bl	printf
 867              	.LVL79:
 868 0048 E9E7     		b	.L60
 869              	.L64:
 473:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   }
 870              		.loc 1 473 5 discriminator 1 view .LVU217
 473:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   }
 871              		.loc 1 473 5 discriminator 1 view .LVU218
 473:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   }
 872              		.loc 1 473 5 discriminator 1 view .LVU219
 473:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   }
 873              		.loc 1 473 5 discriminator 1 view .LVU220
 874 004a 0A4B     		ldr	r3, .L65+24
 875 004c 40F2D912 		movw	r2, #473
 876 0050 0B49     		ldr	r1, .L65+36
 877 0052 0A48     		ldr	r0, .L65+32
 878 0054 FFF7FEFF 		bl	printf
 879              	.LVL80:
 880 0058 E5E7     		b	.L61
 881              	.L66:
 882 005a 00BF     		.align	2
 883              	.L65:
 884 005c 00000000 		.word	.LANCHOR0
 885 0060 00000000 		.word	.LANCHOR1
 886 0064 00000000 		.word	.LANCHOR3
 887 0068 00000000 		.word	.LANCHOR2
 888 006c 00000000 		.word	tcpip_thread
 889 0070 48000000 		.word	.LC6
 890 0074 00000000 		.word	.LC0
 891 0078 00000000 		.word	.LC4
 892 007c 50000000 		.word	.LC2
 893 0080 24000000 		.word	.LC5
 894              		.cfi_endproc
 895              	.LFE111:
 897              		.section	.text.pbuf_free_callback,"ax",%progbits
 898              		.align	1
 899              		.global	pbuf_free_callback
 900              		.syntax unified
 901              		.thumb
 902              		.thumb_func
 904              	pbuf_free_callback:
 905              	.LVL81:
 906              	.LFB113:
 492:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 493:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** /**
 494:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * A simple wrapper function that allows you to free a pbuf from interrupt context.
 495:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  *
 496:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @param p The pbuf (chain) to be dereferenced.
 497:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @return ERR_OK if callback could be enqueued, an err_t if not
 498:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  */
 499:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** err_t
 500:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** pbuf_free_callback(struct pbuf *p)
ARM GAS  /tmp/ccza2cSo.s 			page 29


 501:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** {
 907              		.loc 1 501 1 view -0
 908              		.cfi_startproc
 909              		@ args = 0, pretend = 0, frame = 0
 910              		@ frame_needed = 0, uses_anonymous_args = 0
 911              		.loc 1 501 1 is_stmt 0 view .LVU222
 912 0000 08B5     		push	{r3, lr}
 913              	.LCFI15:
 914              		.cfi_def_cfa_offset 8
 915              		.cfi_offset 3, -8
 916              		.cfi_offset 14, -4
 917 0002 0146     		mov	r1, r0
 502:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   return tcpip_callback_with_block(pbuf_free_int, p, 0);
 918              		.loc 1 502 3 is_stmt 1 view .LVU223
 919              		.loc 1 502 10 is_stmt 0 view .LVU224
 920 0004 0022     		movs	r2, #0
 921 0006 0248     		ldr	r0, .L69
 922              	.LVL82:
 923              		.loc 1 502 10 view .LVU225
 924 0008 FFF7FEFF 		bl	tcpip_callback_with_block
 925              	.LVL83:
 503:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** }
 926              		.loc 1 503 1 view .LVU226
 927 000c 08BD     		pop	{r3, pc}
 928              	.L70:
 929 000e 00BF     		.align	2
 930              	.L69:
 931 0010 00000000 		.word	pbuf_free_int
 932              		.cfi_endproc
 933              	.LFE113:
 935              		.section	.text.mem_free_callback,"ax",%progbits
 936              		.align	1
 937              		.global	mem_free_callback
 938              		.syntax unified
 939              		.thumb
 940              		.thumb_func
 942              	mem_free_callback:
 943              	.LVL84:
 944              	.LFB114:
 504:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** 
 505:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** /**
 506:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * A simple wrapper function that allows you to free heap memory from
 507:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * interrupt context.
 508:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  *
 509:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @param m the heap memory to free
 510:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  * @return ERR_OK if callback could be enqueued, an err_t if not
 511:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****  */
 512:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** err_t
 513:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** mem_free_callback(void *m)
 514:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** {
 945              		.loc 1 514 1 is_stmt 1 view -0
 946              		.cfi_startproc
 947              		@ args = 0, pretend = 0, frame = 0
 948              		@ frame_needed = 0, uses_anonymous_args = 0
 949              		.loc 1 514 1 is_stmt 0 view .LVU228
 950 0000 08B5     		push	{r3, lr}
 951              	.LCFI16:
ARM GAS  /tmp/ccza2cSo.s 			page 30


 952              		.cfi_def_cfa_offset 8
 953              		.cfi_offset 3, -8
 954              		.cfi_offset 14, -4
 955 0002 0146     		mov	r1, r0
 515:Middlewares/Third_Party/LwIP/src/api/tcpip.c ****   return tcpip_callback_with_block(mem_free, m, 0);
 956              		.loc 1 515 3 is_stmt 1 view .LVU229
 957              		.loc 1 515 10 is_stmt 0 view .LVU230
 958 0004 0022     		movs	r2, #0
 959 0006 0248     		ldr	r0, .L73
 960              	.LVL85:
 961              		.loc 1 515 10 view .LVU231
 962 0008 FFF7FEFF 		bl	tcpip_callback_with_block
 963              	.LVL86:
 516:Middlewares/Third_Party/LwIP/src/api/tcpip.c **** }
 964              		.loc 1 516 1 view .LVU232
 965 000c 08BD     		pop	{r3, pc}
 966              	.L74:
 967 000e 00BF     		.align	2
 968              	.L73:
 969 0010 00000000 		.word	mem_free
 970              		.cfi_endproc
 971              	.LFE114:
 973              		.global	lock_tcpip_core
 974              		.section	.bss.lock_tcpip_core,"aw",%nobits
 975              		.align	2
 976              		.set	.LANCHOR2,. + 0
 979              	lock_tcpip_core:
 980 0000 00000000 		.space	4
 981              		.section	.bss.mbox,"aw",%nobits
 982              		.align	2
 983              		.set	.LANCHOR3,. + 0
 986              	mbox:
 987 0000 00000000 		.space	4
 988              		.section	.bss.tcpip_init_done,"aw",%nobits
 989              		.align	2
 990              		.set	.LANCHOR0,. + 0
 993              	tcpip_init_done:
 994 0000 00000000 		.space	4
 995              		.section	.bss.tcpip_init_done_arg,"aw",%nobits
 996              		.align	2
 997              		.set	.LANCHOR1,. + 0
 1000              	tcpip_init_done_arg:
 1001 0000 00000000 		.space	4
 1002              		.text
 1003              	.Letext0:
 1004              		.file 2 "/opt/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/machine/_default_types.h"
 1005              		.file 3 "/opt/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/sys/_stdint.h"
 1006              		.file 4 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 1007              		.file 5 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 1008              		.file 6 "Middlewares/Third_Party/FreeRTOS/Source/include/queue.h"
 1009              		.file 7 "Middlewares/Third_Party/FreeRTOS/Source/include/semphr.h"
 1010              		.file 8 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.h"
 1011              		.file 9 "Middlewares/Third_Party/LwIP/system/arch/sys_arch.h"
 1012              		.file 10 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 1013              		.file 11 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
 1014              		.file 12 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 1015              		.file 13 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
ARM GAS  /tmp/ccza2cSo.s 			page 31


 1016              		.file 14 "Middlewares/Third_Party/LwIP/src/include/lwip/netif.h"
 1017              		.file 15 "Middlewares/Third_Party/LwIP/src/include/lwip/tcpip.h"
 1018              		.file 16 "Middlewares/Third_Party/LwIP/src/include/lwip/priv/tcpip_priv.h"
 1019              		.file 17 "Middlewares/Third_Party/LwIP/src/include/lwip/init.h"
 1020              		.file 18 "Middlewares/Third_Party/LwIP/src/include/lwip/sys.h"
 1021              		.file 19 "/opt/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/stdio.h"
 1022              		.file 20 "Middlewares/Third_Party/LwIP/src/include/lwip/timeouts.h"
ARM GAS  /tmp/ccza2cSo.s 			page 32


DEFINED SYMBOLS
                            *ABS*:0000000000000000 tcpip.c
     /tmp/ccza2cSo.s:18     .rodata.tcpip_thread.str1.4:0000000000000000 $d
     /tmp/ccza2cSo.s:28     .text.tcpip_thread:0000000000000000 $t
     /tmp/ccza2cSo.s:33     .text.tcpip_thread:0000000000000000 tcpip_thread
     /tmp/ccza2cSo.s:181    .text.tcpip_thread:0000000000000088 $d
     /tmp/ccza2cSo.s:192    .text.pbuf_free_int:0000000000000000 $t
     /tmp/ccza2cSo.s:197    .text.pbuf_free_int:0000000000000000 pbuf_free_int
     /tmp/ccza2cSo.s:221    .rodata.tcpip_inpkt.str1.4:0000000000000000 $d
     /tmp/ccza2cSo.s:225    .text.tcpip_inpkt:0000000000000000 $t
     /tmp/ccza2cSo.s:231    .text.tcpip_inpkt:0000000000000000 tcpip_inpkt
     /tmp/ccza2cSo.s:331    .text.tcpip_inpkt:0000000000000054 $d
     /tmp/ccza2cSo.s:339    .text.tcpip_input:0000000000000000 $t
     /tmp/ccza2cSo.s:345    .text.tcpip_input:0000000000000000 tcpip_input
     /tmp/ccza2cSo.s:384    .text.tcpip_input:000000000000001c $d
     /tmp/ccza2cSo.s:390    .text.tcpip_callback_with_block:0000000000000000 $t
     /tmp/ccza2cSo.s:396    .text.tcpip_callback_with_block:0000000000000000 tcpip_callback_with_block
     /tmp/ccza2cSo.s:506    .text.tcpip_callback_with_block:0000000000000060 $d
     /tmp/ccza2cSo.s:514    .text.tcpip_send_msg_wait_sem:0000000000000000 $t
     /tmp/ccza2cSo.s:520    .text.tcpip_send_msg_wait_sem:0000000000000000 tcpip_send_msg_wait_sem
     /tmp/ccza2cSo.s:562    .text.tcpip_send_msg_wait_sem:000000000000001c $d
     /tmp/ccza2cSo.s:567    .text.tcpip_api_call:0000000000000000 $t
     /tmp/ccza2cSo.s:573    .text.tcpip_api_call:0000000000000000 tcpip_api_call
     /tmp/ccza2cSo.s:618    .text.tcpip_api_call:0000000000000020 $d
     /tmp/ccza2cSo.s:623    .text.tcpip_callbackmsg_new:0000000000000000 $t
     /tmp/ccza2cSo.s:629    .text.tcpip_callbackmsg_new:0000000000000000 tcpip_callbackmsg_new
     /tmp/ccza2cSo.s:679    .text.tcpip_callbackmsg_delete:0000000000000000 $t
     /tmp/ccza2cSo.s:685    .text.tcpip_callbackmsg_delete:0000000000000000 tcpip_callbackmsg_delete
     /tmp/ccza2cSo.s:711    .text.tcpip_trycallback:0000000000000000 $t
     /tmp/ccza2cSo.s:717    .text.tcpip_trycallback:0000000000000000 tcpip_trycallback
     /tmp/ccza2cSo.s:764    .text.tcpip_trycallback:0000000000000028 $d
     /tmp/ccza2cSo.s:772    .rodata.tcpip_init.str1.4:0000000000000000 $d
     /tmp/ccza2cSo.s:782    .text.tcpip_init:0000000000000000 $t
     /tmp/ccza2cSo.s:788    .text.tcpip_init:0000000000000000 tcpip_init
     /tmp/ccza2cSo.s:884    .text.tcpip_init:000000000000005c $d
     /tmp/ccza2cSo.s:898    .text.pbuf_free_callback:0000000000000000 $t
     /tmp/ccza2cSo.s:904    .text.pbuf_free_callback:0000000000000000 pbuf_free_callback
     /tmp/ccza2cSo.s:931    .text.pbuf_free_callback:0000000000000010 $d
     /tmp/ccza2cSo.s:936    .text.mem_free_callback:0000000000000000 $t
     /tmp/ccza2cSo.s:942    .text.mem_free_callback:0000000000000000 mem_free_callback
     /tmp/ccza2cSo.s:969    .text.mem_free_callback:0000000000000010 $d
     /tmp/ccza2cSo.s:979    .bss.lock_tcpip_core:0000000000000000 lock_tcpip_core
     /tmp/ccza2cSo.s:975    .bss.lock_tcpip_core:0000000000000000 $d
     /tmp/ccza2cSo.s:982    .bss.mbox:0000000000000000 $d
     /tmp/ccza2cSo.s:986    .bss.mbox:0000000000000000 mbox
     /tmp/ccza2cSo.s:989    .bss.tcpip_init_done:0000000000000000 $d
     /tmp/ccza2cSo.s:993    .bss.tcpip_init_done:0000000000000000 tcpip_init_done
     /tmp/ccza2cSo.s:996    .bss.tcpip_init_done_arg:0000000000000000 $d
     /tmp/ccza2cSo.s:1000   .bss.tcpip_init_done_arg:0000000000000000 tcpip_init_done_arg

UNDEFINED SYMBOLS
sys_mutex_lock
printf
sys_mutex_unlock
sys_timeouts_mbox_fetch
memp_free
pbuf_free
ARM GAS  /tmp/ccza2cSo.s 			page 33


sys_mbox_valid
memp_malloc
sys_mbox_trypost
ethernet_input
ip4_input
sys_mbox_post
lwip_init
sys_mbox_new
sys_mutex_new
sys_thread_new
mem_free
