ARM GAS  /tmp/ccyZE1E6.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"ip4_frag.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.rodata.ip_reass_dequeue_datagram.str1.4,"aMS",%progbits,1
  18              		.align	2
  19              	.LC0:
  20 0000 4D696464 		.ascii	"Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag"
  20      6C657761 
  20      7265732F 
  20      54686972 
  20      645F5061 
  21 0033 2E6300   		.ascii	".c\000"
  22 0036 0000     		.align	2
  23              	.LC1:
  24 0038 73616E69 		.ascii	"sanity check linked list\000"
  24      74792063 
  24      6865636B 
  24      206C696E 
  24      6B656420 
  25 0051 000000   		.align	2
  26              	.LC2:
  27 0054 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
  27      7274696F 
  27      6E202225 
  27      73222066 
  27      61696C65 
  28              		.section	.text.ip_reass_dequeue_datagram,"ax",%progbits
  29              		.align	1
  30              		.syntax unified
  31              		.thumb
  32              		.thumb_func
  34              	ip_reass_dequeue_datagram:
  35              	.LVL0:
  36              	.LFB101:
  37              		.file 1 "Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c"
   1:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
   2:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @file
   3:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * This is the IPv4 packet segmentation and reassembly implementation.
   4:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
   5:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
   6:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
   7:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /*
   8:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
   9:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * All rights reserved.
ARM GAS  /tmp/ccyZE1E6.s 			page 2


  10:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
  11:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Redistribution and use in source and binary forms, with or without modification,
  12:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * are permitted provided that the following conditions are met:
  13:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
  14:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  15:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *    this list of conditions and the following disclaimer.
  16:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  17:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *    this list of conditions and the following disclaimer in the documentation
  18:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *    and/or other materials provided with the distribution.
  19:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * 3. The name of the author may not be used to endorse or promote products
  20:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *    derived from this software without specific prior written permission.
  21:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
  22:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  23:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  24:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  25:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  26:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  27:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  28:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  29:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  30:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  31:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * OF SUCH DAMAGE.
  32:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
  33:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * This file is part of the lwIP TCP/IP stack.
  34:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
  35:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Author: Jani Monoses <jani@iv.ro>
  36:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *         Simon Goldschmidt
  37:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * original reassembly code by Adam Dunkels <adam@sics.se>
  38:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
  39:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
  40:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  41:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #include "lwip/opt.h"
  42:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  43:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if LWIP_IPV4
  44:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  45:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #include "lwip/ip4_frag.h"
  46:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #include "lwip/def.h"
  47:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #include "lwip/inet_chksum.h"
  48:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #include "lwip/netif.h"
  49:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #include "lwip/stats.h"
  50:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #include "lwip/icmp.h"
  51:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  52:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #include <string.h>
  53:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  54:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASSEMBLY
  55:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
  56:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * The IP reassembly code currently has the following limitations:
  57:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * - IP header options are not supported
  58:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * - fragments must not overlap (e.g. due to different routes),
  59:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *   currently, overlapping or duplicate fragments are thrown away
  60:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *   if IP_REASS_CHECK_OVERLAP=1 (the default)!
  61:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
  62:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @todo: work with IP header options
  63:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
  64:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  65:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /** Setting this to 0, you can turn off checking the fragments for overlapping
  66:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * regions. The code gets a little smaller. Only use this if you know that
ARM GAS  /tmp/ccyZE1E6.s 			page 3


  67:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * overlapping won't occur on your network! */
  68:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #ifndef IP_REASS_CHECK_OVERLAP
  69:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #define IP_REASS_CHECK_OVERLAP 1
  70:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
  71:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  72:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /** Set to 0 to prevent freeing the oldest datagram when the reassembly buffer is
  73:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * full (IP_REASS_MAX_PBUFS pbufs are enqueued). The code gets a little smaller.
  74:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Datagrams will be freed by timeout only. Especially useful when MEMP_NUM_REASSDATA
  75:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * is set to 1, so one datagram can be reassembled at a time, only. */
  76:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #ifndef IP_REASS_FREE_OLDEST
  77:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #define IP_REASS_FREE_OLDEST 1
  78:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_FREE_OLDEST */
  79:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  80:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #define IP_REASS_FLAG_LASTFRAG 0x01
  81:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  82:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #define IP_REASS_VALIDATE_TELEGRAM_FINISHED  1
  83:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #define IP_REASS_VALIDATE_PBUF_QUEUED        0
  84:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #define IP_REASS_VALIDATE_PBUF_DROPPED       -1
  85:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
  86:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /** This is a helper struct which holds the starting
  87:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * offset and the ending offset of this fragment to
  88:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * easily chain the fragments.
  89:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * It has the same packing requirements as the IP header, since it replaces
  90:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * the IP header in memory in incoming fragments (after copying it) to keep
  91:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * track of the various fragments. (-> If the IP header doesn't need packing,
  92:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * this struct doesn't need packing, too.)
  93:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
  94:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #ifdef PACK_STRUCT_USE_INCLUDES
  95:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #  include "arch/bpstruct.h"
  96:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif
  97:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** PACK_STRUCT_BEGIN
  98:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** struct ip_reass_helper {
  99:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   PACK_STRUCT_FIELD(struct pbuf *next_pbuf);
 100:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   PACK_STRUCT_FIELD(u16_t start);
 101:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   PACK_STRUCT_FIELD(u16_t end);
 102:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** } PACK_STRUCT_STRUCT;
 103:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** PACK_STRUCT_END
 104:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #ifdef PACK_STRUCT_USE_INCLUDES
 105:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #  include "arch/epstruct.h"
 106:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif
 107:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 108:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #define IP_ADDRESSES_AND_ID_MATCH(iphdrA, iphdrB)  \
 109:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   (ip4_addr_cmp(&(iphdrA)->src, &(iphdrB)->src) && \
 110:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    ip4_addr_cmp(&(iphdrA)->dest, &(iphdrB)->dest) && \
 111:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    IPH_ID(iphdrA) == IPH_ID(iphdrB)) ? 1 : 0
 112:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 113:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /* global variables */
 114:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static struct ip_reassdata *reassdatagrams;
 115:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static u16_t ip_reass_pbufcount;
 116:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 117:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /* function prototypes */
 118:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static void ip_reass_dequeue_datagram(struct ip_reassdata *ipr, struct ip_reassdata *prev);
 119:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static int ip_reass_free_complete_datagram(struct ip_reassdata *ipr, struct ip_reassdata *prev);
 120:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 121:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
 122:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Reassembly timer base function
 123:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * for both NO_SYS == 0 and 1 (!).
ARM GAS  /tmp/ccyZE1E6.s 			page 4


 124:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
 125:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Should be called every 1000 msec (defined by IP_TMR_INTERVAL).
 126:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
 127:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** void
 128:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip_reass_tmr(void)
 129:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 130:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reassdata *r, *prev = NULL;
 131:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 132:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   r = reassdatagrams;
 133:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   while (r != NULL) {
 134:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Decrement the timer. Once it reaches 0,
 135:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * clean up the incomplete fragment assembly */
 136:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (r->timer > 0) {
 137:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       r->timer--;
 138:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG, ("ip_reass_tmr: timer dec %"U16_F"\n",(u16_t)r->timer));
 139:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       prev = r;
 140:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       r = r->next;
 141:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     } else {
 142:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* reassembly timed out */
 143:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       struct ip_reassdata *tmp;
 144:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG, ("ip_reass_tmr: timer timed out\n"));
 145:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       tmp = r;
 146:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* get the next pointer before freeing */
 147:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       r = r->next;
 148:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* free the helper struct and all enqueued pbufs */
 149:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ip_reass_free_complete_datagram(tmp, prev);
 150:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      }
 151:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    }
 152:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 153:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 154:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
 155:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Free a datagram (struct ip_reassdata) and all its pbufs.
 156:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Updates the total count of enqueued pbufs (ip_reass_pbufcount),
 157:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * SNMP counters and sends an ICMP time exceeded packet.
 158:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
 159:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param ipr datagram to free
 160:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param prev the previous datagram in the linked list
 161:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @return the number of pbufs freed
 162:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
 163:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static int
 164:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip_reass_free_complete_datagram(struct ip_reassdata *ipr, struct ip_reassdata *prev)
 165:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 166:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t pbufs_freed = 0;
 167:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t clen;
 168:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct pbuf *p;
 169:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reass_helper *iprh;
 170:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 171:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("prev != ipr", prev != ipr);
 172:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (prev != NULL) {
 173:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("prev->next == ipr", prev->next == ipr);
 174:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 175:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 176:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   MIB2_STATS_INC(mib2.ipreasmfails);
 177:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if LWIP_ICMP
 178:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iprh = (struct ip_reass_helper *)ipr->p->payload;
 179:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (iprh->start == 0) {
 180:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* The first fragment was received, send ICMP time exceeded. */
ARM GAS  /tmp/ccyZE1E6.s 			page 5


 181:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* First, de-queue the first pbuf from r->p. */
 182:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     p = ipr->p;
 183:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ipr->p = iprh->next_pbuf;
 184:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Then, copy the original header into it. */
 185:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     SMEMCPY(p->payload, &ipr->iphdr, IP_HLEN);
 186:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     icmp_time_exceeded(p, ICMP_TE_FRAG);
 187:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     clen = pbuf_clen(p);
 188:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("pbufs_freed + clen <= 0xffff", pbufs_freed + clen <= 0xffff);
 189:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbufs_freed += clen;
 190:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbuf_free(p);
 191:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 192:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* LWIP_ICMP */
 193:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 194:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* First, free all received pbufs.  The individual pbufs need to be released
 195:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      separately as they have not yet been chained */
 196:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   p = ipr->p;
 197:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   while (p != NULL) {
 198:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     struct pbuf *pcur;
 199:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iprh = (struct ip_reass_helper *)p->payload;
 200:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pcur = p;
 201:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* get the next pointer before freeing */
 202:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     p = iprh->next_pbuf;
 203:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     clen = pbuf_clen(pcur);
 204:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("pbufs_freed + clen <= 0xffff", pbufs_freed + clen <= 0xffff);
 205:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbufs_freed += clen;
 206:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbuf_free(pcur);
 207:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 208:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Then, unchain the struct ip_reassdata from the list and free it. */
 209:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ip_reass_dequeue_datagram(ipr, prev);
 210:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("ip_reass_pbufcount >= clen", ip_reass_pbufcount >= pbufs_freed);
 211:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ip_reass_pbufcount -= pbufs_freed;
 212:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 213:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return pbufs_freed;
 214:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 215:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 216:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_FREE_OLDEST
 217:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
 218:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Free the oldest datagram to make room for enqueueing new fragments.
 219:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * The datagram 'fraghdr' belongs to is not freed!
 220:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
 221:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param fraghdr IP header of the current fragment
 222:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param pbufs_needed number of pbufs needed to enqueue
 223:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *        (used for freeing other datagrams if not enough space)
 224:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @return the number of pbufs freed
 225:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
 226:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static int
 227:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip_reass_remove_oldest_datagram(struct ip_hdr *fraghdr, int pbufs_needed)
 228:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 229:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* @todo Can't we simply remove the last datagram in the
 230:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    *       linked list behind reassdatagrams?
 231:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    */
 232:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reassdata *r, *oldest, *prev, *oldest_prev;
 233:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   int pbufs_freed = 0, pbufs_freed_current;
 234:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   int other_datagrams;
 235:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 236:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Free datagrams until being allowed to enqueue 'pbufs_needed' pbufs,
 237:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    * but don't free the datagram that 'fraghdr' belongs to! */
ARM GAS  /tmp/ccyZE1E6.s 			page 6


 238:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   do {
 239:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     oldest = NULL;
 240:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     prev = NULL;
 241:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     oldest_prev = NULL;
 242:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     other_datagrams = 0;
 243:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     r = reassdatagrams;
 244:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     while (r != NULL) {
 245:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (!IP_ADDRESSES_AND_ID_MATCH(&r->iphdr, fraghdr)) {
 246:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* Not the same datagram as fraghdr */
 247:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         other_datagrams++;
 248:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (oldest == NULL) {
 249:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           oldest = r;
 250:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           oldest_prev = prev;
 251:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         } else if (r->timer <= oldest->timer) {
 252:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* older than the previous oldest */
 253:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           oldest = r;
 254:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           oldest_prev = prev;
 255:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 256:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 257:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (r->next != NULL) {
 258:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         prev = r;
 259:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 260:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       r = r->next;
 261:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 262:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (oldest != NULL) {
 263:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbufs_freed_current = ip_reass_free_complete_datagram(oldest, oldest_prev);
 264:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbufs_freed += pbufs_freed_current;
 265:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 266:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   } while ((pbufs_freed < pbufs_needed) && (other_datagrams > 1));
 267:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return pbufs_freed;
 268:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 269:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_FREE_OLDEST */
 270:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 271:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
 272:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Enqueues a new fragment into the fragment queue
 273:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param fraghdr points to the new fragments IP hdr
 274:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param clen number of pbufs needed to enqueue (used for freeing other datagrams if not enough sp
 275:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @return A pointer to the queue location into which the fragment was enqueued
 276:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
 277:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static struct ip_reassdata*
 278:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip_reass_enqueue_new_datagram(struct ip_hdr *fraghdr, int clen)
 279:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 280:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reassdata* ipr;
 281:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if ! IP_REASS_FREE_OLDEST
 282:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_UNUSED_ARG(clen);
 283:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif
 284:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 285:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* No matching previous fragment found, allocate a new reassdata struct */
 286:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ipr = (struct ip_reassdata *)memp_malloc(MEMP_REASSDATA);
 287:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (ipr == NULL) {
 288:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_FREE_OLDEST
 289:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (ip_reass_remove_oldest_datagram(fraghdr, clen) >= clen) {
 290:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ipr = (struct ip_reassdata *)memp_malloc(MEMP_REASSDATA);
 291:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 292:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (ipr == NULL)
 293:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_FREE_OLDEST */
 294:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     {
ARM GAS  /tmp/ccyZE1E6.s 			page 7


 295:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       IPFRAG_STATS_INC(ip_frag.memerr);
 296:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG,("Failed to alloc reassdata struct\n"));
 297:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       return NULL;
 298:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 299:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 300:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   memset(ipr, 0, sizeof(struct ip_reassdata));
 301:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ipr->timer = IP_REASS_MAXAGE;
 302:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 303:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* enqueue the new structure to the front of the list */
 304:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ipr->next = reassdatagrams;
 305:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   reassdatagrams = ipr;
 306:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* copy the ip header for later tests and input */
 307:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* @todo: no ip options supported? */
 308:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   SMEMCPY(&(ipr->iphdr), fraghdr, IP_HLEN);
 309:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return ipr;
 310:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 311:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 312:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
 313:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Dequeues a datagram from the datagram queue. Doesn't deallocate the pbufs.
 314:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param ipr points to the queue entry to dequeue
 315:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
 316:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static void
 317:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip_reass_dequeue_datagram(struct ip_reassdata *ipr, struct ip_reassdata *prev)
 318:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
  38              		.loc 1 318 1 view -0
  39              		.cfi_startproc
  40              		@ args = 0, pretend = 0, frame = 0
  41              		@ frame_needed = 0, uses_anonymous_args = 0
  42              		.loc 1 318 1 is_stmt 0 view .LVU1
  43 0000 38B5     		push	{r3, r4, r5, lr}
  44              	.LCFI0:
  45              		.cfi_def_cfa_offset 16
  46              		.cfi_offset 3, -16
  47              		.cfi_offset 4, -12
  48              		.cfi_offset 5, -8
  49              		.cfi_offset 14, -4
  50 0002 0446     		mov	r4, r0
 319:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* dequeue the reass struct  */
 320:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (reassdatagrams == ipr) {
  51              		.loc 1 320 3 is_stmt 1 view .LVU2
  52              		.loc 1 320 22 is_stmt 0 view .LVU3
  53 0004 0C4B     		ldr	r3, .L8
  54 0006 1B68     		ldr	r3, [r3]
  55              		.loc 1 320 6 view .LVU4
  56 0008 8342     		cmp	r3, r0
  57 000a 08D0     		beq	.L6
  58 000c 0D46     		mov	r5, r1
 321:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* it was the first in the list */
 322:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     reassdatagrams = ipr->next;
 323:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   } else {
 324:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* it wasn't the first, so it must have a valid 'prev' */
 325:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("sanity check linked list", prev != NULL);
  59              		.loc 1 325 5 is_stmt 1 view .LVU5
  60              		.loc 1 325 5 view .LVU6
  61 000e 51B1     		cbz	r1, .L7
  62              	.LVL1:
  63              	.L4:
ARM GAS  /tmp/ccyZE1E6.s 			page 8


  64              		.loc 1 325 5 discriminator 3 view .LVU7
  65              		.loc 1 325 5 discriminator 3 view .LVU8
 326:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     prev->next = ipr->next;
  66              		.loc 1 326 5 discriminator 3 view .LVU9
  67              		.loc 1 326 21 is_stmt 0 discriminator 3 view .LVU10
  68 0010 2368     		ldr	r3, [r4]
  69              		.loc 1 326 16 discriminator 3 view .LVU11
  70 0012 2B60     		str	r3, [r5]
  71              	.LVL2:
  72              	.L3:
 327:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 328:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 329:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* now we can free the ip_reassdata struct */
 330:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   memp_free(MEMP_REASSDATA, ipr);
  73              		.loc 1 330 3 is_stmt 1 view .LVU12
  74 0014 2146     		mov	r1, r4
  75 0016 0420     		movs	r0, #4
  76 0018 FFF7FEFF 		bl	memp_free
  77              	.LVL3:
 331:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
  78              		.loc 1 331 1 is_stmt 0 view .LVU13
  79 001c 38BD     		pop	{r3, r4, r5, pc}
  80              	.LVL4:
  81              	.L6:
 322:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   } else {
  82              		.loc 1 322 5 is_stmt 1 view .LVU14
 322:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   } else {
  83              		.loc 1 322 25 is_stmt 0 view .LVU15
  84 001e 0268     		ldr	r2, [r0]
 322:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   } else {
  85              		.loc 1 322 20 view .LVU16
  86 0020 054B     		ldr	r3, .L8
  87 0022 1A60     		str	r2, [r3]
  88 0024 F6E7     		b	.L3
  89              	.L7:
 325:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     prev->next = ipr->next;
  90              		.loc 1 325 5 is_stmt 1 discriminator 1 view .LVU17
 325:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     prev->next = ipr->next;
  91              		.loc 1 325 5 discriminator 1 view .LVU18
  92 0026 054B     		ldr	r3, .L8+4
  93 0028 40F24512 		movw	r2, #325
  94 002c 0449     		ldr	r1, .L8+8
  95              	.LVL5:
 325:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     prev->next = ipr->next;
  96              		.loc 1 325 5 is_stmt 0 discriminator 1 view .LVU19
  97 002e 0548     		ldr	r0, .L8+12
  98              	.LVL6:
 325:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     prev->next = ipr->next;
  99              		.loc 1 325 5 discriminator 1 view .LVU20
 100 0030 FFF7FEFF 		bl	printf
 101              	.LVL7:
 102 0034 ECE7     		b	.L4
 103              	.L9:
 104 0036 00BF     		.align	2
 105              	.L8:
 106 0038 00000000 		.word	.LANCHOR0
 107 003c 00000000 		.word	.LC0
ARM GAS  /tmp/ccyZE1E6.s 			page 9


 108 0040 38000000 		.word	.LC1
 109 0044 54000000 		.word	.LC2
 110              		.cfi_endproc
 111              	.LFE101:
 113              		.section	.rodata.ip_reass_free_complete_datagram.str1.4,"aMS",%progbits,1
 114              		.align	2
 115              	.LC3:
 116 0000 70726576 		.ascii	"prev != ipr\000"
 116      20213D20 
 116      69707200 
 117              		.align	2
 118              	.LC4:
 119 000c 70726576 		.ascii	"prev->next == ipr\000"
 119      2D3E6E65 
 119      7874203D 
 119      3D206970 
 119      7200
 120 001e 0000     		.align	2
 121              	.LC5:
 122 0020 70627566 		.ascii	"pbufs_freed + clen <= 0xffff\000"
 122      735F6672 
 122      65656420 
 122      2B20636C 
 122      656E203C 
 123 003d 000000   		.align	2
 124              	.LC6:
 125 0040 69705F72 		.ascii	"ip_reass_pbufcount >= clen\000"
 125      65617373 
 125      5F706275 
 125      66636F75 
 125      6E74203E 
 126              		.section	.text.ip_reass_free_complete_datagram,"ax",%progbits
 127              		.align	1
 128              		.syntax unified
 129              		.thumb
 130              		.thumb_func
 132              	ip_reass_free_complete_datagram:
 133              	.LVL8:
 134              	.LFB98:
 165:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t pbufs_freed = 0;
 135              		.loc 1 165 1 is_stmt 1 view -0
 136              		.cfi_startproc
 137              		@ args = 0, pretend = 0, frame = 0
 138              		@ frame_needed = 0, uses_anonymous_args = 0
 165:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t pbufs_freed = 0;
 139              		.loc 1 165 1 is_stmt 0 view .LVU22
 140 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 141              	.LCFI1:
 142              		.cfi_def_cfa_offset 32
 143              		.cfi_offset 3, -32
 144              		.cfi_offset 4, -28
 145              		.cfi_offset 5, -24
 146              		.cfi_offset 6, -20
 147              		.cfi_offset 7, -16
 148              		.cfi_offset 8, -12
 149              		.cfi_offset 9, -8
 150              		.cfi_offset 14, -4
ARM GAS  /tmp/ccyZE1E6.s 			page 10


 151 0004 8046     		mov	r8, r0
 152 0006 8946     		mov	r9, r1
 166:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t clen;
 153              		.loc 1 166 3 is_stmt 1 view .LVU23
 154              	.LVL9:
 167:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct pbuf *p;
 155              		.loc 1 167 3 view .LVU24
 168:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reass_helper *iprh;
 156              		.loc 1 168 3 view .LVU25
 169:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 157              		.loc 1 169 3 view .LVU26
 171:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (prev != NULL) {
 158              		.loc 1 171 3 view .LVU27
 171:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (prev != NULL) {
 159              		.loc 1 171 3 view .LVU28
 160 0008 8142     		cmp	r1, r0
 161 000a 15D0     		beq	.L20
 162              	.LVL10:
 163              	.L11:
 171:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (prev != NULL) {
 164              		.loc 1 171 3 discriminator 3 view .LVU29
 171:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (prev != NULL) {
 165              		.loc 1 171 3 discriminator 3 view .LVU30
 172:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("prev->next == ipr", prev->next == ipr);
 166              		.loc 1 172 3 discriminator 3 view .LVU31
 172:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("prev->next == ipr", prev->next == ipr);
 167              		.loc 1 172 6 is_stmt 0 discriminator 3 view .LVU32
 168 000c B9F1000F 		cmp	r9, #0
 169 0010 09D0     		beq	.L12
 173:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 170              		.loc 1 173 5 is_stmt 1 view .LVU33
 173:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 171              		.loc 1 173 5 view .LVU34
 172 0012 D9F80030 		ldr	r3, [r9]
 173 0016 4345     		cmp	r3, r8
 174 0018 05D0     		beq	.L12
 173:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 175              		.loc 1 173 5 discriminator 1 view .LVU35
 173:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 176              		.loc 1 173 5 discriminator 1 view .LVU36
 177 001a 314B     		ldr	r3, .L24
 178 001c AD22     		movs	r2, #173
 179 001e 3149     		ldr	r1, .L24+4
 180 0020 3148     		ldr	r0, .L24+8
 181 0022 FFF7FEFF 		bl	printf
 182              	.LVL11:
 183              	.L12:
 173:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 184              		.loc 1 173 5 discriminator 3 view .LVU37
 173:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 185              		.loc 1 173 5 discriminator 3 view .LVU38
 176:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if LWIP_ICMP
 186              		.loc 1 176 36 discriminator 3 view .LVU39
 178:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (iprh->start == 0) {
 187              		.loc 1 178 3 discriminator 3 view .LVU40
 178:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (iprh->start == 0) {
 188              		.loc 1 178 39 is_stmt 0 discriminator 3 view .LVU41
ARM GAS  /tmp/ccyZE1E6.s 			page 11


 189 0026 D8F80450 		ldr	r5, [r8, #4]
 178:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (iprh->start == 0) {
 190              		.loc 1 178 8 discriminator 3 view .LVU42
 191 002a 6B68     		ldr	r3, [r5, #4]
 192              	.LVL12:
 179:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* The first fragment was received, send ICMP time exceeded. */
 193              		.loc 1 179 3 is_stmt 1 discriminator 3 view .LVU43
 179:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* The first fragment was received, send ICMP time exceeded. */
 194              		.loc 1 179 11 is_stmt 0 discriminator 3 view .LVU44
 195 002c 9A88     		ldrh	r2, [r3, #4]	@ unaligned
 179:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* The first fragment was received, send ICMP time exceeded. */
 196              		.loc 1 179 6 discriminator 3 view .LVU45
 197 002e 52B1     		cbz	r2, .L21
 166:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t clen;
 198              		.loc 1 166 9 view .LVU46
 199 0030 0026     		movs	r6, #0
 200              	.LVL13:
 201              	.L13:
 196:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   while (p != NULL) {
 202              		.loc 1 196 3 is_stmt 1 view .LVU47
 196:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   while (p != NULL) {
 203              		.loc 1 196 5 is_stmt 0 view .LVU48
 204 0032 D8F80450 		ldr	r5, [r8, #4]
 205              	.LVL14:
 197:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     struct pbuf *pcur;
 206              		.loc 1 197 3 is_stmt 1 view .LVU49
 197:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     struct pbuf *pcur;
 207              		.loc 1 197 9 is_stmt 0 view .LVU50
 208 0036 2BE0     		b	.L14
 209              	.LVL15:
 210              	.L20:
 171:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (prev != NULL) {
 211              		.loc 1 171 3 is_stmt 1 discriminator 1 view .LVU51
 171:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (prev != NULL) {
 212              		.loc 1 171 3 discriminator 1 view .LVU52
 213 0038 294B     		ldr	r3, .L24
 214 003a AB22     		movs	r2, #171
 215 003c 2B49     		ldr	r1, .L24+12
 216              	.LVL16:
 171:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (prev != NULL) {
 217              		.loc 1 171 3 is_stmt 0 discriminator 1 view .LVU53
 218 003e 2A48     		ldr	r0, .L24+8
 219              	.LVL17:
 171:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (prev != NULL) {
 220              		.loc 1 171 3 discriminator 1 view .LVU54
 221 0040 FFF7FEFF 		bl	printf
 222              	.LVL18:
 223 0044 E2E7     		b	.L11
 224              	.LVL19:
 225              	.L21:
 182:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ipr->p = iprh->next_pbuf;
 226              		.loc 1 182 5 is_stmt 1 view .LVU55
 183:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Then, copy the original header into it. */
 227              		.loc 1 183 5 view .LVU56
 183:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Then, copy the original header into it. */
 228              		.loc 1 183 18 is_stmt 0 view .LVU57
 229 0046 1B68     		ldr	r3, [r3]	@ unaligned
ARM GAS  /tmp/ccyZE1E6.s 			page 12


 230              	.LVL20:
 183:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Then, copy the original header into it. */
 231              		.loc 1 183 12 view .LVU58
 232 0048 C8F80430 		str	r3, [r8, #4]
 233              	.LVL21:
 185:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     icmp_time_exceeded(p, ICMP_TE_FRAG);
 234              		.loc 1 185 5 is_stmt 1 view .LVU59
 235 004c 6B68     		ldr	r3, [r5, #4]
 236 004e D8F80820 		ldr	r2, [r8, #8]	@ unaligned
 237 0052 D8F80C40 		ldr	r4, [r8, #12]	@ unaligned
 238 0056 D8F81000 		ldr	r0, [r8, #16]	@ unaligned
 239 005a D8F81410 		ldr	r1, [r8, #20]	@ unaligned
 240 005e 1A60     		str	r2, [r3]	@ unaligned
 241 0060 5C60     		str	r4, [r3, #4]	@ unaligned
 242 0062 9860     		str	r0, [r3, #8]	@ unaligned
 243 0064 D960     		str	r1, [r3, #12]	@ unaligned
 244 0066 D8F81820 		ldr	r2, [r8, #24]	@ unaligned
 245 006a 1A61     		str	r2, [r3, #16]	@ unaligned
 186:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     clen = pbuf_clen(p);
 246              		.loc 1 186 5 view .LVU60
 247 006c 0121     		movs	r1, #1
 248 006e 2846     		mov	r0, r5
 249 0070 FFF7FEFF 		bl	icmp_time_exceeded
 250              	.LVL22:
 187:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("pbufs_freed + clen <= 0xffff", pbufs_freed + clen <= 0xffff);
 251              		.loc 1 187 5 view .LVU61
 187:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("pbufs_freed + clen <= 0xffff", pbufs_freed + clen <= 0xffff);
 252              		.loc 1 187 12 is_stmt 0 view .LVU62
 253 0074 2846     		mov	r0, r5
 254 0076 FFF7FEFF 		bl	pbuf_clen
 255              	.LVL23:
 256 007a 0646     		mov	r6, r0
 257              	.LVL24:
 188:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbufs_freed += clen;
 258              		.loc 1 188 5 is_stmt 1 view .LVU63
 188:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbufs_freed += clen;
 259              		.loc 1 188 5 view .LVU64
 188:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbufs_freed += clen;
 260              		.loc 1 188 5 view .LVU65
 188:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbufs_freed += clen;
 261              		.loc 1 188 5 view .LVU66
 189:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbuf_free(p);
 262              		.loc 1 189 5 view .LVU67
 190:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 263              		.loc 1 190 5 view .LVU68
 264 007c 2846     		mov	r0, r5
 265 007e FFF7FEFF 		bl	pbuf_free
 266              	.LVL25:
 267 0082 D6E7     		b	.L13
 268              	.LVL26:
 269              	.L15:
 270              	.LBB2:
 204:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbufs_freed += clen;
 271              		.loc 1 204 5 discriminator 3 view .LVU69
 204:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbufs_freed += clen;
 272              		.loc 1 204 5 discriminator 3 view .LVU70
 205:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbuf_free(pcur);
ARM GAS  /tmp/ccyZE1E6.s 			page 13


 273              		.loc 1 205 5 discriminator 3 view .LVU71
 205:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbuf_free(pcur);
 274              		.loc 1 205 17 is_stmt 0 discriminator 3 view .LVU72
 275 0084 3444     		add	r4, r4, r6
 276 0086 A6B2     		uxth	r6, r4
 277              	.LVL27:
 206:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 278              		.loc 1 206 5 is_stmt 1 discriminator 3 view .LVU73
 279 0088 2846     		mov	r0, r5
 280 008a FFF7FEFF 		bl	pbuf_free
 281              	.LVL28:
 202:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     clen = pbuf_clen(pcur);
 282              		.loc 1 202 7 is_stmt 0 discriminator 3 view .LVU74
 283 008e 3D46     		mov	r5, r7
 284              	.LVL29:
 285              	.L14:
 202:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     clen = pbuf_clen(pcur);
 286              		.loc 1 202 7 discriminator 3 view .LVU75
 287              	.LBE2:
 197:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     struct pbuf *pcur;
 288              		.loc 1 197 9 is_stmt 1 view .LVU76
 289 0090 85B1     		cbz	r5, .L22
 290              	.LBB3:
 198:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iprh = (struct ip_reass_helper *)p->payload;
 291              		.loc 1 198 5 view .LVU77
 199:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pcur = p;
 292              		.loc 1 199 5 view .LVU78
 199:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pcur = p;
 293              		.loc 1 199 10 is_stmt 0 view .LVU79
 294 0092 6B68     		ldr	r3, [r5, #4]
 295              	.LVL30:
 200:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* get the next pointer before freeing */
 296              		.loc 1 200 5 is_stmt 1 view .LVU80
 202:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     clen = pbuf_clen(pcur);
 297              		.loc 1 202 5 view .LVU81
 202:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     clen = pbuf_clen(pcur);
 298              		.loc 1 202 7 is_stmt 0 view .LVU82
 299 0094 1F68     		ldr	r7, [r3]	@ unaligned
 300              	.LVL31:
 203:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("pbufs_freed + clen <= 0xffff", pbufs_freed + clen <= 0xffff);
 301              		.loc 1 203 5 is_stmt 1 view .LVU83
 203:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("pbufs_freed + clen <= 0xffff", pbufs_freed + clen <= 0xffff);
 302              		.loc 1 203 12 is_stmt 0 view .LVU84
 303 0096 2846     		mov	r0, r5
 304 0098 FFF7FEFF 		bl	pbuf_clen
 305              	.LVL32:
 203:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("pbufs_freed + clen <= 0xffff", pbufs_freed + clen <= 0xffff);
 306              		.loc 1 203 12 view .LVU85
 307 009c 0446     		mov	r4, r0
 308              	.LVL33:
 204:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbufs_freed += clen;
 309              		.loc 1 204 5 is_stmt 1 view .LVU86
 204:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbufs_freed += clen;
 310              		.loc 1 204 5 view .LVU87
 311 009e 3318     		adds	r3, r6, r0
 312 00a0 B3F5803F 		cmp	r3, #65536
 313 00a4 EEDB     		blt	.L15
ARM GAS  /tmp/ccyZE1E6.s 			page 14


 204:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbufs_freed += clen;
 314              		.loc 1 204 5 discriminator 1 view .LVU88
 204:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbufs_freed += clen;
 315              		.loc 1 204 5 discriminator 1 view .LVU89
 316 00a6 0E4B     		ldr	r3, .L24
 317 00a8 CC22     		movs	r2, #204
 318 00aa 1149     		ldr	r1, .L24+16
 319 00ac 0E48     		ldr	r0, .L24+8
 320              	.LVL34:
 204:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbufs_freed += clen;
 321              		.loc 1 204 5 is_stmt 0 discriminator 1 view .LVU90
 322 00ae FFF7FEFF 		bl	printf
 323              	.LVL35:
 324 00b2 E7E7     		b	.L15
 325              	.LVL36:
 326              	.L22:
 204:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbufs_freed += clen;
 327              		.loc 1 204 5 discriminator 1 view .LVU91
 328              	.LBE3:
 209:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("ip_reass_pbufcount >= clen", ip_reass_pbufcount >= pbufs_freed);
 329              		.loc 1 209 3 is_stmt 1 view .LVU92
 330 00b4 4946     		mov	r1, r9
 331 00b6 4046     		mov	r0, r8
 332 00b8 FFF7FEFF 		bl	ip_reass_dequeue_datagram
 333              	.LVL37:
 210:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ip_reass_pbufcount -= pbufs_freed;
 334              		.loc 1 210 3 view .LVU93
 210:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ip_reass_pbufcount -= pbufs_freed;
 335              		.loc 1 210 3 view .LVU94
 336 00bc 0D4B     		ldr	r3, .L24+20
 337 00be 1B88     		ldrh	r3, [r3]
 338 00c0 B342     		cmp	r3, r6
 339 00c2 06D3     		bcc	.L23
 340              	.L17:
 210:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ip_reass_pbufcount -= pbufs_freed;
 341              		.loc 1 210 3 discriminator 3 view .LVU95
 210:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ip_reass_pbufcount -= pbufs_freed;
 342              		.loc 1 210 3 discriminator 3 view .LVU96
 211:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 343              		.loc 1 211 3 discriminator 3 view .LVU97
 211:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 344              		.loc 1 211 22 is_stmt 0 discriminator 3 view .LVU98
 345 00c4 0B4A     		ldr	r2, .L24+20
 346 00c6 1388     		ldrh	r3, [r2]
 347 00c8 9B1B     		subs	r3, r3, r6
 348 00ca 1380     		strh	r3, [r2]	@ movhi
 213:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 349              		.loc 1 213 3 is_stmt 1 discriminator 3 view .LVU99
 214:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 350              		.loc 1 214 1 is_stmt 0 discriminator 3 view .LVU100
 351 00cc 3046     		mov	r0, r6
 352 00ce BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 353              	.LVL38:
 354              	.L23:
 210:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ip_reass_pbufcount -= pbufs_freed;
 355              		.loc 1 210 3 is_stmt 1 discriminator 1 view .LVU101
 210:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ip_reass_pbufcount -= pbufs_freed;
ARM GAS  /tmp/ccyZE1E6.s 			page 15


 356              		.loc 1 210 3 discriminator 1 view .LVU102
 357 00d2 034B     		ldr	r3, .L24
 358 00d4 D222     		movs	r2, #210
 359 00d6 0849     		ldr	r1, .L24+24
 360 00d8 0348     		ldr	r0, .L24+8
 361 00da FFF7FEFF 		bl	printf
 362              	.LVL39:
 363 00de F1E7     		b	.L17
 364              	.L25:
 365              		.align	2
 366              	.L24:
 367 00e0 00000000 		.word	.LC0
 368 00e4 0C000000 		.word	.LC4
 369 00e8 54000000 		.word	.LC2
 370 00ec 00000000 		.word	.LC3
 371 00f0 20000000 		.word	.LC5
 372 00f4 00000000 		.word	.LANCHOR1
 373 00f8 40000000 		.word	.LC6
 374              		.cfi_endproc
 375              	.LFE98:
 377              		.section	.text.ip_reass_remove_oldest_datagram,"ax",%progbits
 378              		.align	1
 379              		.syntax unified
 380              		.thumb
 381              		.thumb_func
 383              	ip_reass_remove_oldest_datagram:
 384              	.LVL40:
 385              	.LFB99:
 228:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* @todo Can't we simply remove the last datagram in the
 386              		.loc 1 228 1 view -0
 387              		.cfi_startproc
 388              		@ args = 0, pretend = 0, frame = 0
 389              		@ frame_needed = 0, uses_anonymous_args = 0
 228:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* @todo Can't we simply remove the last datagram in the
 390              		.loc 1 228 1 is_stmt 0 view .LVU104
 391 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 392              	.LCFI2:
 393              		.cfi_def_cfa_offset 24
 394              		.cfi_offset 3, -24
 395              		.cfi_offset 4, -20
 396              		.cfi_offset 5, -16
 397              		.cfi_offset 6, -12
 398              		.cfi_offset 7, -8
 399              		.cfi_offset 14, -4
 400 0002 0546     		mov	r5, r0
 401 0004 0F46     		mov	r7, r1
 232:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   int pbufs_freed = 0, pbufs_freed_current;
 402              		.loc 1 232 3 is_stmt 1 view .LVU105
 233:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   int other_datagrams;
 403              		.loc 1 233 3 view .LVU106
 404              	.LVL41:
 233:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   int other_datagrams;
 405              		.loc 1 233 7 is_stmt 0 view .LVU107
 406 0006 0026     		movs	r6, #0
 407 0008 2BE0     		b	.L34
 408              	.LVL42:
 409              	.L40:
ARM GAS  /tmp/ccyZE1E6.s 			page 16


 245:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* Not the same datagram as fraghdr */
 410              		.loc 1 245 12 discriminator 1 view .LVU108
 411 000a 9A69     		ldr	r2, [r3, #24]
 412 000c D5F810E0 		ldr	lr, [r5, #16]	@ unaligned
 413 0010 7245     		cmp	r2, lr
 414 0012 11D1     		bne	.L28
 245:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* Not the same datagram as fraghdr */
 415              		.loc 1 245 12 discriminator 2 view .LVU109
 416 0014 B3F80CE0 		ldrh	lr, [r3, #12]
 417 0018 AA88     		ldrh	r2, [r5, #4]	@ unaligned
 245:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* Not the same datagram as fraghdr */
 418              		.loc 1 245 11 discriminator 2 view .LVU110
 419 001a 9645     		cmp	lr, r2
 420 001c 0CD1     		bne	.L28
 421 001e 01E0     		b	.L29
 422              	.L35:
 250:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         } else if (r->timer <= oldest->timer) {
 423              		.loc 1 250 23 view .LVU111
 424 0020 6146     		mov	r1, ip
 425              	.LVL43:
 249:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           oldest_prev = prev;
 426              		.loc 1 249 18 view .LVU112
 427 0022 1846     		mov	r0, r3
 428              	.LVL44:
 429              	.L29:
 257:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         prev = r;
 430              		.loc 1 257 7 is_stmt 1 view .LVU113
 257:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         prev = r;
 431              		.loc 1 257 12 is_stmt 0 view .LVU114
 432 0024 1A68     		ldr	r2, [r3]
 257:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         prev = r;
 433              		.loc 1 257 10 view .LVU115
 434 0026 92B1     		cbz	r2, .L38
 435              	.LVL45:
 436              	.L30:
 257:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         prev = r;
 437              		.loc 1 257 10 view .LVU116
 438 0028 9C46     		mov	ip, r3
 439 002a 1346     		mov	r3, r2
 440              	.LVL46:
 441              	.L27:
 244:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (!IP_ADDRESSES_AND_ID_MATCH(&r->iphdr, fraghdr)) {
 442              		.loc 1 244 11 is_stmt 1 view .LVU117
 443 002c 8BB1     		cbz	r3, .L39
 245:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* Not the same datagram as fraghdr */
 444              		.loc 1 245 7 view .LVU118
 245:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* Not the same datagram as fraghdr */
 445              		.loc 1 245 12 is_stmt 0 view .LVU119
 446 002e 5A69     		ldr	r2, [r3, #20]
 447 0030 D5F80CE0 		ldr	lr, [r5, #12]	@ unaligned
 245:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* Not the same datagram as fraghdr */
 448              		.loc 1 245 10 view .LVU120
 449 0034 7245     		cmp	r2, lr
 450 0036 E8D0     		beq	.L40
 451              	.L28:
 247:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (oldest == NULL) {
 452              		.loc 1 247 9 is_stmt 1 view .LVU121
ARM GAS  /tmp/ccyZE1E6.s 			page 17


 247:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (oldest == NULL) {
 453              		.loc 1 247 24 is_stmt 0 view .LVU122
 454 0038 0134     		adds	r4, r4, #1
 455              	.LVL47:
 248:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           oldest = r;
 456              		.loc 1 248 9 is_stmt 1 view .LVU123
 248:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           oldest = r;
 457              		.loc 1 248 12 is_stmt 0 view .LVU124
 458 003a 0028     		cmp	r0, #0
 459 003c F0D0     		beq	.L35
 251:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* older than the previous oldest */
 460              		.loc 1 251 16 is_stmt 1 view .LVU125
 251:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* older than the previous oldest */
 461              		.loc 1 251 21 is_stmt 0 view .LVU126
 462 003e 93F81FE0 		ldrb	lr, [r3, #31]	@ zero_extendqisi2
 251:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* older than the previous oldest */
 463              		.loc 1 251 38 view .LVU127
 464 0042 C27F     		ldrb	r2, [r0, #31]	@ zero_extendqisi2
 251:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* older than the previous oldest */
 465              		.loc 1 251 19 view .LVU128
 466 0044 9645     		cmp	lr, r2
 467 0046 EDD8     		bhi	.L29
 254:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 468              		.loc 1 254 23 view .LVU129
 469 0048 6146     		mov	r1, ip
 470              	.LVL48:
 253:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           oldest_prev = prev;
 471              		.loc 1 253 18 view .LVU130
 472 004a 1846     		mov	r0, r3
 473              	.LVL49:
 253:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           oldest_prev = prev;
 474              		.loc 1 253 18 view .LVU131
 475 004c EAE7     		b	.L29
 476              	.LVL50:
 477              	.L38:
 257:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         prev = r;
 478              		.loc 1 257 10 view .LVU132
 479 004e 6346     		mov	r3, ip
 480              	.LVL51:
 257:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         prev = r;
 481              		.loc 1 257 10 view .LVU133
 482 0050 EAE7     		b	.L30
 483              	.LVL52:
 484              	.L39:
 262:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbufs_freed_current = ip_reass_free_complete_datagram(oldest, oldest_prev);
 485              		.loc 1 262 5 is_stmt 1 view .LVU134
 262:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbufs_freed_current = ip_reass_free_complete_datagram(oldest, oldest_prev);
 486              		.loc 1 262 8 is_stmt 0 view .LVU135
 487 0052 10B1     		cbz	r0, .L32
 263:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbufs_freed += pbufs_freed_current;
 488              		.loc 1 263 7 is_stmt 1 view .LVU136
 263:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbufs_freed += pbufs_freed_current;
 489              		.loc 1 263 29 is_stmt 0 view .LVU137
 490 0054 FFF7FEFF 		bl	ip_reass_free_complete_datagram
 491              	.LVL53:
 264:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 492              		.loc 1 264 7 is_stmt 1 view .LVU138
ARM GAS  /tmp/ccyZE1E6.s 			page 18


 264:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 493              		.loc 1 264 19 is_stmt 0 view .LVU139
 494 0058 0644     		add	r6, r6, r0
 495              	.LVL54:
 496              	.L32:
 266:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return pbufs_freed;
 497              		.loc 1 266 11 is_stmt 1 view .LVU140
 266:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return pbufs_freed;
 498              		.loc 1 266 3 is_stmt 0 view .LVU141
 499 005a BE42     		cmp	r6, r7
 500 005c 08DA     		bge	.L26
 266:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return pbufs_freed;
 501              		.loc 1 266 41 discriminator 1 view .LVU142
 502 005e 012C     		cmp	r4, #1
 503 0060 06DD     		ble	.L26
 504              	.LVL55:
 505              	.L34:
 234:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 506              		.loc 1 234 3 is_stmt 1 view .LVU143
 238:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     oldest = NULL;
 507              		.loc 1 238 3 view .LVU144
 239:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     prev = NULL;
 508              		.loc 1 239 5 view .LVU145
 240:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     oldest_prev = NULL;
 509              		.loc 1 240 5 view .LVU146
 241:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     other_datagrams = 0;
 510              		.loc 1 241 5 view .LVU147
 242:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     r = reassdatagrams;
 511              		.loc 1 242 5 view .LVU148
 243:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     while (r != NULL) {
 512              		.loc 1 243 5 view .LVU149
 243:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     while (r != NULL) {
 513              		.loc 1 243 7 is_stmt 0 view .LVU150
 514 0062 044B     		ldr	r3, .L41
 515 0064 1B68     		ldr	r3, [r3]
 516              	.LVL56:
 244:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (!IP_ADDRESSES_AND_ID_MATCH(&r->iphdr, fraghdr)) {
 517              		.loc 1 244 5 is_stmt 1 view .LVU151
 242:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     r = reassdatagrams;
 518              		.loc 1 242 21 is_stmt 0 view .LVU152
 519 0066 0024     		movs	r4, #0
 241:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     other_datagrams = 0;
 520              		.loc 1 241 17 view .LVU153
 521 0068 2146     		mov	r1, r4
 240:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     oldest_prev = NULL;
 522              		.loc 1 240 10 view .LVU154
 523 006a A446     		mov	ip, r4
 239:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     prev = NULL;
 524              		.loc 1 239 12 view .LVU155
 525 006c 2046     		mov	r0, r4
 244:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (!IP_ADDRESSES_AND_ID_MATCH(&r->iphdr, fraghdr)) {
 526              		.loc 1 244 11 view .LVU156
 527 006e DDE7     		b	.L27
 528              	.LVL57:
 529              	.L26:
 268:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_FREE_OLDEST */
 530              		.loc 1 268 1 view .LVU157
ARM GAS  /tmp/ccyZE1E6.s 			page 19


 531 0070 3046     		mov	r0, r6
 532 0072 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 533              	.LVL58:
 534              	.L42:
 268:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_FREE_OLDEST */
 535              		.loc 1 268 1 view .LVU158
 536              		.align	2
 537              	.L41:
 538 0074 00000000 		.word	.LANCHOR0
 539              		.cfi_endproc
 540              	.LFE99:
 542              		.section	.rodata.ip_frag_free_pbuf_custom_ref.str1.4,"aMS",%progbits,1
 543              		.align	2
 544              	.LC7:
 545 0000 7020213D 		.ascii	"p != NULL\000"
 545      204E554C 
 545      4C00
 546              		.section	.text.ip_frag_free_pbuf_custom_ref,"ax",%progbits
 547              		.align	1
 548              		.syntax unified
 549              		.thumb
 550              		.thumb_func
 552              	ip_frag_free_pbuf_custom_ref:
 553              	.LVL59:
 554              	.LFB105:
 332:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 333:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
 334:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Chain a new pbuf into the pbuf list that composes the datagram.  The pbuf list
 335:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * will grow over time as  new pbufs are rx.
 336:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Also checks that the datagram passes basic continuity checks (if the last
 337:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * fragment was received at least once).
 338:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param ipr points to the reassembly state
 339:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param new_p points to the pbuf for the current fragment
 340:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param is_last is 1 if this pbuf has MF==0 (ipr->flags not updated yet)
 341:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @return see IP_REASS_VALIDATE_* defines
 342:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
 343:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static int
 344:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip_reass_chain_frag_into_datagram_and_validate(struct ip_reassdata *ipr, struct pbuf *new_p, int is
 345:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 346:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reass_helper *iprh, *iprh_tmp, *iprh_prev=NULL;
 347:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct pbuf *q;
 348:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t offset, len;
 349:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_hdr *fraghdr;
 350:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   int valid = 1;
 351:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 352:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Extract length and fragment offset from current fragment */
 353:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   fraghdr = (struct ip_hdr*)new_p->payload;
 354:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   len = lwip_ntohs(IPH_LEN(fraghdr)) - IPH_HL(fraghdr) * 4;
 355:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   offset = (lwip_ntohs(IPH_OFFSET(fraghdr)) & IP_OFFMASK) * 8;
 356:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 357:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* overwrite the fragment's ip header from the pbuf with our helper struct,
 358:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    * and setup the embedded helper structure. */
 359:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* make sure the struct ip_reass_helper fits into the IP header */
 360:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("sizeof(struct ip_reass_helper) <= IP_HLEN",
 361:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****               sizeof(struct ip_reass_helper) <= IP_HLEN);
 362:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iprh = (struct ip_reass_helper*)new_p->payload;
 363:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iprh->next_pbuf = NULL;
ARM GAS  /tmp/ccyZE1E6.s 			page 20


 364:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iprh->start = offset;
 365:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iprh->end = offset + len;
 366:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 367:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Iterate through until we either get to the end of the list (append),
 368:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    * or we find one with a larger offset (insert). */
 369:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   for (q = ipr->p; q != NULL;) {
 370:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iprh_tmp = (struct ip_reass_helper*)q->payload;
 371:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (iprh->start < iprh_tmp->start) {
 372:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* the new pbuf should be inserted before this */
 373:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       iprh->next_pbuf = q;
 374:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (iprh_prev != NULL) {
 375:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* not the fragment with the lowest offset */
 376:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_CHECK_OVERLAP
 377:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if ((iprh->start < iprh_prev->end) || (iprh->end > iprh_tmp->start)) {
 378:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* fragment overlaps with previous or following, throw away */
 379:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           goto freepbuf;
 380:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 381:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 382:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         iprh_prev->next_pbuf = new_p;
 383:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (iprh_prev->end != iprh->start) {
 384:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* There is a fragment missing between the current
 385:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****            * and the previous fragment */
 386:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           valid = 0;
 387:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 388:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       } else {
 389:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_CHECK_OVERLAP
 390:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (iprh->end > iprh_tmp->start) {
 391:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* fragment overlaps with following, throw away */
 392:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           goto freepbuf;
 393:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 394:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 395:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* fragment with the lowest offset */
 396:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ipr->p = new_p;
 397:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 398:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       break;
 399:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     } else if (iprh->start == iprh_tmp->start) {
 400:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* received the same datagram twice: no need to keep the datagram */
 401:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       goto freepbuf;
 402:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_CHECK_OVERLAP
 403:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     } else if (iprh->start < iprh_tmp->end) {
 404:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* overlap: no need to keep the new datagram */
 405:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       goto freepbuf;
 406:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 407:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     } else {
 408:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* Check if the fragments received so far have no holes. */
 409:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (iprh_prev != NULL) {
 410:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (iprh_prev->end != iprh_tmp->start) {
 411:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* There is a fragment missing between the current
 412:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****            * and the previous fragment */
 413:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           valid = 0;
 414:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 415:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 416:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 417:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     q = iprh_tmp->next_pbuf;
 418:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iprh_prev = iprh_tmp;
 419:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 420:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
ARM GAS  /tmp/ccyZE1E6.s 			page 21


 421:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* If q is NULL, then we made it to the end of the list. Determine what to do now */
 422:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (q == NULL) {
 423:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (iprh_prev != NULL) {
 424:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* this is (for now), the fragment with the highest offset:
 425:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****        * chain it to the last fragment */
 426:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_CHECK_OVERLAP
 427:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_ASSERT("check fragments don't overlap", iprh_prev->end <= iprh->start);
 428:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 429:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       iprh_prev->next_pbuf = new_p;
 430:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (iprh_prev->end != iprh->start) {
 431:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         valid = 0;
 432:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 433:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     } else {
 434:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_CHECK_OVERLAP
 435:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_ASSERT("no previous fragment, this must be the first fragment!",
 436:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ipr->p == NULL);
 437:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 438:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* this is the first fragment we ever received for this ip datagram */
 439:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ipr->p = new_p;
 440:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 441:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 442:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 443:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* At this point, the validation part begins: */
 444:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* If we already received the last fragment */
 445:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (is_last || ((ipr->flags & IP_REASS_FLAG_LASTFRAG) != 0)) {
 446:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* and had no holes so far */
 447:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (valid) {
 448:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* then check if the rest of the fragments is here */
 449:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* Check if the queue starts with the first datagram */
 450:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if ((ipr->p == NULL) || (((struct ip_reass_helper*)ipr->p->payload)->start != 0)) {
 451:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         valid = 0;
 452:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       } else {
 453:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* and check that there are no holes after this datagram */
 454:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         iprh_prev = iprh;
 455:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         q = iprh->next_pbuf;
 456:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         while (q != NULL) {
 457:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           iprh = (struct ip_reass_helper*)q->payload;
 458:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           if (iprh_prev->end != iprh->start) {
 459:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             valid = 0;
 460:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             break;
 461:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           }
 462:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           iprh_prev = iprh;
 463:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           q = iprh->next_pbuf;
 464:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 465:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* if still valid, all fragments are received
 466:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****          * (because to the MF==0 already arrived */
 467:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (valid) {
 468:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           LWIP_ASSERT("sanity check", ipr->p != NULL);
 469:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           LWIP_ASSERT("sanity check",
 470:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             ((struct ip_reass_helper*)ipr->p->payload) != iprh);
 471:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           LWIP_ASSERT("validate_datagram:next_pbuf!=NULL",
 472:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             iprh->next_pbuf == NULL);
 473:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 474:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 475:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 476:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* If valid is 0 here, there are some fragments missing in the middle
 477:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * (since MF == 0 has already arrived). Such datagrams simply time out if
ARM GAS  /tmp/ccyZE1E6.s 			page 22


 478:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * no more fragments are received... */
 479:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     return valid ? IP_REASS_VALIDATE_TELEGRAM_FINISHED : IP_REASS_VALIDATE_PBUF_QUEUED;
 480:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 481:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* If we come here, not all fragments were received, yet! */
 482:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return IP_REASS_VALIDATE_PBUF_QUEUED; /* not yet valid! */
 483:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_CHECK_OVERLAP
 484:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** freepbuf:
 485:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ip_reass_pbufcount -= pbuf_clen(new_p);
 486:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   pbuf_free(new_p);
 487:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return IP_REASS_VALIDATE_PBUF_DROPPED;
 488:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 489:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 490:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 491:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
 492:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Reassembles incoming IP fragments into an IP datagram.
 493:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
 494:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param p points to a pbuf chain of the fragment
 495:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @return NULL if reassembly is incomplete, ? otherwise
 496:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
 497:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** struct pbuf *
 498:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip4_reass(struct pbuf *p)
 499:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 500:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct pbuf *r;
 501:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_hdr *fraghdr;
 502:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reassdata *ipr;
 503:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reass_helper *iprh;
 504:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t offset, len, clen;
 505:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   int valid;
 506:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   int is_last;
 507:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 508:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   IPFRAG_STATS_INC(ip_frag.recv);
 509:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   MIB2_STATS_INC(mib2.ipreasmreqds);
 510:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 511:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   fraghdr = (struct ip_hdr*)p->payload;
 512:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 513:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if ((IPH_HL(fraghdr) * 4) != IP_HLEN) {
 514:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_DEBUGF(IP_REASS_DEBUG,("ip4_reass: IP options currently not supported!\n"));
 515:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPFRAG_STATS_INC(ip_frag.err);
 516:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     goto nullreturn;
 517:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 518:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 519:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   offset = (lwip_ntohs(IPH_OFFSET(fraghdr)) & IP_OFFMASK) * 8;
 520:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   len = lwip_ntohs(IPH_LEN(fraghdr)) - IPH_HL(fraghdr) * 4;
 521:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 522:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Check if we are allowed to enqueue more datagrams. */
 523:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   clen = pbuf_clen(p);
 524:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if ((ip_reass_pbufcount + clen) > IP_REASS_MAX_PBUFS) {
 525:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_FREE_OLDEST
 526:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (!ip_reass_remove_oldest_datagram(fraghdr, clen) ||
 527:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ((ip_reass_pbufcount + clen) > IP_REASS_MAX_PBUFS))
 528:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_FREE_OLDEST */
 529:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     {
 530:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* No datagram could be freed and still too many pbufs enqueued */
 531:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG,("ip4_reass: Overflow condition: pbufct=%d, clen=%d, MAX=%d\n",
 532:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ip_reass_pbufcount, clen, IP_REASS_MAX_PBUFS));
 533:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       IPFRAG_STATS_INC(ip_frag.memerr);
 534:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* @todo: send ICMP time exceeded here? */
ARM GAS  /tmp/ccyZE1E6.s 			page 23


 535:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* drop this pbuf */
 536:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       goto nullreturn;
 537:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 538:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 539:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 540:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Look for the datagram the fragment belongs to in the current datagram queue,
 541:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    * remembering the previous in the queue for later dequeueing. */
 542:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   for (ipr = reassdatagrams; ipr != NULL; ipr = ipr->next) {
 543:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Check if the incoming fragment matches the one currently present
 544:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****        in the reassembly buffer. If so, we proceed with copying the
 545:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****        fragment into the buffer. */
 546:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (IP_ADDRESSES_AND_ID_MATCH(&ipr->iphdr, fraghdr)) {
 547:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG, ("ip4_reass: matching previous fragment ID=%"X16_F"\n",
 548:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         lwip_ntohs(IPH_ID(fraghdr))));
 549:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       IPFRAG_STATS_INC(ip_frag.cachehit);
 550:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       break;
 551:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 552:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 553:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 554:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (ipr == NULL) {
 555:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Enqueue a new datagram into the datagram queue */
 556:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ipr = ip_reass_enqueue_new_datagram(fraghdr, clen);
 557:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Bail if unable to enqueue */
 558:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (ipr == NULL) {
 559:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       goto nullreturn;
 560:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 561:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   } else {
 562:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (((lwip_ntohs(IPH_OFFSET(fraghdr)) & IP_OFFMASK) == 0) &&
 563:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ((lwip_ntohs(IPH_OFFSET(&ipr->iphdr)) & IP_OFFMASK) != 0)) {
 564:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* ipr->iphdr is not the header from the first fragment, but fraghdr is
 565:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****        * -> copy fraghdr into ipr->iphdr since we want to have the header
 566:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****        * of the first fragment (for ICMP time exceeded and later, for copying
 567:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****        * all options, if supported)*/
 568:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       SMEMCPY(&ipr->iphdr, fraghdr, IP_HLEN);
 569:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 570:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 571:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 572:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* At this point, we have either created a new entry or pointing
 573:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****    * to an existing one */
 574:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 575:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* check for 'no more fragments', and update queue entry*/
 576:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   is_last = (IPH_OFFSET(fraghdr) & PP_NTOHS(IP_MF)) == 0;
 577:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (is_last) {
 578:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     u16_t datagram_len = (u16_t)(offset + len);
 579:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if ((datagram_len < offset) || (datagram_len > (0xFFFF - IP_HLEN))) {
 580:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* u16_t overflow, cannot handle this */
 581:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       goto nullreturn;
 582:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 583:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 584:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* find the right place to insert this pbuf */
 585:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* @todo: trim pbufs if fragments are overlapping */
 586:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   valid = ip_reass_chain_frag_into_datagram_and_validate(ipr, p, is_last);
 587:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (valid == IP_REASS_VALIDATE_PBUF_DROPPED) {
 588:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     goto nullreturn;
 589:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 590:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* if we come here, the pbuf has been enqueued */
 591:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
ARM GAS  /tmp/ccyZE1E6.s 			page 24


 592:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Track the current number of pbufs current 'in-flight', in order to limit
 593:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      the number of fragments that may be enqueued at any one time
 594:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      (overflow checked by testing against IP_REASS_MAX_PBUFS) */
 595:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ip_reass_pbufcount = (u16_t)(ip_reass_pbufcount + clen);
 596:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (is_last) {
 597:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     u16_t datagram_len = (u16_t)(offset + len);
 598:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ipr->datagram_len = datagram_len;
 599:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ipr->flags |= IP_REASS_FLAG_LASTFRAG;
 600:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_DEBUGF(IP_REASS_DEBUG,
 601:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      ("ip4_reass: last fragment seen, total len %"S16_F"\n",
 602:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ipr->datagram_len));
 603:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 604:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 605:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (valid == IP_REASS_VALIDATE_TELEGRAM_FINISHED) {
 606:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     struct ip_reassdata *ipr_prev;
 607:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* the totally last fragment (flag more fragments = 0) was received at least
 608:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * once AND all fragments are received */
 609:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ipr->datagram_len += IP_HLEN;
 610:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 611:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* save the second pbuf before copying the header over the pointer */
 612:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     r = ((struct ip_reass_helper*)ipr->p->payload)->next_pbuf;
 613:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 614:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* copy the original ip header back to the first pbuf */
 615:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     fraghdr = (struct ip_hdr*)(ipr->p->payload);
 616:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     SMEMCPY(fraghdr, &ipr->iphdr, IP_HLEN);
 617:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_LEN_SET(fraghdr, lwip_htons(ipr->datagram_len));
 618:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_OFFSET_SET(fraghdr, 0);
 619:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_CHKSUM_SET(fraghdr, 0);
 620:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* @todo: do we need to set/calculate the correct checksum? */
 621:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if CHECKSUM_GEN_IP
 622:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IF__NETIF_CHECKSUM_ENABLED(ip_current_input_netif(), NETIF_CHECKSUM_GEN_IP) {
 623:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       IPH_CHKSUM_SET(fraghdr, inet_chksum(fraghdr, IP_HLEN));
 624:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 625:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* CHECKSUM_GEN_IP */
 626:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 627:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     p = ipr->p;
 628:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 629:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* chain together the pbufs contained within the reass_data list. */
 630:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     while (r != NULL) {
 631:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       iprh = (struct ip_reass_helper*)r->payload;
 632:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 633:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* hide the ip header for every succeeding fragment */
 634:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbuf_header(r, -IP_HLEN);
 635:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbuf_cat(p, r);
 636:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       r = iprh->next_pbuf;
 637:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 638:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 639:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* find the previous entry in the linked list */
 640:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (ipr == reassdatagrams) {
 641:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ipr_prev = NULL;
 642:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     } else {
 643:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       for (ipr_prev = reassdatagrams; ipr_prev != NULL; ipr_prev = ipr_prev->next) {
 644:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (ipr_prev->next == ipr) {
 645:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           break;
 646:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 647:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 648:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
ARM GAS  /tmp/ccyZE1E6.s 			page 25


 649:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 650:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* release the sources allocate for the fragment queue entry */
 651:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ip_reass_dequeue_datagram(ipr, ipr_prev);
 652:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 653:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* and adjust the number of pbufs currently queued for reassembly. */
 654:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ip_reass_pbufcount -= pbuf_clen(p);
 655:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 656:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     MIB2_STATS_INC(mib2.ipreasmoks);
 657:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 658:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Return the pbuf chain */
 659:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     return p;
 660:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 661:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* the datagram is not (yet?) reassembled completely */
 662:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_DEBUGF(IP_REASS_DEBUG,("ip_reass_pbufcount: %d out\n", ip_reass_pbufcount));
 663:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return NULL;
 664:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 665:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** nullreturn:
 666:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_DEBUGF(IP_REASS_DEBUG,("ip4_reass: nullreturn\n"));
 667:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   IPFRAG_STATS_INC(ip_frag.drop);
 668:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   pbuf_free(p);
 669:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return NULL;
 670:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 671:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASSEMBLY */
 672:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 673:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_FRAG
 674:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if !LWIP_NETIF_TX_SINGLE_PBUF
 675:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /** Allocate a new struct pbuf_custom_ref */
 676:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static struct pbuf_custom_ref*
 677:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip_frag_alloc_pbuf_custom_ref(void)
 678:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 679:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return (struct pbuf_custom_ref*)memp_malloc(MEMP_FRAG_PBUF);
 680:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 681:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 682:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /** Free a struct pbuf_custom_ref */
 683:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static void
 684:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip_frag_free_pbuf_custom_ref(struct pbuf_custom_ref* p)
 685:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 555              		.loc 1 685 1 is_stmt 1 view -0
 556              		.cfi_startproc
 557              		@ args = 0, pretend = 0, frame = 0
 558              		@ frame_needed = 0, uses_anonymous_args = 0
 559              		.loc 1 685 1 is_stmt 0 view .LVU160
 560 0000 10B5     		push	{r4, lr}
 561              	.LCFI3:
 562              		.cfi_def_cfa_offset 8
 563              		.cfi_offset 4, -8
 564              		.cfi_offset 14, -4
 686:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("p != NULL", p != NULL);
 565              		.loc 1 686 3 is_stmt 1 view .LVU161
 566              		.loc 1 686 3 view .LVU162
 567 0002 0446     		mov	r4, r0
 568 0004 20B1     		cbz	r0, .L46
 569              	.LVL60:
 570              	.L44:
 571              		.loc 1 686 3 discriminator 3 view .LVU163
 572              		.loc 1 686 3 discriminator 3 view .LVU164
 687:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   memp_free(MEMP_FRAG_PBUF, p);
ARM GAS  /tmp/ccyZE1E6.s 			page 26


 573              		.loc 1 687 3 discriminator 3 view .LVU165
 574 0006 2146     		mov	r1, r4
 575 0008 0520     		movs	r0, #5
 576 000a FFF7FEFF 		bl	memp_free
 577              	.LVL61:
 688:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 578              		.loc 1 688 1 is_stmt 0 discriminator 3 view .LVU166
 579 000e 10BD     		pop	{r4, pc}
 580              	.LVL62:
 581              	.L46:
 686:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("p != NULL", p != NULL);
 582              		.loc 1 686 3 is_stmt 1 discriminator 1 view .LVU167
 686:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("p != NULL", p != NULL);
 583              		.loc 1 686 3 discriminator 1 view .LVU168
 584 0010 034B     		ldr	r3, .L47
 585 0012 40F2AE22 		movw	r2, #686
 586 0016 0349     		ldr	r1, .L47+4
 587 0018 0348     		ldr	r0, .L47+8
 588              	.LVL63:
 686:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("p != NULL", p != NULL);
 589              		.loc 1 686 3 is_stmt 0 discriminator 1 view .LVU169
 590 001a FFF7FEFF 		bl	printf
 591              	.LVL64:
 592 001e F2E7     		b	.L44
 593              	.L48:
 594              		.align	2
 595              	.L47:
 596 0020 00000000 		.word	.LC0
 597 0024 00000000 		.word	.LC7
 598 0028 54000000 		.word	.LC2
 599              		.cfi_endproc
 600              	.LFE105:
 602              		.section	.rodata.ipfrag_free_pbuf_custom.str1.4,"aMS",%progbits,1
 603              		.align	2
 604              	.LC8:
 605 0000 70637220 		.ascii	"pcr != NULL\000"
 605      213D204E 
 605      554C4C00 
 606              		.section	.text.ipfrag_free_pbuf_custom,"ax",%progbits
 607              		.align	1
 608              		.syntax unified
 609              		.thumb
 610              		.thumb_func
 612              	ipfrag_free_pbuf_custom:
 613              	.LVL65:
 614              	.LFB106:
 689:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 690:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /** Free-callback function to free a 'struct pbuf_custom_ref', called by
 691:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * pbuf_free. */
 692:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** static void
 693:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ipfrag_free_pbuf_custom(struct pbuf *p)
 694:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 615              		.loc 1 694 1 is_stmt 1 view -0
 616              		.cfi_startproc
 617              		@ args = 0, pretend = 0, frame = 0
 618              		@ frame_needed = 0, uses_anonymous_args = 0
 619              		.loc 1 694 1 is_stmt 0 view .LVU171
ARM GAS  /tmp/ccyZE1E6.s 			page 27


 620 0000 10B5     		push	{r4, lr}
 621              	.LCFI4:
 622              		.cfi_def_cfa_offset 8
 623              		.cfi_offset 4, -8
 624              		.cfi_offset 14, -4
 695:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct pbuf_custom_ref *pcr = (struct pbuf_custom_ref*)p;
 625              		.loc 1 695 3 is_stmt 1 view .LVU172
 626              	.LVL66:
 696:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("pcr != NULL", pcr != NULL);
 627              		.loc 1 696 3 view .LVU173
 628              		.loc 1 696 3 view .LVU174
 629 0002 0446     		mov	r4, r0
 630 0004 38B1     		cbz	r0, .L53
 631              	.LVL67:
 632              	.L50:
 633              		.loc 1 696 3 discriminator 3 view .LVU175
 634              		.loc 1 696 3 discriminator 3 view .LVU176
 697:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("pcr == p", (void*)pcr == (void*)p);
 635              		.loc 1 697 3 discriminator 3 view .LVU177
 636              		.loc 1 697 3 discriminator 3 view .LVU178
 637              		.loc 1 697 3 discriminator 3 view .LVU179
 638              		.loc 1 697 3 discriminator 3 view .LVU180
 698:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (pcr->original != NULL) {
 639              		.loc 1 698 3 discriminator 3 view .LVU181
 640              		.loc 1 698 10 is_stmt 0 discriminator 3 view .LVU182
 641 0006 6069     		ldr	r0, [r4, #20]
 642              		.loc 1 698 6 discriminator 3 view .LVU183
 643 0008 08B1     		cbz	r0, .L51
 699:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbuf_free(pcr->original);
 644              		.loc 1 699 5 is_stmt 1 view .LVU184
 645 000a FFF7FEFF 		bl	pbuf_free
 646              	.LVL68:
 647              	.L51:
 700:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 701:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ip_frag_free_pbuf_custom_ref(pcr);
 648              		.loc 1 701 3 view .LVU185
 649 000e 2046     		mov	r0, r4
 650 0010 FFF7FEFF 		bl	ip_frag_free_pbuf_custom_ref
 651              	.LVL69:
 702:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 652              		.loc 1 702 1 is_stmt 0 view .LVU186
 653 0014 10BD     		pop	{r4, pc}
 654              	.LVL70:
 655              	.L53:
 696:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("pcr == p", (void*)pcr == (void*)p);
 656              		.loc 1 696 3 is_stmt 1 discriminator 1 view .LVU187
 696:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("pcr == p", (void*)pcr == (void*)p);
 657              		.loc 1 696 3 discriminator 1 view .LVU188
 658 0016 044B     		ldr	r3, .L54
 659 0018 4FF42E72 		mov	r2, #696
 660 001c 0349     		ldr	r1, .L54+4
 661 001e 0448     		ldr	r0, .L54+8
 662              	.LVL71:
 696:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ASSERT("pcr == p", (void*)pcr == (void*)p);
 663              		.loc 1 696 3 is_stmt 0 discriminator 1 view .LVU189
 664 0020 FFF7FEFF 		bl	printf
 665              	.LVL72:
ARM GAS  /tmp/ccyZE1E6.s 			page 28


 666 0024 EFE7     		b	.L50
 667              	.L55:
 668 0026 00BF     		.align	2
 669              	.L54:
 670 0028 00000000 		.word	.LC0
 671 002c 00000000 		.word	.LC8
 672 0030 54000000 		.word	.LC2
 673              		.cfi_endproc
 674              	.LFE106:
 676              		.section	.rodata.ip_reass_chain_frag_into_datagram_and_validate.str1.4,"aMS",%progbits,1
 677              		.align	2
 678              	.LC9:
 679 0000 63686563 		.ascii	"check fragments don't overlap\000"
 679      6B206672 
 679      61676D65 
 679      6E747320 
 679      646F6E27 
 680 001e 0000     		.align	2
 681              	.LC10:
 682 0020 6E6F2070 		.ascii	"no previous fragment, this must be the first fragme"
 682      72657669 
 682      6F757320 
 682      66726167 
 682      6D656E74 
 683 0053 6E742100 		.ascii	"nt!\000"
 684 0057 00       		.align	2
 685              	.LC11:
 686 0058 73616E69 		.ascii	"sanity check\000"
 686      74792063 
 686      6865636B 
 686      00
 687 0065 000000   		.align	2
 688              	.LC12:
 689 0068 76616C69 		.ascii	"validate_datagram:next_pbuf!=NULL\000"
 689      64617465 
 689      5F646174 
 689      61677261 
 689      6D3A6E65 
 690              		.section	.text.ip_reass_chain_frag_into_datagram_and_validate,"ax",%progbits
 691              		.align	1
 692              		.syntax unified
 693              		.thumb
 694              		.thumb_func
 696              	ip_reass_chain_frag_into_datagram_and_validate:
 697              	.LVL73:
 698              	.LFB102:
 345:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reass_helper *iprh, *iprh_tmp, *iprh_prev=NULL;
 699              		.loc 1 345 1 is_stmt 1 view -0
 700              		.cfi_startproc
 701              		@ args = 0, pretend = 0, frame = 0
 702              		@ frame_needed = 0, uses_anonymous_args = 0
 345:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reass_helper *iprh, *iprh_tmp, *iprh_prev=NULL;
 703              		.loc 1 345 1 is_stmt 0 view .LVU191
 704 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 705              	.LCFI5:
 706              		.cfi_def_cfa_offset 32
 707              		.cfi_offset 3, -32
ARM GAS  /tmp/ccyZE1E6.s 			page 29


 708              		.cfi_offset 4, -28
 709              		.cfi_offset 5, -24
 710              		.cfi_offset 6, -20
 711              		.cfi_offset 7, -16
 712              		.cfi_offset 8, -12
 713              		.cfi_offset 9, -8
 714              		.cfi_offset 14, -4
 715 0004 8046     		mov	r8, r0
 716 0006 0F46     		mov	r7, r1
 717 0008 9146     		mov	r9, r2
 346:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct pbuf *q;
 718              		.loc 1 346 3 is_stmt 1 view .LVU192
 719              	.LVL74:
 347:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t offset, len;
 720              		.loc 1 347 3 view .LVU193
 348:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_hdr *fraghdr;
 721              		.loc 1 348 3 view .LVU194
 349:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   int valid = 1;
 722              		.loc 1 349 3 view .LVU195
 350:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 723              		.loc 1 350 3 view .LVU196
 353:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   len = lwip_ntohs(IPH_LEN(fraghdr)) - IPH_HL(fraghdr) * 4;
 724              		.loc 1 353 3 view .LVU197
 353:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   len = lwip_ntohs(IPH_LEN(fraghdr)) - IPH_HL(fraghdr) * 4;
 725              		.loc 1 353 11 is_stmt 0 view .LVU198
 726 000a 4C68     		ldr	r4, [r1, #4]
 727              	.LVL75:
 354:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   offset = (lwip_ntohs(IPH_OFFSET(fraghdr)) & IP_OFFMASK) * 8;
 728              		.loc 1 354 3 is_stmt 1 view .LVU199
 354:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   offset = (lwip_ntohs(IPH_OFFSET(fraghdr)) & IP_OFFMASK) * 8;
 729              		.loc 1 354 9 is_stmt 0 view .LVU200
 730 000c 6088     		ldrh	r0, [r4, #2]	@ unaligned
 731              	.LVL76:
 354:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   offset = (lwip_ntohs(IPH_OFFSET(fraghdr)) & IP_OFFMASK) * 8;
 732              		.loc 1 354 9 view .LVU201
 733 000e FFF7FEFF 		bl	lwip_htons
 734              	.LVL77:
 354:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   offset = (lwip_ntohs(IPH_OFFSET(fraghdr)) & IP_OFFMASK) * 8;
 735              		.loc 1 354 40 view .LVU202
 736 0012 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 354:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   offset = (lwip_ntohs(IPH_OFFSET(fraghdr)) & IP_OFFMASK) * 8;
 737              		.loc 1 354 38 view .LVU203
 738 0014 03F00F03 		and	r3, r3, #15
 354:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   offset = (lwip_ntohs(IPH_OFFSET(fraghdr)) & IP_OFFMASK) * 8;
 739              		.loc 1 354 7 view .LVU204
 740 0018 A0EB8303 		sub	r3, r0, r3, lsl #2
 741 001c 9EB2     		uxth	r6, r3
 742              	.LVL78:
 355:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 743              		.loc 1 355 3 is_stmt 1 view .LVU205
 355:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 744              		.loc 1 355 13 is_stmt 0 view .LVU206
 745 001e E088     		ldrh	r0, [r4, #6]	@ unaligned
 746 0020 FFF7FEFF 		bl	lwip_htons
 747              	.LVL79:
 355:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 748              		.loc 1 355 10 view .LVU207
ARM GAS  /tmp/ccyZE1E6.s 			page 30


 749 0024 C0F30C0C 		ubfx	ip, r0, #0, #13
 750 0028 4FEACC0C 		lsl	ip, ip, #3
 751              	.LVL80:
 360:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****               sizeof(struct ip_reass_helper) <= IP_HLEN);
 752              		.loc 1 360 3 is_stmt 1 view .LVU208
 360:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****               sizeof(struct ip_reass_helper) <= IP_HLEN);
 753              		.loc 1 360 3 view .LVU209
 360:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****               sizeof(struct ip_reass_helper) <= IP_HLEN);
 754              		.loc 1 360 3 view .LVU210
 360:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****               sizeof(struct ip_reass_helper) <= IP_HLEN);
 755              		.loc 1 360 3 view .LVU211
 362:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iprh->next_pbuf = NULL;
 756              		.loc 1 362 3 view .LVU212
 362:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iprh->next_pbuf = NULL;
 757              		.loc 1 362 8 is_stmt 0 view .LVU213
 758 002c 7D68     		ldr	r5, [r7, #4]
 759              	.LVL81:
 363:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iprh->start = offset;
 760              		.loc 1 363 3 is_stmt 1 view .LVU214
 363:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iprh->start = offset;
 761              		.loc 1 363 19 is_stmt 0 view .LVU215
 762 002e 0024     		movs	r4, #0
 763              	.LVL82:
 363:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iprh->start = offset;
 764              		.loc 1 363 19 view .LVU216
 765 0030 2C70     		strb	r4, [r5]
 766 0032 6C70     		strb	r4, [r5, #1]
 767 0034 AC70     		strb	r4, [r5, #2]
 768 0036 EC70     		strb	r4, [r5, #3]
 364:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iprh->end = offset + len;
 769              		.loc 1 364 3 is_stmt 1 view .LVU217
 364:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iprh->end = offset + len;
 770              		.loc 1 364 15 is_stmt 0 view .LVU218
 771 0038 A5F804C0 		strh	ip, [r5, #4]	@ unaligned
 365:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 772              		.loc 1 365 3 is_stmt 1 view .LVU219
 365:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 773              		.loc 1 365 22 is_stmt 0 view .LVU220
 774 003c 06EB0C03 		add	r3, r6, ip
 775 0040 98B2     		uxth	r0, r3
 365:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 776              		.loc 1 365 13 view .LVU221
 777 0042 EB80     		strh	r3, [r5, #6]	@ unaligned
 369:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iprh_tmp = (struct ip_reass_helper*)q->payload;
 778              		.loc 1 369 3 is_stmt 1 view .LVU222
 369:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iprh_tmp = (struct ip_reass_helper*)q->payload;
 779              		.loc 1 369 10 is_stmt 0 view .LVU223
 780 0044 D8F80410 		ldr	r1, [r8, #4]
 781              	.LVL83:
 350:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 782              		.loc 1 350 7 view .LVU224
 783 0048 0126     		movs	r6, #1
 784              	.LVL84:
 369:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iprh_tmp = (struct ip_reass_helper*)q->payload;
 785              		.loc 1 369 3 view .LVU225
 786 004a 1FE0     		b	.L57
 787              	.LVL85:
ARM GAS  /tmp/ccyZE1E6.s 			page 31


 788              	.L84:
 373:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (iprh_prev != NULL) {
 789              		.loc 1 373 7 is_stmt 1 view .LVU226
 373:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (iprh_prev != NULL) {
 790              		.loc 1 373 23 is_stmt 0 view .LVU227
 791 004c 2960     		str	r1, [r5]	@ unaligned
 374:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* not the fragment with the lowest offset */
 792              		.loc 1 374 7 is_stmt 1 view .LVU228
 374:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         /* not the fragment with the lowest offset */
 793              		.loc 1 374 10 is_stmt 0 view .LVU229
 794 004e ACB1     		cbz	r4, .L59
 377:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* fragment overlaps with previous or following, throw away */
 795              		.loc 1 377 9 is_stmt 1 view .LVU230
 377:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* fragment overlaps with previous or following, throw away */
 796              		.loc 1 377 37 is_stmt 0 view .LVU231
 797 0050 E288     		ldrh	r2, [r4, #6]	@ unaligned
 377:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* fragment overlaps with previous or following, throw away */
 798              		.loc 1 377 12 view .LVU232
 799 0052 6245     		cmp	r2, ip
 800 0054 7AD8     		bhi	.L60
 377:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* fragment overlaps with previous or following, throw away */
 801              		.loc 1 377 68 discriminator 1 view .LVU233
 802 0056 9B88     		ldrh	r3, [r3, #4]	@ unaligned
 803              	.LVL86:
 377:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* fragment overlaps with previous or following, throw away */
 804              		.loc 1 377 44 discriminator 1 view .LVU234
 805 0058 9842     		cmp	r0, r3
 806 005a 77D8     		bhi	.L60
 382:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (iprh_prev->end != iprh->start) {
 807              		.loc 1 382 9 is_stmt 1 view .LVU235
 382:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (iprh_prev->end != iprh->start) {
 808              		.loc 1 382 30 is_stmt 0 view .LVU236
 809 005c 2760     		str	r7, [r4]	@ unaligned
 383:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* There is a fragment missing between the current
 810              		.loc 1 383 9 is_stmt 1 view .LVU237
 383:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* There is a fragment missing between the current
 811              		.loc 1 383 35 is_stmt 0 view .LVU238
 812 005e AB88     		ldrh	r3, [r5, #4]	@ unaligned
 383:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* There is a fragment missing between the current
 813              		.loc 1 383 12 view .LVU239
 814 0060 9A42     		cmp	r2, r3
 815 0062 00D0     		beq	.L61
 386:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 816              		.loc 1 386 17 view .LVU240
 817 0064 0026     		movs	r6, #0
 818              	.LVL87:
 819              	.L61:
 422:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (iprh_prev != NULL) {
 820              		.loc 1 422 3 is_stmt 1 view .LVU241
 422:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (iprh_prev != NULL) {
 821              		.loc 1 422 6 is_stmt 0 view .LVU242
 822 0066 19B3     		cbz	r1, .L83
 823              	.LVL88:
 824              	.L64:
 445:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* and had no holes so far */
 825              		.loc 1 445 3 is_stmt 1 view .LVU243
 445:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* and had no holes so far */
ARM GAS  /tmp/ccyZE1E6.s 			page 32


 826              		.loc 1 445 6 is_stmt 0 view .LVU244
 827 0068 B9F1000F 		cmp	r9, #0
 828 006c 41D1     		bne	.L68
 445:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* and had no holes so far */
 829              		.loc 1 445 23 discriminator 1 view .LVU245
 830 006e 98F81E30 		ldrb	r3, [r8, #30]	@ zero_extendqisi2
 445:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* and had no holes so far */
 831              		.loc 1 445 15 discriminator 1 view .LVU246
 832 0072 13F0010F 		tst	r3, #1
 833 0076 3CD1     		bne	.L68
 482:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_CHECK_OVERLAP
 834              		.loc 1 482 10 view .LVU247
 835 0078 4846     		mov	r0, r9
 836 007a 73E0     		b	.L56
 837              	.LVL89:
 838              	.L59:
 390:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* fragment overlaps with following, throw away */
 839              		.loc 1 390 9 is_stmt 1 view .LVU248
 390:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* fragment overlaps with following, throw away */
 840              		.loc 1 390 33 is_stmt 0 view .LVU249
 841 007c 9B88     		ldrh	r3, [r3, #4]	@ unaligned
 842              	.LVL90:
 390:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* fragment overlaps with following, throw away */
 843              		.loc 1 390 12 view .LVU250
 844 007e 9842     		cmp	r0, r3
 845 0080 64D8     		bhi	.L60
 396:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 846              		.loc 1 396 9 is_stmt 1 view .LVU251
 396:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 847              		.loc 1 396 16 is_stmt 0 view .LVU252
 848 0082 C8F80470 		str	r7, [r8, #4]
 849 0086 EEE7     		b	.L61
 850              	.LVL91:
 851              	.L62:
 417:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iprh_prev = iprh_tmp;
 852              		.loc 1 417 5 is_stmt 1 view .LVU253
 417:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iprh_prev = iprh_tmp;
 853              		.loc 1 417 7 is_stmt 0 view .LVU254
 854 0088 1968     		ldr	r1, [r3]	@ unaligned
 855              	.LVL92:
 418:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 856              		.loc 1 418 5 is_stmt 1 view .LVU255
 418:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 857              		.loc 1 418 15 is_stmt 0 view .LVU256
 858 008a 1C46     		mov	r4, r3
 859              	.LVL93:
 860              	.L57:
 369:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iprh_tmp = (struct ip_reass_helper*)q->payload;
 861              		.loc 1 369 20 is_stmt 1 discriminator 1 view .LVU257
 369:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iprh_tmp = (struct ip_reass_helper*)q->payload;
 862              		.loc 1 369 3 is_stmt 0 discriminator 1 view .LVU258
 863 008c 0029     		cmp	r1, #0
 864 008e EAD0     		beq	.L61
 370:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (iprh->start < iprh_tmp->start) {
 865              		.loc 1 370 5 is_stmt 1 view .LVU259
 370:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (iprh->start < iprh_tmp->start) {
 866              		.loc 1 370 14 is_stmt 0 view .LVU260
ARM GAS  /tmp/ccyZE1E6.s 			page 33


 867 0090 4B68     		ldr	r3, [r1, #4]
 868              	.LVL94:
 371:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* the new pbuf should be inserted before this */
 869              		.loc 1 371 5 is_stmt 1 view .LVU261
 371:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* the new pbuf should be inserted before this */
 870              		.loc 1 371 31 is_stmt 0 view .LVU262
 871 0092 9A88     		ldrh	r2, [r3, #4]	@ unaligned
 371:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* the new pbuf should be inserted before this */
 872              		.loc 1 371 8 view .LVU263
 873 0094 6245     		cmp	r2, ip
 874 0096 D9D8     		bhi	.L84
 399:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* received the same datagram twice: no need to keep the datagram */
 875              		.loc 1 399 12 is_stmt 1 view .LVU264
 399:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* received the same datagram twice: no need to keep the datagram */
 876              		.loc 1 399 15 is_stmt 0 view .LVU265
 877 0098 6245     		cmp	r2, ip
 878 009a 57D0     		beq	.L60
 403:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* overlap: no need to keep the new datagram */
 879              		.loc 1 403 12 is_stmt 1 view .LVU266
 403:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* overlap: no need to keep the new datagram */
 880              		.loc 1 403 38 is_stmt 0 view .LVU267
 881 009c D988     		ldrh	r1, [r3, #6]	@ unaligned
 882              	.LVL95:
 403:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* overlap: no need to keep the new datagram */
 883              		.loc 1 403 15 view .LVU268
 884 009e 6145     		cmp	r1, ip
 885 00a0 54D8     		bhi	.L60
 409:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (iprh_prev->end != iprh_tmp->start) {
 886              		.loc 1 409 7 is_stmt 1 view .LVU269
 409:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (iprh_prev->end != iprh_tmp->start) {
 887              		.loc 1 409 10 is_stmt 0 view .LVU270
 888 00a2 002C     		cmp	r4, #0
 889 00a4 F0D0     		beq	.L62
 410:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* There is a fragment missing between the current
 890              		.loc 1 410 9 is_stmt 1 view .LVU271
 410:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* There is a fragment missing between the current
 891              		.loc 1 410 22 is_stmt 0 view .LVU272
 892 00a6 E188     		ldrh	r1, [r4, #6]	@ unaligned
 410:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           /* There is a fragment missing between the current
 893              		.loc 1 410 12 view .LVU273
 894 00a8 8A42     		cmp	r2, r1
 895 00aa EDD0     		beq	.L62
 413:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 896              		.loc 1 413 17 view .LVU274
 897 00ac 0026     		movs	r6, #0
 898              	.LVL96:
 413:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 899              		.loc 1 413 17 view .LVU275
 900 00ae EBE7     		b	.L62
 901              	.LVL97:
 902              	.L83:
 423:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* this is (for now), the fragment with the highest offset:
 903              		.loc 1 423 5 is_stmt 1 view .LVU276
 423:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* this is (for now), the fragment with the highest offset:
 904              		.loc 1 423 8 is_stmt 0 view .LVU277
 905 00b0 94B1     		cbz	r4, .L65
 427:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
ARM GAS  /tmp/ccyZE1E6.s 			page 34


 906              		.loc 1 427 7 is_stmt 1 view .LVU278
 427:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 907              		.loc 1 427 7 view .LVU279
 908 00b2 E288     		ldrh	r2, [r4, #6]	@ unaligned
 909 00b4 AB88     		ldrh	r3, [r5, #4]	@ unaligned
 910 00b6 9A42     		cmp	r2, r3
 911 00b8 06D8     		bhi	.L85
 912              	.LVL98:
 913              	.L66:
 427:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 914              		.loc 1 427 7 discriminator 3 view .LVU280
 427:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 915              		.loc 1 427 7 discriminator 3 view .LVU281
 429:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (iprh_prev->end != iprh->start) {
 916              		.loc 1 429 7 discriminator 3 view .LVU282
 429:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (iprh_prev->end != iprh->start) {
 917              		.loc 1 429 28 is_stmt 0 discriminator 3 view .LVU283
 918 00ba 2760     		str	r7, [r4]	@ unaligned
 430:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         valid = 0;
 919              		.loc 1 430 7 is_stmt 1 discriminator 3 view .LVU284
 430:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         valid = 0;
 920              		.loc 1 430 20 is_stmt 0 discriminator 3 view .LVU285
 921 00bc E288     		ldrh	r2, [r4, #6]	@ unaligned
 430:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         valid = 0;
 922              		.loc 1 430 33 discriminator 3 view .LVU286
 923 00be AB88     		ldrh	r3, [r5, #4]	@ unaligned
 430:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         valid = 0;
 924              		.loc 1 430 10 discriminator 3 view .LVU287
 925 00c0 9A42     		cmp	r2, r3
 926 00c2 D1D0     		beq	.L64
 431:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 927              		.loc 1 431 15 view .LVU288
 928 00c4 0026     		movs	r6, #0
 929              	.LVL99:
 431:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 930              		.loc 1 431 15 view .LVU289
 931 00c6 CFE7     		b	.L64
 932              	.LVL100:
 933              	.L85:
 427:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 934              		.loc 1 427 7 is_stmt 1 discriminator 1 view .LVU290
 427:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 935              		.loc 1 427 7 discriminator 1 view .LVU291
 936 00c8 274B     		ldr	r3, .L87
 937 00ca 40F2AB12 		movw	r2, #427
 938 00ce 2749     		ldr	r1, .L87+4
 939              	.LVL101:
 427:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 940              		.loc 1 427 7 is_stmt 0 discriminator 1 view .LVU292
 941 00d0 2748     		ldr	r0, .L87+8
 942 00d2 FFF7FEFF 		bl	printf
 943              	.LVL102:
 427:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 944              		.loc 1 427 7 discriminator 1 view .LVU293
 945 00d6 F0E7     		b	.L66
 946              	.LVL103:
 947              	.L65:
ARM GAS  /tmp/ccyZE1E6.s 			page 35


 435:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ipr->p == NULL);
 948              		.loc 1 435 7 is_stmt 1 view .LVU294
 435:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ipr->p == NULL);
 949              		.loc 1 435 7 view .LVU295
 950 00d8 D8F80430 		ldr	r3, [r8, #4]
 951 00dc 33B1     		cbz	r3, .L67
 435:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ipr->p == NULL);
 952              		.loc 1 435 7 discriminator 1 view .LVU296
 435:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ipr->p == NULL);
 953              		.loc 1 435 7 discriminator 1 view .LVU297
 954 00de 224B     		ldr	r3, .L87
 955 00e0 40F2B312 		movw	r2, #435
 956 00e4 2349     		ldr	r1, .L87+12
 957              	.LVL104:
 435:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ipr->p == NULL);
 958              		.loc 1 435 7 is_stmt 0 discriminator 1 view .LVU298
 959 00e6 2248     		ldr	r0, .L87+8
 960 00e8 FFF7FEFF 		bl	printf
 961              	.LVL105:
 962              	.L67:
 435:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ipr->p == NULL);
 963              		.loc 1 435 7 is_stmt 1 discriminator 3 view .LVU299
 435:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ipr->p == NULL);
 964              		.loc 1 435 7 discriminator 3 view .LVU300
 439:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 965              		.loc 1 439 7 discriminator 3 view .LVU301
 439:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 966              		.loc 1 439 14 is_stmt 0 discriminator 3 view .LVU302
 967 00ec C8F80470 		str	r7, [r8, #4]
 968 00f0 BAE7     		b	.L64
 969              	.L68:
 447:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* then check if the rest of the fragments is here */
 970              		.loc 1 447 5 is_stmt 1 view .LVU303
 447:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* then check if the rest of the fragments is here */
 971              		.loc 1 447 8 is_stmt 0 view .LVU304
 972 00f2 4EB3     		cbz	r6, .L70
 450:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         valid = 0;
 973              		.loc 1 450 7 is_stmt 1 view .LVU305
 450:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         valid = 0;
 974              		.loc 1 450 15 is_stmt 0 view .LVU306
 975 00f4 D8F80430 		ldr	r3, [r8, #4]
 450:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         valid = 0;
 976              		.loc 1 450 10 view .LVU307
 977 00f8 1BB3     		cbz	r3, .L79
 450:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         valid = 0;
 978              		.loc 1 450 64 discriminator 1 view .LVU308
 979 00fa 5868     		ldr	r0, [r3, #4]
 450:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         valid = 0;
 980              		.loc 1 450 74 discriminator 1 view .LVU309
 981 00fc 8388     		ldrh	r3, [r0, #4]	@ unaligned
 450:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         valid = 0;
 982              		.loc 1 450 28 discriminator 1 view .LVU310
 983 00fe 13BB     		cbnz	r3, .L80
 454:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         q = iprh->next_pbuf;
 984              		.loc 1 454 9 is_stmt 1 view .LVU311
 985              	.LVL106:
 455:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         while (q != NULL) {
ARM GAS  /tmp/ccyZE1E6.s 			page 36


 986              		.loc 1 455 9 view .LVU312
 455:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         while (q != NULL) {
 987              		.loc 1 455 11 is_stmt 0 view .LVU313
 988 0100 2A68     		ldr	r2, [r5]	@ unaligned
 989              	.LVL107:
 456:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           iprh = (struct ip_reass_helper*)q->payload;
 990              		.loc 1 456 9 is_stmt 1 view .LVU314
 991              	.L71:
 456:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           iprh = (struct ip_reass_helper*)q->payload;
 992              		.loc 1 456 15 view .LVU315
 993 0102 4AB1     		cbz	r2, .L72
 457:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           if (iprh_prev->end != iprh->start) {
 994              		.loc 1 457 11 view .LVU316
 457:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           if (iprh_prev->end != iprh->start) {
 995              		.loc 1 457 16 is_stmt 0 view .LVU317
 996 0104 5368     		ldr	r3, [r2, #4]
 997              	.LVL108:
 458:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             valid = 0;
 998              		.loc 1 458 11 is_stmt 1 view .LVU318
 458:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             valid = 0;
 999              		.loc 1 458 24 is_stmt 0 view .LVU319
 1000 0106 E988     		ldrh	r1, [r5, #6]	@ unaligned
 458:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             valid = 0;
 1001              		.loc 1 458 37 view .LVU320
 1002 0108 9A88     		ldrh	r2, [r3, #4]	@ unaligned
 1003              	.LVL109:
 458:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             valid = 0;
 1004              		.loc 1 458 14 view .LVU321
 1005 010a 9142     		cmp	r1, r2
 1006 010c 02D1     		bne	.L81
 462:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           q = iprh->next_pbuf;
 1007              		.loc 1 462 11 is_stmt 1 view .LVU322
 1008              	.LVL110:
 463:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 1009              		.loc 1 463 11 view .LVU323
 463:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         }
 1010              		.loc 1 463 13 is_stmt 0 view .LVU324
 1011 010e 1A68     		ldr	r2, [r3]	@ unaligned
 1012              	.LVL111:
 457:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           if (iprh_prev->end != iprh->start) {
 1013              		.loc 1 457 16 view .LVU325
 1014 0110 1D46     		mov	r5, r3
 1015 0112 F6E7     		b	.L71
 1016              	.LVL112:
 1017              	.L81:
 457:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           if (iprh_prev->end != iprh->start) {
 1018              		.loc 1 457 16 view .LVU326
 1019 0114 1D46     		mov	r5, r3
 1020              	.LVL113:
 459:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             break;
 1021              		.loc 1 459 19 view .LVU327
 1022 0116 0026     		movs	r6, #0
 1023              	.LVL114:
 1024              	.L72:
 467:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           LWIP_ASSERT("sanity check", ipr->p != NULL);
 1025              		.loc 1 467 9 is_stmt 1 view .LVU328
 467:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           LWIP_ASSERT("sanity check", ipr->p != NULL);
ARM GAS  /tmp/ccyZE1E6.s 			page 37


 1026              		.loc 1 467 12 is_stmt 0 view .LVU329
 1027 0118 B6B1     		cbz	r6, .L70
 468:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           LWIP_ASSERT("sanity check",
 1028              		.loc 1 468 11 is_stmt 1 discriminator 3 view .LVU330
 468:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           LWIP_ASSERT("sanity check",
 1029              		.loc 1 468 11 discriminator 3 view .LVU331
 468:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           LWIP_ASSERT("sanity check",
 1030              		.loc 1 468 11 discriminator 3 view .LVU332
 468:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           LWIP_ASSERT("sanity check",
 1031              		.loc 1 468 11 discriminator 3 view .LVU333
 469:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             ((struct ip_reass_helper*)ipr->p->payload) != iprh);
 1032              		.loc 1 469 11 discriminator 3 view .LVU334
 469:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             ((struct ip_reass_helper*)ipr->p->payload) != iprh);
 1033              		.loc 1 469 11 discriminator 3 view .LVU335
 1034 011a A842     		cmp	r0, r5
 1035 011c 09D0     		beq	.L86
 1036              	.L74:
 469:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             ((struct ip_reass_helper*)ipr->p->payload) != iprh);
 1037              		.loc 1 469 11 discriminator 3 view .LVU336
 469:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             ((struct ip_reass_helper*)ipr->p->payload) != iprh);
 1038              		.loc 1 469 11 discriminator 3 view .LVU337
 471:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             iprh->next_pbuf == NULL);
 1039              		.loc 1 471 11 discriminator 3 view .LVU338
 471:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             iprh->next_pbuf == NULL);
 1040              		.loc 1 471 11 discriminator 3 view .LVU339
 1041 011e 2B68     		ldr	r3, [r5]	@ unaligned
 1042 0120 93B1     		cbz	r3, .L70
 471:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             iprh->next_pbuf == NULL);
 1043              		.loc 1 471 11 discriminator 1 view .LVU340
 471:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             iprh->next_pbuf == NULL);
 1044              		.loc 1 471 11 discriminator 1 view .LVU341
 1045 0122 114B     		ldr	r3, .L87
 1046 0124 40F2D712 		movw	r2, #471
 1047 0128 1349     		ldr	r1, .L87+16
 1048 012a 1148     		ldr	r0, .L87+8
 1049 012c FFF7FEFF 		bl	printf
 1050              	.LVL115:
 1051 0130 0AE0     		b	.L70
 1052              	.L86:
 469:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             ((struct ip_reass_helper*)ipr->p->payload) != iprh);
 1053              		.loc 1 469 11 discriminator 1 view .LVU342
 469:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             ((struct ip_reass_helper*)ipr->p->payload) != iprh);
 1054              		.loc 1 469 11 discriminator 1 view .LVU343
 1055 0132 0D4B     		ldr	r3, .L87
 1056 0134 40F2D512 		movw	r2, #469
 1057 0138 1049     		ldr	r1, .L87+20
 1058 013a 0D48     		ldr	r0, .L87+8
 1059 013c FFF7FEFF 		bl	printf
 1060              	.LVL116:
 1061 0140 EDE7     		b	.L74
 1062              	.LVL117:
 1063              	.L79:
 451:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       } else {
 1064              		.loc 1 451 15 is_stmt 0 view .LVU344
 1065 0142 0026     		movs	r6, #0
 1066              	.LVL118:
 451:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       } else {
ARM GAS  /tmp/ccyZE1E6.s 			page 38


 1067              		.loc 1 451 15 view .LVU345
 1068 0144 00E0     		b	.L70
 1069              	.LVL119:
 1070              	.L80:
 451:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       } else {
 1071              		.loc 1 451 15 view .LVU346
 1072 0146 0026     		movs	r6, #0
 1073              	.LVL120:
 1074              	.L70:
 471:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             iprh->next_pbuf == NULL);
 1075              		.loc 1 471 11 is_stmt 1 discriminator 3 view .LVU347
 471:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****             iprh->next_pbuf == NULL);
 1076              		.loc 1 471 11 discriminator 3 view .LVU348
 479:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 1077              		.loc 1 479 5 discriminator 3 view .LVU349
 479:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 1078              		.loc 1 479 56 is_stmt 0 discriminator 3 view .LVU350
 1079 0148 3046     		mov	r0, r6
 1080 014a 0BE0     		b	.L56
 1081              	.LVL121:
 1082              	.L60:
 485:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   pbuf_free(new_p);
 1083              		.loc 1 485 3 is_stmt 1 view .LVU351
 485:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   pbuf_free(new_p);
 1084              		.loc 1 485 25 is_stmt 0 view .LVU352
 1085 014c 3846     		mov	r0, r7
 1086 014e FFF7FEFF 		bl	pbuf_clen
 1087              	.LVL122:
 485:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   pbuf_free(new_p);
 1088              		.loc 1 485 22 view .LVU353
 1089 0152 0B4A     		ldr	r2, .L87+24
 1090 0154 1388     		ldrh	r3, [r2]
 1091 0156 1B1A     		subs	r3, r3, r0
 1092 0158 1380     		strh	r3, [r2]	@ movhi
 486:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return IP_REASS_VALIDATE_PBUF_DROPPED;
 1093              		.loc 1 486 3 is_stmt 1 view .LVU354
 1094 015a 3846     		mov	r0, r7
 1095 015c FFF7FEFF 		bl	pbuf_free
 1096              	.LVL123:
 487:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 1097              		.loc 1 487 3 view .LVU355
 487:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_CHECK_OVERLAP */
 1098              		.loc 1 487 10 is_stmt 0 view .LVU356
 1099 0160 4FF0FF30 		mov	r0, #-1
 1100              	.LVL124:
 1101              	.L56:
 489:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1102              		.loc 1 489 1 view .LVU357
 1103 0164 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 1104              	.LVL125:
 1105              	.L88:
 489:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1106              		.loc 1 489 1 view .LVU358
 1107              		.align	2
 1108              	.L87:
 1109 0168 00000000 		.word	.LC0
 1110 016c 00000000 		.word	.LC9
ARM GAS  /tmp/ccyZE1E6.s 			page 39


 1111 0170 54000000 		.word	.LC2
 1112 0174 20000000 		.word	.LC10
 1113 0178 68000000 		.word	.LC12
 1114 017c 58000000 		.word	.LC11
 1115 0180 00000000 		.word	.LANCHOR1
 1116              		.cfi_endproc
 1117              	.LFE102:
 1119              		.section	.text.ip_frag_alloc_pbuf_custom_ref,"ax",%progbits
 1120              		.align	1
 1121              		.syntax unified
 1122              		.thumb
 1123              		.thumb_func
 1125              	ip_frag_alloc_pbuf_custom_ref:
 1126              	.LFB104:
 678:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return (struct pbuf_custom_ref*)memp_malloc(MEMP_FRAG_PBUF);
 1127              		.loc 1 678 1 is_stmt 1 view -0
 1128              		.cfi_startproc
 1129              		@ args = 0, pretend = 0, frame = 0
 1130              		@ frame_needed = 0, uses_anonymous_args = 0
 1131 0000 08B5     		push	{r3, lr}
 1132              	.LCFI6:
 1133              		.cfi_def_cfa_offset 8
 1134              		.cfi_offset 3, -8
 1135              		.cfi_offset 14, -4
 679:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 1136              		.loc 1 679 3 view .LVU360
 679:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 1137              		.loc 1 679 35 is_stmt 0 view .LVU361
 1138 0002 0520     		movs	r0, #5
 1139 0004 FFF7FEFF 		bl	memp_malloc
 1140              	.LVL126:
 680:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1141              		.loc 1 680 1 view .LVU362
 1142 0008 08BD     		pop	{r3, pc}
 1143              		.cfi_endproc
 1144              	.LFE104:
 1146              		.section	.text.ip_reass_enqueue_new_datagram,"ax",%progbits
 1147              		.align	1
 1148              		.syntax unified
 1149              		.thumb
 1150              		.thumb_func
 1152              	ip_reass_enqueue_new_datagram:
 1153              	.LVL127:
 1154              	.LFB100:
 279:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reassdata* ipr;
 1155              		.loc 1 279 1 is_stmt 1 view -0
 1156              		.cfi_startproc
 1157              		@ args = 0, pretend = 0, frame = 0
 1158              		@ frame_needed = 0, uses_anonymous_args = 0
 279:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reassdata* ipr;
 1159              		.loc 1 279 1 is_stmt 0 view .LVU364
 1160 0000 70B5     		push	{r4, r5, r6, lr}
 1161              	.LCFI7:
 1162              		.cfi_def_cfa_offset 16
 1163              		.cfi_offset 4, -16
 1164              		.cfi_offset 5, -12
 1165              		.cfi_offset 6, -8
ARM GAS  /tmp/ccyZE1E6.s 			page 40


 1166              		.cfi_offset 14, -4
 1167 0002 0546     		mov	r5, r0
 1168 0004 0E46     		mov	r6, r1
 280:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if ! IP_REASS_FREE_OLDEST
 1169              		.loc 1 280 3 is_stmt 1 view .LVU365
 286:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (ipr == NULL) {
 1170              		.loc 1 286 3 view .LVU366
 286:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (ipr == NULL) {
 1171              		.loc 1 286 32 is_stmt 0 view .LVU367
 1172 0006 0420     		movs	r0, #4
 1173              	.LVL128:
 286:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (ipr == NULL) {
 1174              		.loc 1 286 32 view .LVU368
 1175 0008 FFF7FEFF 		bl	memp_malloc
 1176              	.LVL129:
 287:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_FREE_OLDEST
 1177              		.loc 1 287 3 is_stmt 1 view .LVU369
 287:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_FREE_OLDEST
 1178              		.loc 1 287 6 is_stmt 0 view .LVU370
 1179 000c 0446     		mov	r4, r0
 1180 000e B0B1     		cbz	r0, .L96
 1181              	.LVL130:
 1182              	.L92:
 300:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ipr->timer = IP_REASS_MAXAGE;
 1183              		.loc 1 300 3 is_stmt 1 view .LVU371
 1184 0010 2022     		movs	r2, #32
 1185 0012 0021     		movs	r1, #0
 1186 0014 2046     		mov	r0, r4
 1187 0016 FFF7FEFF 		bl	memset
 1188              	.LVL131:
 301:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1189              		.loc 1 301 3 view .LVU372
 301:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1190              		.loc 1 301 14 is_stmt 0 view .LVU373
 1191 001a 0323     		movs	r3, #3
 1192 001c E377     		strb	r3, [r4, #31]
 304:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   reassdatagrams = ipr;
 1193              		.loc 1 304 3 is_stmt 1 view .LVU374
 304:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   reassdatagrams = ipr;
 1194              		.loc 1 304 13 is_stmt 0 view .LVU375
 1195 001e 0F4B     		ldr	r3, .L98
 1196 0020 1A68     		ldr	r2, [r3]
 1197 0022 2260     		str	r2, [r4]
 305:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* copy the ip header for later tests and input */
 1198              		.loc 1 305 3 is_stmt 1 view .LVU376
 305:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* copy the ip header for later tests and input */
 1199              		.loc 1 305 18 is_stmt 0 view .LVU377
 1200 0024 1C60     		str	r4, [r3]
 308:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return ipr;
 1201              		.loc 1 308 3 is_stmt 1 view .LVU378
 1202 0026 2B68     		ldr	r3, [r5]	@ unaligned
 1203 0028 6868     		ldr	r0, [r5, #4]	@ unaligned
 1204 002a A968     		ldr	r1, [r5, #8]	@ unaligned
 1205 002c EA68     		ldr	r2, [r5, #12]	@ unaligned
 1206 002e A360     		str	r3, [r4, #8]	@ unaligned
 1207 0030 E060     		str	r0, [r4, #12]	@ unaligned
 1208 0032 2161     		str	r1, [r4, #16]	@ unaligned
ARM GAS  /tmp/ccyZE1E6.s 			page 41


 1209 0034 6261     		str	r2, [r4, #20]	@ unaligned
 1210 0036 2B69     		ldr	r3, [r5, #16]	@ unaligned
 1211 0038 A361     		str	r3, [r4, #24]	@ unaligned
 309:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 1212              		.loc 1 309 3 view .LVU379
 1213              	.L91:
 310:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1214              		.loc 1 310 1 is_stmt 0 view .LVU380
 1215 003a 2046     		mov	r0, r4
 1216 003c 70BD     		pop	{r4, r5, r6, pc}
 1217              	.LVL132:
 1218              	.L96:
 289:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ipr = (struct ip_reassdata *)memp_malloc(MEMP_REASSDATA);
 1219              		.loc 1 289 5 is_stmt 1 view .LVU381
 289:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ipr = (struct ip_reassdata *)memp_malloc(MEMP_REASSDATA);
 1220              		.loc 1 289 9 is_stmt 0 view .LVU382
 1221 003e 3146     		mov	r1, r6
 1222 0040 2846     		mov	r0, r5
 1223              	.LVL133:
 289:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ipr = (struct ip_reassdata *)memp_malloc(MEMP_REASSDATA);
 1224              		.loc 1 289 9 view .LVU383
 1225 0042 FFF7FEFF 		bl	ip_reass_remove_oldest_datagram
 1226              	.LVL134:
 289:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ipr = (struct ip_reassdata *)memp_malloc(MEMP_REASSDATA);
 1227              		.loc 1 289 8 view .LVU384
 1228 0046 B042     		cmp	r0, r6
 1229 0048 02DA     		bge	.L97
 1230              	.L93:
 292:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_FREE_OLDEST */
 1231              		.loc 1 292 5 is_stmt 1 view .LVU385
 292:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_FREE_OLDEST */
 1232              		.loc 1 292 8 is_stmt 0 view .LVU386
 1233 004a 002C     		cmp	r4, #0
 1234 004c E0D1     		bne	.L92
 292:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_FREE_OLDEST */
 1235              		.loc 1 292 8 view .LVU387
 1236 004e F4E7     		b	.L91
 1237              	.L97:
 290:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 1238              		.loc 1 290 7 is_stmt 1 view .LVU388
 290:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 1239              		.loc 1 290 36 is_stmt 0 view .LVU389
 1240 0050 0420     		movs	r0, #4
 1241 0052 FFF7FEFF 		bl	memp_malloc
 1242              	.LVL135:
 1243 0056 0446     		mov	r4, r0
 1244              	.LVL136:
 290:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 1245              		.loc 1 290 36 view .LVU390
 1246 0058 F7E7     		b	.L93
 1247              	.L99:
 1248 005a 00BF     		.align	2
 1249              	.L98:
 1250 005c 00000000 		.word	.LANCHOR0
 1251              		.cfi_endproc
 1252              	.LFE100:
 1254              		.section	.text.ip_reass_tmr,"ax",%progbits
ARM GAS  /tmp/ccyZE1E6.s 			page 42


 1255              		.align	1
 1256              		.global	ip_reass_tmr
 1257              		.syntax unified
 1258              		.thumb
 1259              		.thumb_func
 1261              	ip_reass_tmr:
 1262              	.LFB97:
 129:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reassdata *r, *prev = NULL;
 1263              		.loc 1 129 1 is_stmt 1 view -0
 1264              		.cfi_startproc
 1265              		@ args = 0, pretend = 0, frame = 0
 1266              		@ frame_needed = 0, uses_anonymous_args = 0
 1267 0000 38B5     		push	{r3, r4, r5, lr}
 1268              	.LCFI8:
 1269              		.cfi_def_cfa_offset 16
 1270              		.cfi_offset 3, -16
 1271              		.cfi_offset 4, -12
 1272              		.cfi_offset 5, -8
 1273              		.cfi_offset 14, -4
 130:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1274              		.loc 1 130 3 view .LVU392
 1275              	.LVL137:
 132:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   while (r != NULL) {
 1276              		.loc 1 132 3 view .LVU393
 132:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   while (r != NULL) {
 1277              		.loc 1 132 5 is_stmt 0 view .LVU394
 1278 0002 094B     		ldr	r3, .L108
 1279 0004 1868     		ldr	r0, [r3]
 1280              	.LVL138:
 133:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Decrement the timer. Once it reaches 0,
 1281              		.loc 1 133 3 is_stmt 1 view .LVU395
 130:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1282              		.loc 1 130 28 is_stmt 0 view .LVU396
 1283 0006 0024     		movs	r4, #0
 133:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Decrement the timer. Once it reaches 0,
 1284              		.loc 1 133 9 view .LVU397
 1285 0008 03E0     		b	.L101
 1286              	.LVL139:
 1287              	.L107:
 137:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG, ("ip_reass_tmr: timer dec %"U16_F"\n",(u16_t)r->timer));
 1288              		.loc 1 137 7 is_stmt 1 view .LVU398
 137:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG, ("ip_reass_tmr: timer dec %"U16_F"\n",(u16_t)r->timer));
 1289              		.loc 1 137 15 is_stmt 0 view .LVU399
 1290 000a 013B     		subs	r3, r3, #1
 1291 000c C377     		strb	r3, [r0, #31]
 138:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       prev = r;
 1292              		.loc 1 138 90 is_stmt 1 view .LVU400
 139:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       r = r->next;
 1293              		.loc 1 139 7 view .LVU401
 1294              	.LVL140:
 140:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     } else {
 1295              		.loc 1 140 7 view .LVU402
 139:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       r = r->next;
 1296              		.loc 1 139 12 is_stmt 0 view .LVU403
 1297 000e 0446     		mov	r4, r0
 140:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     } else {
 1298              		.loc 1 140 9 view .LVU404
ARM GAS  /tmp/ccyZE1E6.s 			page 43


 1299 0010 0068     		ldr	r0, [r0]
 1300              	.LVL141:
 1301              	.L101:
 133:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Decrement the timer. Once it reaches 0,
 1302              		.loc 1 133 9 is_stmt 1 view .LVU405
 1303 0012 40B1     		cbz	r0, .L106
 136:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       r->timer--;
 1304              		.loc 1 136 5 view .LVU406
 136:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       r->timer--;
 1305              		.loc 1 136 10 is_stmt 0 view .LVU407
 1306 0014 C37F     		ldrb	r3, [r0, #31]	@ zero_extendqisi2
 136:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       r->timer--;
 1307              		.loc 1 136 8 view .LVU408
 1308 0016 002B     		cmp	r3, #0
 1309 0018 F7D1     		bne	.L107
 1310              	.LBB4:
 143:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG, ("ip_reass_tmr: timer timed out\n"));
 1311              		.loc 1 143 7 is_stmt 1 view .LVU409
 144:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       tmp = r;
 1312              		.loc 1 144 71 view .LVU410
 145:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* get the next pointer before freeing */
 1313              		.loc 1 145 7 view .LVU411
 1314              	.LVL142:
 147:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* free the helper struct and all enqueued pbufs */
 1315              		.loc 1 147 7 view .LVU412
 147:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* free the helper struct and all enqueued pbufs */
 1316              		.loc 1 147 9 is_stmt 0 view .LVU413
 1317 001a 0568     		ldr	r5, [r0]
 1318              	.LVL143:
 149:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      }
 1319              		.loc 1 149 7 is_stmt 1 view .LVU414
 1320 001c 2146     		mov	r1, r4
 1321 001e FFF7FEFF 		bl	ip_reass_free_complete_datagram
 1322              	.LVL144:
 147:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* free the helper struct and all enqueued pbufs */
 1323              		.loc 1 147 9 is_stmt 0 view .LVU415
 1324 0022 2846     		mov	r0, r5
 1325 0024 F5E7     		b	.L101
 1326              	.LVL145:
 1327              	.L106:
 147:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* free the helper struct and all enqueued pbufs */
 1328              		.loc 1 147 9 view .LVU416
 1329              	.LBE4:
 152:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1330              		.loc 1 152 1 view .LVU417
 1331 0026 38BD     		pop	{r3, r4, r5, pc}
 1332              	.LVL146:
 1333              	.L109:
 152:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1334              		.loc 1 152 1 view .LVU418
 1335              		.align	2
 1336              	.L108:
 1337 0028 00000000 		.word	.LANCHOR0
 1338              		.cfi_endproc
 1339              	.LFE97:
 1341              		.section	.text.ip4_reass,"ax",%progbits
 1342              		.align	1
ARM GAS  /tmp/ccyZE1E6.s 			page 44


 1343              		.global	ip4_reass
 1344              		.syntax unified
 1345              		.thumb
 1346              		.thumb_func
 1348              	ip4_reass:
 1349              	.LVL147:
 1350              	.LFB103:
 499:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct pbuf *r;
 1351              		.loc 1 499 1 is_stmt 1 view -0
 1352              		.cfi_startproc
 1353              		@ args = 0, pretend = 0, frame = 0
 1354              		@ frame_needed = 0, uses_anonymous_args = 0
 499:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct pbuf *r;
 1355              		.loc 1 499 1 is_stmt 0 view .LVU420
 1356 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 1357              	.LCFI9:
 1358              		.cfi_def_cfa_offset 32
 1359              		.cfi_offset 3, -32
 1360              		.cfi_offset 4, -28
 1361              		.cfi_offset 5, -24
 1362              		.cfi_offset 6, -20
 1363              		.cfi_offset 7, -16
 1364              		.cfi_offset 8, -12
 1365              		.cfi_offset 9, -8
 1366              		.cfi_offset 14, -4
 1367 0004 0646     		mov	r6, r0
 500:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_hdr *fraghdr;
 1368              		.loc 1 500 3 is_stmt 1 view .LVU421
 501:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reassdata *ipr;
 1369              		.loc 1 501 3 view .LVU422
 502:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_reass_helper *iprh;
 1370              		.loc 1 502 3 view .LVU423
 503:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t offset, len, clen;
 1371              		.loc 1 503 3 view .LVU424
 504:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   int valid;
 1372              		.loc 1 504 3 view .LVU425
 505:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   int is_last;
 1373              		.loc 1 505 3 view .LVU426
 506:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1374              		.loc 1 506 3 view .LVU427
 508:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   MIB2_STATS_INC(mib2.ipreasmreqds);
 1375              		.loc 1 508 33 view .LVU428
 509:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1376              		.loc 1 509 36 view .LVU429
 511:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1377              		.loc 1 511 3 view .LVU430
 511:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1378              		.loc 1 511 11 is_stmt 0 view .LVU431
 1379 0006 4568     		ldr	r5, [r0, #4]
 1380              	.LVL148:
 513:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_DEBUGF(IP_REASS_DEBUG,("ip4_reass: IP options currently not supported!\n"));
 1381              		.loc 1 513 3 is_stmt 1 view .LVU432
 513:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_DEBUGF(IP_REASS_DEBUG,("ip4_reass: IP options currently not supported!\n"));
 1382              		.loc 1 513 8 is_stmt 0 view .LVU433
 1383 0008 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 1384 000a 03F00F03 		and	r3, r3, #15
 513:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_DEBUGF(IP_REASS_DEBUG,("ip4_reass: IP options currently not supported!\n"));
ARM GAS  /tmp/ccyZE1E6.s 			page 45


 1385              		.loc 1 513 6 view .LVU434
 1386 000e 052B     		cmp	r3, #5
 1387 0010 26D1     		bne	.L111
 519:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   len = lwip_ntohs(IPH_LEN(fraghdr)) - IPH_HL(fraghdr) * 4;
 1388              		.loc 1 519 3 is_stmt 1 view .LVU435
 519:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   len = lwip_ntohs(IPH_LEN(fraghdr)) - IPH_HL(fraghdr) * 4;
 1389              		.loc 1 519 13 is_stmt 0 view .LVU436
 1390 0012 E888     		ldrh	r0, [r5, #6]	@ unaligned
 1391              	.LVL149:
 519:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   len = lwip_ntohs(IPH_LEN(fraghdr)) - IPH_HL(fraghdr) * 4;
 1392              		.loc 1 519 13 view .LVU437
 1393 0014 FFF7FEFF 		bl	lwip_htons
 1394              	.LVL150:
 519:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   len = lwip_ntohs(IPH_LEN(fraghdr)) - IPH_HL(fraghdr) * 4;
 1395              		.loc 1 519 10 view .LVU438
 1396 0018 C0F30C07 		ubfx	r7, r0, #0, #13
 1397 001c FF00     		lsls	r7, r7, #3
 1398              	.LVL151:
 520:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1399              		.loc 1 520 3 is_stmt 1 view .LVU439
 520:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1400              		.loc 1 520 9 is_stmt 0 view .LVU440
 1401 001e 6888     		ldrh	r0, [r5, #2]	@ unaligned
 1402 0020 FFF7FEFF 		bl	lwip_htons
 1403              	.LVL152:
 520:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1404              		.loc 1 520 40 view .LVU441
 1405 0024 95F80090 		ldrb	r9, [r5]	@ zero_extendqisi2
 520:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1406              		.loc 1 520 38 view .LVU442
 1407 0028 09F00F09 		and	r9, r9, #15
 520:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1408              		.loc 1 520 7 view .LVU443
 1409 002c A0EB8909 		sub	r9, r0, r9, lsl #2
 1410 0030 1FFA89F9 		uxth	r9, r9
 1411              	.LVL153:
 523:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if ((ip_reass_pbufcount + clen) > IP_REASS_MAX_PBUFS) {
 1412              		.loc 1 523 3 is_stmt 1 view .LVU444
 523:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if ((ip_reass_pbufcount + clen) > IP_REASS_MAX_PBUFS) {
 1413              		.loc 1 523 10 is_stmt 0 view .LVU445
 1414 0034 3046     		mov	r0, r6
 1415 0036 FFF7FEFF 		bl	pbuf_clen
 1416              	.LVL154:
 1417 003a 8046     		mov	r8, r0
 1418              	.LVL155:
 524:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_FREE_OLDEST
 1419              		.loc 1 524 3 is_stmt 1 view .LVU446
 524:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_FREE_OLDEST
 1420              		.loc 1 524 27 is_stmt 0 view .LVU447
 1421 003c 564B     		ldr	r3, .L135
 1422 003e 1B88     		ldrh	r3, [r3]
 1423 0040 0344     		add	r3, r3, r0
 524:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if IP_REASS_FREE_OLDEST
 1424              		.loc 1 524 6 view .LVU448
 1425 0042 0A2B     		cmp	r3, #10
 1426 0044 02DC     		bgt	.L130
 1427              	.LVL156:
ARM GAS  /tmp/ccyZE1E6.s 			page 46


 1428              	.L112:
 542:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Check if the incoming fragment matches the one currently present
 1429              		.loc 1 542 3 is_stmt 1 view .LVU449
 542:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Check if the incoming fragment matches the one currently present
 1430              		.loc 1 542 12 is_stmt 0 view .LVU450
 1431 0046 554B     		ldr	r3, .L135+4
 1432 0048 1C68     		ldr	r4, [r3]
 1433              	.LVL157:
 542:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Check if the incoming fragment matches the one currently present
 1434              		.loc 1 542 3 view .LVU451
 1435 004a 11E0     		b	.L113
 1436              	.LVL158:
 1437              	.L130:
 526:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ((ip_reass_pbufcount + clen) > IP_REASS_MAX_PBUFS))
 1438              		.loc 1 526 5 is_stmt 1 view .LVU452
 526:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ((ip_reass_pbufcount + clen) > IP_REASS_MAX_PBUFS))
 1439              		.loc 1 526 10 is_stmt 0 view .LVU453
 1440 004c 0146     		mov	r1, r0
 1441 004e 2846     		mov	r0, r5
 1442              	.LVL159:
 526:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ((ip_reass_pbufcount + clen) > IP_REASS_MAX_PBUFS))
 1443              		.loc 1 526 10 view .LVU454
 1444 0050 FFF7FEFF 		bl	ip_reass_remove_oldest_datagram
 1445              	.LVL160:
 526:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ((ip_reass_pbufcount + clen) > IP_REASS_MAX_PBUFS))
 1446              		.loc 1 526 8 view .LVU455
 1447 0054 20B1     		cbz	r0, .L111
 527:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASS_FREE_OLDEST */
 1448              		.loc 1 527 30 discriminator 1 view .LVU456
 1449 0056 504B     		ldr	r3, .L135
 1450 0058 1B88     		ldrh	r3, [r3]
 1451 005a 4344     		add	r3, r3, r8
 526:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ((ip_reass_pbufcount + clen) > IP_REASS_MAX_PBUFS))
 1452              		.loc 1 526 57 discriminator 1 view .LVU457
 1453 005c 0A2B     		cmp	r3, #10
 1454 005e F2DD     		ble	.L112
 1455              	.LVL161:
 1456              	.L111:
 666:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   IPFRAG_STATS_INC(ip_frag.drop);
 1457              		.loc 1 666 58 is_stmt 1 view .LVU458
 667:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   pbuf_free(p);
 1458              		.loc 1 667 33 view .LVU459
 668:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return NULL;
 1459              		.loc 1 668 3 view .LVU460
 1460 0060 3046     		mov	r0, r6
 1461 0062 FFF7FEFF 		bl	pbuf_free
 1462              	.LVL162:
 669:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 1463              		.loc 1 669 3 view .LVU461
 669:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 1464              		.loc 1 669 10 is_stmt 0 view .LVU462
 1465 0066 0026     		movs	r6, #0
 1466              	.LVL163:
 1467              	.L110:
 670:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* IP_REASSEMBLY */
 1468              		.loc 1 670 1 view .LVU463
 1469 0068 3046     		mov	r0, r6
ARM GAS  /tmp/ccyZE1E6.s 			page 47


 1470 006a BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 1471              	.LVL164:
 1472              	.L114:
 542:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Check if the incoming fragment matches the one currently present
 1473              		.loc 1 542 43 is_stmt 1 discriminator 2 view .LVU464
 542:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Check if the incoming fragment matches the one currently present
 1474              		.loc 1 542 47 is_stmt 0 discriminator 2 view .LVU465
 1475 006e 2468     		ldr	r4, [r4]
 1476              	.LVL165:
 1477              	.L113:
 542:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Check if the incoming fragment matches the one currently present
 1478              		.loc 1 542 30 is_stmt 1 discriminator 1 view .LVU466
 542:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Check if the incoming fragment matches the one currently present
 1479              		.loc 1 542 3 is_stmt 0 discriminator 1 view .LVU467
 1480 0070 5CB1     		cbz	r4, .L115
 546:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG, ("ip4_reass: matching previous fragment ID=%"X16_F"\n",
 1481              		.loc 1 546 5 is_stmt 1 view .LVU468
 546:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG, ("ip4_reass: matching previous fragment ID=%"X16_F"\n",
 1482              		.loc 1 546 9 is_stmt 0 view .LVU469
 1483 0072 6269     		ldr	r2, [r4, #20]
 1484 0074 EB68     		ldr	r3, [r5, #12]	@ unaligned
 546:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG, ("ip4_reass: matching previous fragment ID=%"X16_F"\n",
 1485              		.loc 1 546 8 view .LVU470
 1486 0076 9A42     		cmp	r2, r3
 1487 0078 F9D1     		bne	.L114
 546:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG, ("ip4_reass: matching previous fragment ID=%"X16_F"\n",
 1488              		.loc 1 546 9 discriminator 1 view .LVU471
 1489 007a A269     		ldr	r2, [r4, #24]
 1490 007c 2B69     		ldr	r3, [r5, #16]	@ unaligned
 1491 007e 9A42     		cmp	r2, r3
 1492 0080 F5D1     		bne	.L114
 546:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       LWIP_DEBUGF(IP_REASS_DEBUG, ("ip4_reass: matching previous fragment ID=%"X16_F"\n",
 1493              		.loc 1 546 9 discriminator 2 view .LVU472
 1494 0082 A289     		ldrh	r2, [r4, #12]
 1495 0084 AB88     		ldrh	r3, [r5, #4]	@ unaligned
 1496 0086 9A42     		cmp	r2, r3
 1497 0088 F1D1     		bne	.L114
 1498              	.L115:
 554:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Enqueue a new datagram into the datagram queue */
 1499              		.loc 1 554 3 is_stmt 1 view .LVU473
 554:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Enqueue a new datagram into the datagram queue */
 1500              		.loc 1 554 6 is_stmt 0 view .LVU474
 1501 008a 6CB3     		cbz	r4, .L131
 562:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ((lwip_ntohs(IPH_OFFSET(&ipr->iphdr)) & IP_OFFMASK) != 0)) {
 1502              		.loc 1 562 5 is_stmt 1 view .LVU475
 562:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ((lwip_ntohs(IPH_OFFSET(&ipr->iphdr)) & IP_OFFMASK) != 0)) {
 1503              		.loc 1 562 11 is_stmt 0 view .LVU476
 1504 008c E888     		ldrh	r0, [r5, #6]	@ unaligned
 1505 008e FFF7FEFF 		bl	lwip_htons
 1506              	.LVL166:
 562:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ((lwip_ntohs(IPH_OFFSET(&ipr->iphdr)) & IP_OFFMASK) != 0)) {
 1507              		.loc 1 562 8 view .LVU477
 1508 0092 C0F30C00 		ubfx	r0, r0, #0, #13
 1509 0096 78B3     		cbz	r0, .L132
 1510              	.L118:
 576:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (is_last) {
 1511              		.loc 1 576 3 is_stmt 1 view .LVU478
ARM GAS  /tmp/ccyZE1E6.s 			page 48


 576:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (is_last) {
 1512              		.loc 1 576 14 is_stmt 0 view .LVU479
 1513 0098 ED88     		ldrh	r5, [r5, #6]	@ unaligned
 1514              	.LVL167:
 576:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (is_last) {
 1515              		.loc 1 576 14 view .LVU480
 1516 009a 05F02005 		and	r5, r5, #32
 576:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (is_last) {
 1517              		.loc 1 576 53 view .LVU481
 1518 009e 002D     		cmp	r5, #0
 1519 00a0 0CBF     		ite	eq
 1520 00a2 0122     		moveq	r2, #1
 1521 00a4 0022     		movne	r2, #0
 1522              	.LVL168:
 577:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     u16_t datagram_len = (u16_t)(offset + len);
 1523              		.loc 1 577 3 is_stmt 1 view .LVU482
 577:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     u16_t datagram_len = (u16_t)(offset + len);
 1524              		.loc 1 577 6 is_stmt 0 view .LVU483
 1525 00a6 08D1     		bne	.L119
 1526              	.LBB5:
 578:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if ((datagram_len < offset) || (datagram_len > (0xFFFF - IP_HLEN))) {
 1527              		.loc 1 578 5 is_stmt 1 view .LVU484
 578:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if ((datagram_len < offset) || (datagram_len > (0xFFFF - IP_HLEN))) {
 1528              		.loc 1 578 11 is_stmt 0 view .LVU485
 1529 00a8 07EB0903 		add	r3, r7, r9
 1530 00ac 9BB2     		uxth	r3, r3
 1531              	.LVL169:
 579:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* u16_t overflow, cannot handle this */
 1532              		.loc 1 579 5 is_stmt 1 view .LVU486
 579:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* u16_t overflow, cannot handle this */
 1533              		.loc 1 579 8 is_stmt 0 view .LVU487
 1534 00ae 9F42     		cmp	r7, r3
 1535 00b0 D6D8     		bhi	.L111
 579:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* u16_t overflow, cannot handle this */
 1536              		.loc 1 579 33 discriminator 1 view .LVU488
 1537 00b2 4FF6EB71 		movw	r1, #65515
 1538 00b6 8B42     		cmp	r3, r1
 1539 00b8 D2D8     		bhi	.L111
 1540              	.LVL170:
 1541              	.L119:
 579:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* u16_t overflow, cannot handle this */
 1542              		.loc 1 579 33 discriminator 1 view .LVU489
 1543              	.LBE5:
 586:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (valid == IP_REASS_VALIDATE_PBUF_DROPPED) {
 1544              		.loc 1 586 3 is_stmt 1 view .LVU490
 586:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (valid == IP_REASS_VALIDATE_PBUF_DROPPED) {
 1545              		.loc 1 586 11 is_stmt 0 view .LVU491
 1546 00ba 3146     		mov	r1, r6
 1547 00bc 2046     		mov	r0, r4
 1548 00be FFF7FEFF 		bl	ip_reass_chain_frag_into_datagram_and_validate
 1549              	.LVL171:
 587:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     goto nullreturn;
 1550              		.loc 1 587 3 is_stmt 1 view .LVU492
 587:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     goto nullreturn;
 1551              		.loc 1 587 6 is_stmt 0 view .LVU493
 1552 00c2 B0F1FF3F 		cmp	r0, #-1
 1553 00c6 CBD0     		beq	.L111
ARM GAS  /tmp/ccyZE1E6.s 			page 49


 595:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (is_last) {
 1554              		.loc 1 595 3 is_stmt 1 view .LVU494
 595:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (is_last) {
 1555              		.loc 1 595 24 is_stmt 0 view .LVU495
 1556 00c8 334B     		ldr	r3, .L135
 1557 00ca 1A88     		ldrh	r2, [r3]
 1558 00cc 9044     		add	r8, r8, r2
 595:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   if (is_last) {
 1559              		.loc 1 595 22 view .LVU496
 1560 00ce A3F80080 		strh	r8, [r3]	@ movhi
 596:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     u16_t datagram_len = (u16_t)(offset + len);
 1561              		.loc 1 596 3 is_stmt 1 view .LVU497
 596:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     u16_t datagram_len = (u16_t)(offset + len);
 1562              		.loc 1 596 6 is_stmt 0 view .LVU498
 1563 00d2 2DB9     		cbnz	r5, .L120
 1564              	.LBB6:
 597:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ipr->datagram_len = datagram_len;
 1565              		.loc 1 597 5 is_stmt 1 view .LVU499
 597:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ipr->datagram_len = datagram_len;
 1566              		.loc 1 597 11 is_stmt 0 view .LVU500
 1567 00d4 4F44     		add	r7, r7, r9
 1568              	.LVL172:
 598:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ipr->flags |= IP_REASS_FLAG_LASTFRAG;
 1569              		.loc 1 598 5 is_stmt 1 view .LVU501
 598:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ipr->flags |= IP_REASS_FLAG_LASTFRAG;
 1570              		.loc 1 598 23 is_stmt 0 view .LVU502
 1571 00d6 A783     		strh	r7, [r4, #28]	@ movhi
 599:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_DEBUGF(IP_REASS_DEBUG,
 1572              		.loc 1 599 5 is_stmt 1 view .LVU503
 599:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_DEBUGF(IP_REASS_DEBUG,
 1573              		.loc 1 599 16 is_stmt 0 view .LVU504
 1574 00d8 A37F     		ldrb	r3, [r4, #30]	@ zero_extendqisi2
 1575 00da 43F00103 		orr	r3, r3, #1
 1576 00de A377     		strb	r3, [r4, #30]
 1577              	.LVL173:
 1578              	.L120:
 602:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 1579              		.loc 1 602 26 is_stmt 1 view .LVU505
 1580              	.LBE6:
 605:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     struct ip_reassdata *ipr_prev;
 1581              		.loc 1 605 3 view .LVU506
 605:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     struct ip_reassdata *ipr_prev;
 1582              		.loc 1 605 6 is_stmt 0 view .LVU507
 1583 00e0 0128     		cmp	r0, #1
 1584 00e2 1BD0     		beq	.L133
 663:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1585              		.loc 1 663 10 view .LVU508
 1586 00e4 0026     		movs	r6, #0
 1587              	.LVL174:
 663:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1588              		.loc 1 663 10 view .LVU509
 1589 00e6 BFE7     		b	.L110
 1590              	.LVL175:
 1591              	.L131:
 556:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Bail if unable to enqueue */
 1592              		.loc 1 556 5 is_stmt 1 view .LVU510
 556:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Bail if unable to enqueue */
ARM GAS  /tmp/ccyZE1E6.s 			page 50


 1593              		.loc 1 556 11 is_stmt 0 view .LVU511
 1594 00e8 4146     		mov	r1, r8
 1595 00ea 2846     		mov	r0, r5
 1596 00ec FFF7FEFF 		bl	ip_reass_enqueue_new_datagram
 1597              	.LVL176:
 558:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       goto nullreturn;
 1598              		.loc 1 558 5 is_stmt 1 view .LVU512
 558:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       goto nullreturn;
 1599              		.loc 1 558 8 is_stmt 0 view .LVU513
 1600 00f0 0446     		mov	r4, r0
 1601 00f2 0028     		cmp	r0, #0
 1602 00f4 D0D1     		bne	.L118
 1603 00f6 B3E7     		b	.L111
 1604              	.LVL177:
 1605              	.L132:
 563:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* ipr->iphdr is not the header from the first fragment, but fraghdr is
 1606              		.loc 1 563 9 discriminator 1 view .LVU514
 1607 00f8 E089     		ldrh	r0, [r4, #14]
 1608 00fa FFF7FEFF 		bl	lwip_htons
 1609              	.LVL178:
 562:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ((lwip_ntohs(IPH_OFFSET(&ipr->iphdr)) & IP_OFFMASK) != 0)) {
 1610              		.loc 1 562 63 discriminator 1 view .LVU515
 1611 00fe C0F30C00 		ubfx	r0, r0, #0, #13
 1612 0102 0028     		cmp	r0, #0
 1613 0104 C8D0     		beq	.L118
 568:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 1614              		.loc 1 568 7 is_stmt 1 view .LVU516
 1615 0106 2B68     		ldr	r3, [r5]	@ unaligned
 1616 0108 6868     		ldr	r0, [r5, #4]	@ unaligned
 1617 010a A968     		ldr	r1, [r5, #8]	@ unaligned
 1618 010c EA68     		ldr	r2, [r5, #12]	@ unaligned
 1619 010e A360     		str	r3, [r4, #8]	@ unaligned
 1620 0110 E060     		str	r0, [r4, #12]	@ unaligned
 1621 0112 2161     		str	r1, [r4, #16]	@ unaligned
 1622 0114 6261     		str	r2, [r4, #20]	@ unaligned
 1623 0116 2B69     		ldr	r3, [r5, #16]	@ unaligned
 1624 0118 A361     		str	r3, [r4, #24]	@ unaligned
 1625 011a BDE7     		b	.L118
 1626              	.LVL179:
 1627              	.L133:
 1628              	.LBB7:
 606:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* the totally last fragment (flag more fragments = 0) was received at least
 1629              		.loc 1 606 5 view .LVU517
 609:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1630              		.loc 1 609 5 view .LVU518
 609:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1631              		.loc 1 609 23 is_stmt 0 view .LVU519
 1632 011c A38B     		ldrh	r3, [r4, #28]
 1633 011e 1433     		adds	r3, r3, #20
 1634 0120 A383     		strh	r3, [r4, #28]	@ movhi
 612:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1635              		.loc 1 612 5 is_stmt 1 view .LVU520
 612:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1636              		.loc 1 612 38 is_stmt 0 view .LVU521
 1637 0122 6368     		ldr	r3, [r4, #4]
 612:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1638              		.loc 1 612 41 view .LVU522
ARM GAS  /tmp/ccyZE1E6.s 			page 51


 1639 0124 5E68     		ldr	r6, [r3, #4]
 1640              	.LVL180:
 612:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1641              		.loc 1 612 7 view .LVU523
 1642 0126 3568     		ldr	r5, [r6]	@ unaligned
 1643              	.LVL181:
 615:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     SMEMCPY(fraghdr, &ipr->iphdr, IP_HLEN);
 1644              		.loc 1 615 5 is_stmt 1 view .LVU524
 616:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_LEN_SET(fraghdr, lwip_htons(ipr->datagram_len));
 1645              		.loc 1 616 5 view .LVU525
 1646 0128 A368     		ldr	r3, [r4, #8]	@ unaligned
 1647 012a E068     		ldr	r0, [r4, #12]	@ unaligned
 1648              	.LVL182:
 616:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_LEN_SET(fraghdr, lwip_htons(ipr->datagram_len));
 1649              		.loc 1 616 5 is_stmt 0 view .LVU526
 1650 012c 2169     		ldr	r1, [r4, #16]	@ unaligned
 1651 012e 6269     		ldr	r2, [r4, #20]	@ unaligned
 1652 0130 3360     		str	r3, [r6]	@ unaligned
 1653 0132 7060     		str	r0, [r6, #4]	@ unaligned
 1654 0134 B160     		str	r1, [r6, #8]	@ unaligned
 1655 0136 F260     		str	r2, [r6, #12]	@ unaligned
 1656 0138 A369     		ldr	r3, [r4, #24]	@ unaligned
 1657 013a 3361     		str	r3, [r6, #16]	@ unaligned
 617:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_OFFSET_SET(fraghdr, 0);
 1658              		.loc 1 617 5 is_stmt 1 view .LVU527
 1659 013c A08B     		ldrh	r0, [r4, #28]
 1660 013e FFF7FEFF 		bl	lwip_htons
 1661              	.LVL183:
 1662 0142 7080     		strh	r0, [r6, #2]	@ unaligned
 618:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_CHKSUM_SET(fraghdr, 0);
 1663              		.loc 1 618 5 view .LVU528
 1664 0144 0023     		movs	r3, #0
 1665 0146 B371     		strb	r3, [r6, #6]
 1666 0148 F371     		strb	r3, [r6, #7]
 619:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* @todo: do we need to set/calculate the correct checksum? */
 1667              		.loc 1 619 5 view .LVU529
 1668 014a B372     		strb	r3, [r6, #10]
 1669 014c F372     		strb	r3, [r6, #11]
 627:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1670              		.loc 1 627 5 view .LVU530
 627:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1671              		.loc 1 627 7 is_stmt 0 view .LVU531
 1672 014e 6668     		ldr	r6, [r4, #4]
 1673              	.LVL184:
 630:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       iprh = (struct ip_reass_helper*)r->payload;
 1674              		.loc 1 630 5 is_stmt 1 view .LVU532
 630:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       iprh = (struct ip_reass_helper*)r->payload;
 1675              		.loc 1 630 11 is_stmt 0 view .LVU533
 1676 0150 0AE0     		b	.L122
 1677              	.L123:
 631:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1678              		.loc 1 631 7 is_stmt 1 view .LVU534
 631:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1679              		.loc 1 631 12 is_stmt 0 view .LVU535
 1680 0152 6F68     		ldr	r7, [r5, #4]
 1681              	.LVL185:
 634:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbuf_cat(p, r);
ARM GAS  /tmp/ccyZE1E6.s 			page 52


 1682              		.loc 1 634 7 is_stmt 1 view .LVU536
 1683 0154 6FF01301 		mvn	r1, #19
 1684 0158 2846     		mov	r0, r5
 1685 015a FFF7FEFF 		bl	pbuf_header
 1686              	.LVL186:
 635:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       r = iprh->next_pbuf;
 1687              		.loc 1 635 7 view .LVU537
 1688 015e 2946     		mov	r1, r5
 1689 0160 3046     		mov	r0, r6
 1690 0162 FFF7FEFF 		bl	pbuf_cat
 1691              	.LVL187:
 636:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 1692              		.loc 1 636 7 view .LVU538
 636:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 1693              		.loc 1 636 9 is_stmt 0 view .LVU539
 1694 0166 3D68     		ldr	r5, [r7]	@ unaligned
 1695              	.LVL188:
 1696              	.L122:
 630:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       iprh = (struct ip_reass_helper*)r->payload;
 1697              		.loc 1 630 11 is_stmt 1 view .LVU540
 1698 0168 002D     		cmp	r5, #0
 1699 016a F2D1     		bne	.L123
 640:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ipr_prev = NULL;
 1700              		.loc 1 640 5 view .LVU541
 640:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ipr_prev = NULL;
 1701              		.loc 1 640 13 is_stmt 0 view .LVU542
 1702 016c 0B4B     		ldr	r3, .L135+4
 1703 016e 1968     		ldr	r1, [r3]
 640:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       ipr_prev = NULL;
 1704              		.loc 1 640 8 view .LVU543
 1705 0170 A142     		cmp	r1, r4
 1706 0172 05D0     		beq	.L134
 1707              	.L125:
 1708              	.LVL189:
 643:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (ipr_prev->next == ipr) {
 1709              		.loc 1 643 39 is_stmt 1 discriminator 1 view .LVU544
 643:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (ipr_prev->next == ipr) {
 1710              		.loc 1 643 7 is_stmt 0 discriminator 1 view .LVU545
 1711 0174 29B1     		cbz	r1, .L124
 644:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           break;
 1712              		.loc 1 644 9 is_stmt 1 view .LVU546
 644:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           break;
 1713              		.loc 1 644 21 is_stmt 0 view .LVU547
 1714 0176 0B68     		ldr	r3, [r1]
 644:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****           break;
 1715              		.loc 1 644 12 view .LVU548
 1716 0178 A342     		cmp	r3, r4
 1717 017a 02D0     		beq	.L124
 643:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (ipr_prev->next == ipr) {
 1718              		.loc 1 643 66 view .LVU549
 1719 017c 1946     		mov	r1, r3
 1720              	.LVL190:
 643:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         if (ipr_prev->next == ipr) {
 1721              		.loc 1 643 66 view .LVU550
 1722 017e F9E7     		b	.L125
 1723              	.L134:
 641:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     } else {
ARM GAS  /tmp/ccyZE1E6.s 			page 53


 1724              		.loc 1 641 16 view .LVU551
 1725 0180 2946     		mov	r1, r5
 1726              	.L124:
 1727              	.LVL191:
 651:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1728              		.loc 1 651 5 is_stmt 1 view .LVU552
 1729 0182 2046     		mov	r0, r4
 1730 0184 FFF7FEFF 		bl	ip_reass_dequeue_datagram
 1731              	.LVL192:
 654:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1732              		.loc 1 654 5 view .LVU553
 654:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1733              		.loc 1 654 27 is_stmt 0 view .LVU554
 1734 0188 3046     		mov	r0, r6
 1735 018a FFF7FEFF 		bl	pbuf_clen
 1736              	.LVL193:
 654:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1737              		.loc 1 654 24 view .LVU555
 1738 018e 024A     		ldr	r2, .L135
 1739 0190 1388     		ldrh	r3, [r2]
 1740 0192 1B1A     		subs	r3, r3, r0
 1741 0194 1380     		strh	r3, [r2]	@ movhi
 656:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1742              		.loc 1 656 36 is_stmt 1 view .LVU556
 659:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 1743              		.loc 1 659 5 view .LVU557
 659:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 1744              		.loc 1 659 12 is_stmt 0 view .LVU558
 1745 0196 67E7     		b	.L110
 1746              	.L136:
 1747              		.align	2
 1748              	.L135:
 1749 0198 00000000 		.word	.LANCHOR1
 1750 019c 00000000 		.word	.LANCHOR0
 1751              	.LBE7:
 1752              		.cfi_endproc
 1753              	.LFE103:
 1755              		.section	.rodata.ip4_frag.str1.4,"aMS",%progbits,1
 1756              		.align	2
 1757              	.LC13:
 1758 0000 6970345F 		.ascii	"ip4_frag() does not support IP options\000"
 1758      66726167 
 1758      28292064 
 1758      6F657320 
 1758      6E6F7420 
 1759 0027 00       		.align	2
 1760              	.LC14:
 1761 0028 69705F66 		.ascii	"ip_frag(): MF already set\000"
 1761      72616728 
 1761      293A204D 
 1761      4620616C 
 1761      72656164 
 1762 0042 0000     		.align	2
 1763              	.LC15:
 1764 0044 74686973 		.ascii	"this needs a pbuf in one piece!\000"
 1764      206E6565 
 1764      64732061 
ARM GAS  /tmp/ccyZE1E6.s 			page 54


 1764      20706275 
 1764      6620696E 
 1765              		.section	.text.ip4_frag,"ax",%progbits
 1766              		.align	1
 1767              		.global	ip4_frag
 1768              		.syntax unified
 1769              		.thumb
 1770              		.thumb_func
 1772              	ip4_frag:
 1773              	.LVL194:
 1774              	.LFB107:
 703:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* !LWIP_NETIF_TX_SINGLE_PBUF */
 704:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 705:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** /**
 706:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Fragment an IP datagram if too large for the netif.
 707:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
 708:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * Chop the datagram in MTU sized chunks and send them in order
 709:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * by pointing PBUF_REFs into p.
 710:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
 711:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param p ip packet to send
 712:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param netif the netif on which to send
 713:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @param dest destination ip address to which to send
 714:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  *
 715:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  * @return ERR_OK if sent successfully, err_t otherwise
 716:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****  */
 717:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** err_t
 718:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** ip4_frag(struct pbuf *p, struct netif *netif, const ip4_addr_t *dest)
 719:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** {
 1775              		.loc 1 719 1 is_stmt 1 view -0
 1776              		.cfi_startproc
 1777              		@ args = 0, pretend = 0, frame = 40
 1778              		@ frame_needed = 0, uses_anonymous_args = 0
 1779              		.loc 1 719 1 is_stmt 0 view .LVU560
 1780 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1781              	.LCFI10:
 1782              		.cfi_def_cfa_offset 36
 1783              		.cfi_offset 4, -36
 1784              		.cfi_offset 5, -32
 1785              		.cfi_offset 6, -28
 1786              		.cfi_offset 7, -24
 1787              		.cfi_offset 8, -20
 1788              		.cfi_offset 9, -16
 1789              		.cfi_offset 10, -12
 1790              		.cfi_offset 11, -8
 1791              		.cfi_offset 14, -4
 1792 0004 8DB0     		sub	sp, sp, #52
 1793              	.LCFI11:
 1794              		.cfi_def_cfa_offset 88
 1795 0006 0646     		mov	r6, r0
 1796 0008 0791     		str	r1, [sp, #28]
 1797 000a 0B92     		str	r2, [sp, #44]
 720:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct pbuf *rambuf;
 1798              		.loc 1 720 3 is_stmt 1 view .LVU561
 721:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if !LWIP_NETIF_TX_SINGLE_PBUF
 722:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct pbuf *newpbuf;
 1799              		.loc 1 722 3 view .LVU562
 723:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t newpbuflen = 0;
ARM GAS  /tmp/ccyZE1E6.s 			page 55


 1800              		.loc 1 723 3 view .LVU563
 1801              	.LVL195:
 724:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t left_to_copy;
 1802              		.loc 1 724 3 view .LVU564
 725:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif
 726:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_hdr *original_iphdr;
 1803              		.loc 1 726 3 view .LVU565
 727:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   struct ip_hdr *iphdr;
 1804              		.loc 1 727 3 view .LVU566
 728:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   const u16_t nfb = (netif->mtu - IP_HLEN) / 8;
 1805              		.loc 1 728 3 view .LVU567
 1806              		.loc 1 728 27 is_stmt 0 view .LVU568
 1807 000c CB8C     		ldrh	r3, [r1, #38]
 1808              		.loc 1 728 44 view .LVU569
 1809 000e 143B     		subs	r3, r3, #20
 1810 0010 4ED4     		bmi	.L154
 1811              	.L138:
 1812 0012 DA10     		asrs	r2, r3, #3
 1813              	.LVL196:
 1814              		.loc 1 728 44 view .LVU570
 1815 0014 0692     		str	r2, [sp, #24]
 1816              		.loc 1 728 15 view .LVU571
 1817 0016 C3F3CF03 		ubfx	r3, r3, #3, #16
 1818 001a 0A93     		str	r3, [sp, #40]
 1819              	.LVL197:
 729:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t left, fragsize;
 1820              		.loc 1 729 3 is_stmt 1 view .LVU572
 730:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t ofo;
 1821              		.loc 1 730 3 view .LVU573
 731:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   int last;
 1822              		.loc 1 731 3 view .LVU574
 732:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t poff = IP_HLEN;
 1823              		.loc 1 732 3 view .LVU575
 733:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t tmp;
 1824              		.loc 1 733 3 view .LVU576
 734:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 735:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   original_iphdr = (struct ip_hdr *)p->payload;
 1825              		.loc 1 735 3 view .LVU577
 1826              		.loc 1 735 18 is_stmt 0 view .LVU578
 1827 001c D6F80480 		ldr	r8, [r6, #4]
 1828              	.LVL198:
 736:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   iphdr = original_iphdr;
 1829              		.loc 1 736 3 is_stmt 1 view .LVU579
 737:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ERROR("ip4_frag() does not support IP options", IPH_HL(iphdr) * 4 == IP_HLEN, return ERR_VAL
 1830              		.loc 1 737 3 view .LVU580
 1831              		.loc 1 737 3 view .LVU581
 1832 0020 98F80030 		ldrb	r3, [r8]	@ zero_extendqisi2
 1833 0024 03F00F03 		and	r3, r3, #15
 1834 0028 052B     		cmp	r3, #5
 1835 002a 43D1     		bne	.L155
 1836              		.loc 1 737 3 discriminator 2 view .LVU582
 738:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 739:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   /* Save original offset */
 740:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   tmp = lwip_ntohs(IPH_OFFSET(iphdr));
 1837              		.loc 1 740 3 discriminator 2 view .LVU583
 1838              		.loc 1 740 9 is_stmt 0 discriminator 2 view .LVU584
 1839 002c B8F80600 		ldrh	r0, [r8, #6]	@ unaligned
ARM GAS  /tmp/ccyZE1E6.s 			page 56


 1840              	.LVL199:
 1841              		.loc 1 740 9 discriminator 2 view .LVU585
 1842 0030 FFF7FEFF 		bl	lwip_htons
 1843              	.LVL200:
 741:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   ofo = tmp & IP_OFFMASK;
 1844              		.loc 1 741 3 is_stmt 1 discriminator 2 view .LVU586
 1845              		.loc 1 741 7 is_stmt 0 discriminator 2 view .LVU587
 1846 0034 C0F30C03 		ubfx	r3, r0, #0, #13
 1847 0038 0593     		str	r3, [sp, #20]
 1848              	.LVL201:
 742:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   LWIP_ERROR("ip_frag(): MF already set", (tmp & IP_MF) == 0, return ERR_VAL);
 1849              		.loc 1 742 3 is_stmt 1 discriminator 2 view .LVU588
 1850              		.loc 1 742 3 discriminator 2 view .LVU589
 1851 003a 10F40053 		ands	r3, r0, #8192
 1852 003e 0293     		str	r3, [sp, #8]
 1853 0040 42D1     		bne	.L156
 1854              		.loc 1 742 3 discriminator 2 view .LVU590
 743:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 744:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   left = p->tot_len - IP_HLEN;
 1855              		.loc 1 744 3 discriminator 2 view .LVU591
 1856              		.loc 1 744 11 is_stmt 0 discriminator 2 view .LVU592
 1857 0042 3389     		ldrh	r3, [r6, #8]
 1858              		.loc 1 744 8 discriminator 2 view .LVU593
 1859 0044 143B     		subs	r3, r3, #20
 1860 0046 9BB2     		uxth	r3, r3
 1861 0048 0393     		str	r3, [sp, #12]
 1862              	.LVL202:
 745:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 746:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   while (left) {
 1863              		.loc 1 746 3 is_stmt 1 discriminator 2 view .LVU594
 723:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t left_to_copy;
 1864              		.loc 1 723 9 is_stmt 0 discriminator 2 view .LVU595
 1865 004a 029C     		ldr	r4, [sp, #8]
 732:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t tmp;
 1866              		.loc 1 732 9 discriminator 2 view .LVU596
 1867 004c 4FF0140A 		mov	r10, #20
 1868              	.LVL203:
 1869              	.L142:
 1870              		.loc 1 746 9 is_stmt 1 view .LVU597
 1871 0050 039B     		ldr	r3, [sp, #12]
 1872 0052 002B     		cmp	r3, #0
 1873 0054 00F0B680 		beq	.L157
 747:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Fill this fragment */
 748:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     fragsize = LWIP_MIN(left, nfb * 8);
 1874              		.loc 1 748 5 view .LVU598
 1875              		.loc 1 748 16 is_stmt 0 view .LVU599
 1876 0058 BDF81830 		ldrh	r3, [sp, #24]
 1877 005c DB00     		lsls	r3, r3, #3
 1878 005e 039A     		ldr	r2, [sp, #12]
 1879 0060 0892     		str	r2, [sp, #32]
 1880 0062 9342     		cmp	r3, r2
 1881 0064 A8BF     		it	ge
 1882 0066 1346     		movge	r3, r2
 1883              		.loc 1 748 14 view .LVU600
 1884 0068 9BB2     		uxth	r3, r3
 1885 006a 0493     		str	r3, [sp, #16]
 1886              	.LVL204:
ARM GAS  /tmp/ccyZE1E6.s 			page 57


 749:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 750:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if LWIP_NETIF_TX_SINGLE_PBUF
 751:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     rambuf = pbuf_alloc(PBUF_IP, fragsize, PBUF_RAM);
 752:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (rambuf == NULL) {
 753:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       goto memerr;
 754:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 755:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("this needs a pbuf in one piece!",
 756:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       (rambuf->len == rambuf->tot_len) && (rambuf->next == NULL));
 757:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     poff += pbuf_copy_partial(p, rambuf->payload, fragsize, poff);
 758:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* make room for the IP header */
 759:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (pbuf_header(rambuf, IP_HLEN)) {
 760:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbuf_free(rambuf);
 761:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       goto memerr;
 762:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 763:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* fill in the IP header */
 764:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     SMEMCPY(rambuf->payload, original_iphdr, IP_HLEN);
 765:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iphdr = (struct ip_hdr*)rambuf->payload;
 766:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #else /* LWIP_NETIF_TX_SINGLE_PBUF */
 767:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* When not using a static buffer, create a chain of pbufs.
 768:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * The first will be a PBUF_RAM holding the link and IP header.
 769:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * The rest will be PBUF_REFs mirroring the pbuf chain to be fragged,
 770:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * but limited to the size of an mtu.
 771:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      */
 772:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     rambuf = pbuf_alloc(PBUF_LINK, IP_HLEN, PBUF_RAM);
 1887              		.loc 1 772 5 is_stmt 1 view .LVU601
 1888              		.loc 1 772 14 is_stmt 0 view .LVU602
 1889 006c 0022     		movs	r2, #0
 1890 006e 1421     		movs	r1, #20
 1891 0070 0220     		movs	r0, #2
 1892 0072 FFF7FEFF 		bl	pbuf_alloc
 1893              	.LVL205:
 773:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (rambuf == NULL) {
 1894              		.loc 1 773 5 is_stmt 1 view .LVU603
 1895              		.loc 1 773 8 is_stmt 0 view .LVU604
 1896 0076 8346     		mov	fp, r0
 1897 0078 0028     		cmp	r0, #0
 1898 007a 00F0A580 		beq	.L152
 774:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       goto memerr;
 775:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 776:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     LWIP_ASSERT("this needs a pbuf in one piece!",
 1899              		.loc 1 776 5 is_stmt 1 view .LVU605
 1900              		.loc 1 776 5 view .LVU606
 1901 007e 7389     		ldrh	r3, [r6, #10]
 1902 0080 132B     		cmp	r3, #19
 1903 0082 2BD9     		bls	.L158
 1904              	.LVL206:
 1905              	.L143:
 1906              		.loc 1 776 5 discriminator 3 view .LVU607
 1907              		.loc 1 776 5 discriminator 3 view .LVU608
 777:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****                 (p->len >= (IP_HLEN)));
 778:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     SMEMCPY(rambuf->payload, original_iphdr, IP_HLEN);
 1908              		.loc 1 778 5 discriminator 3 view .LVU609
 1909 0084 DBF80430 		ldr	r3, [fp, #4]
 1910 0088 D8F80020 		ldr	r2, [r8]	@ unaligned
 1911 008c D8F80450 		ldr	r5, [r8, #4]	@ unaligned
 1912 0090 D8F80800 		ldr	r0, [r8, #8]	@ unaligned
 1913 0094 D8F80C10 		ldr	r1, [r8, #12]	@ unaligned
ARM GAS  /tmp/ccyZE1E6.s 			page 58


 1914 0098 1A60     		str	r2, [r3]	@ unaligned
 1915 009a 5D60     		str	r5, [r3, #4]	@ unaligned
 1916 009c 9860     		str	r0, [r3, #8]	@ unaligned
 1917 009e D960     		str	r1, [r3, #12]	@ unaligned
 1918 00a0 D8F81020 		ldr	r2, [r8, #16]	@ unaligned
 1919 00a4 1A61     		str	r2, [r3, #16]	@ unaligned
 779:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     iphdr = (struct ip_hdr *)rambuf->payload;
 1920              		.loc 1 779 5 discriminator 3 view .LVU610
 1921              		.loc 1 779 11 is_stmt 0 discriminator 3 view .LVU611
 1922 00a6 DBF80430 		ldr	r3, [fp, #4]
 1923 00aa 0993     		str	r3, [sp, #36]
 1924              	.LVL207:
 780:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 781:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     left_to_copy = fragsize;
 1925              		.loc 1 781 5 is_stmt 1 discriminator 3 view .LVU612
 782:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     while (left_to_copy) {
 1926              		.loc 1 782 5 discriminator 3 view .LVU613
 781:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     while (left_to_copy) {
 1927              		.loc 1 781 18 is_stmt 0 discriminator 3 view .LVU614
 1928 00ac 049D     		ldr	r5, [sp, #16]
 1929              		.loc 1 782 11 discriminator 3 view .LVU615
 1930 00ae 3DE0     		b	.L144
 1931              	.LVL208:
 1932              	.L154:
 728:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   u16_t left, fragsize;
 1933              		.loc 1 728 44 view .LVU616
 1934 00b0 0733     		adds	r3, r3, #7
 1935 00b2 AEE7     		b	.L138
 1936              	.LVL209:
 1937              	.L155:
 737:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1938              		.loc 1 737 3 is_stmt 1 discriminator 1 view .LVU617
 737:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1939              		.loc 1 737 3 discriminator 1 view .LVU618
 1940 00b4 464B     		ldr	r3, .L162
 1941 00b6 40F2E122 		movw	r2, #737
 1942 00ba 4649     		ldr	r1, .L162+4
 1943              	.LVL210:
 737:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1944              		.loc 1 737 3 is_stmt 0 discriminator 1 view .LVU619
 1945 00bc 4648     		ldr	r0, .L162+8
 1946              	.LVL211:
 737:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1947              		.loc 1 737 3 discriminator 1 view .LVU620
 1948 00be FFF7FEFF 		bl	printf
 1949              	.LVL212:
 737:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1950              		.loc 1 737 3 is_stmt 1 discriminator 1 view .LVU621
 737:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1951              		.loc 1 737 3 discriminator 1 view .LVU622
 1952 00c2 6FF00500 		mvn	r0, #5
 1953 00c6 43E0     		b	.L140
 1954              	.LVL213:
 1955              	.L156:
 742:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1956              		.loc 1 742 3 discriminator 1 view .LVU623
 742:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
ARM GAS  /tmp/ccyZE1E6.s 			page 59


 1957              		.loc 1 742 3 discriminator 1 view .LVU624
 1958 00c8 414B     		ldr	r3, .L162
 1959 00ca 40F2E622 		movw	r2, #742
 1960 00ce 4349     		ldr	r1, .L162+12
 1961 00d0 4148     		ldr	r0, .L162+8
 1962              	.LVL214:
 742:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1963              		.loc 1 742 3 is_stmt 0 discriminator 1 view .LVU625
 1964 00d2 FFF7FEFF 		bl	printf
 1965              	.LVL215:
 742:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1966              		.loc 1 742 3 is_stmt 1 discriminator 1 view .LVU626
 742:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 1967              		.loc 1 742 3 discriminator 1 view .LVU627
 1968 00d6 6FF00500 		mvn	r0, #5
 1969 00da 39E0     		b	.L140
 1970              	.LVL216:
 1971              	.L158:
 776:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****                 (p->len >= (IP_HLEN)));
 1972              		.loc 1 776 5 discriminator 1 view .LVU628
 776:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****                 (p->len >= (IP_HLEN)));
 1973              		.loc 1 776 5 discriminator 1 view .LVU629
 1974 00dc 3C4B     		ldr	r3, .L162
 1975 00de 4FF44272 		mov	r2, #776
 1976 00e2 3F49     		ldr	r1, .L162+16
 1977 00e4 3C48     		ldr	r0, .L162+8
 1978              	.LVL217:
 776:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****                 (p->len >= (IP_HLEN)));
 1979              		.loc 1 776 5 is_stmt 0 discriminator 1 view .LVU630
 1980 00e6 FFF7FEFF 		bl	printf
 1981              	.LVL218:
 1982 00ea CBE7     		b	.L143
 1983              	.LVL219:
 1984              	.L145:
 1985              	.LBB8:
 783:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       struct pbuf_custom_ref *pcr;
 784:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       u16_t plen = p->len - poff;
 785:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       newpbuflen = LWIP_MIN(left_to_copy, plen);
 786:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* Is this pbuf already empty? */
 787:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (!newpbuflen) {
 788:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         poff = 0;
 789:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         p = p->next;
 790:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         continue;
 791:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 792:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pcr = ip_frag_alloc_pbuf_custom_ref();
 1986              		.loc 1 792 7 is_stmt 1 view .LVU631
 1987              		.loc 1 792 13 is_stmt 0 view .LVU632
 1988 00ec FFF7FEFF 		bl	ip_frag_alloc_pbuf_custom_ref
 1989              	.LVL220:
 793:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (pcr == NULL) {
 1990              		.loc 1 793 7 is_stmt 1 view .LVU633
 1991              		.loc 1 793 10 is_stmt 0 view .LVU634
 1992 00f0 0746     		mov	r7, r0
 1993 00f2 40B3     		cbz	r0, .L159
 794:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         pbuf_free(rambuf);
 795:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         goto memerr;
 796:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
ARM GAS  /tmp/ccyZE1E6.s 			page 60


 797:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* Mirror this pbuf, although we might not need all of it. */
 798:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       newpbuf = pbuf_alloced_custom(PBUF_RAW, newpbuflen, PBUF_REF, &pcr->pc,
 1994              		.loc 1 798 7 is_stmt 1 view .LVU635
 799:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         (u8_t*)p->payload + poff, newpbuflen);
 1995              		.loc 1 799 17 is_stmt 0 view .LVU636
 1996 00f4 7368     		ldr	r3, [r6, #4]
 798:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         (u8_t*)p->payload + poff, newpbuflen);
 1997              		.loc 1 798 17 view .LVU637
 1998 00f6 0194     		str	r4, [sp, #4]
 1999 00f8 5344     		add	r3, r3, r10
 2000 00fa 0093     		str	r3, [sp]
 2001 00fc 0346     		mov	r3, r0
 2002 00fe 0222     		movs	r2, #2
 2003 0100 2146     		mov	r1, r4
 2004 0102 0420     		movs	r0, #4
 2005              	.LVL221:
 798:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         (u8_t*)p->payload + poff, newpbuflen);
 2006              		.loc 1 798 17 view .LVU638
 2007 0104 FFF7FEFF 		bl	pbuf_alloced_custom
 2008              	.LVL222:
 800:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (newpbuf == NULL) {
 2009              		.loc 1 800 7 is_stmt 1 view .LVU639
 2010              		.loc 1 800 10 is_stmt 0 view .LVU640
 2011 0108 8146     		mov	r9, r0
 2012 010a 20B3     		cbz	r0, .L160
 801:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         ip_frag_free_pbuf_custom_ref(pcr);
 802:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         pbuf_free(rambuf);
 803:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         goto memerr;
 804:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 805:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbuf_ref(p);
 2013              		.loc 1 805 7 is_stmt 1 view .LVU641
 2014 010c 3046     		mov	r0, r6
 2015              	.LVL223:
 2016              		.loc 1 805 7 is_stmt 0 view .LVU642
 2017 010e FFF7FEFF 		bl	pbuf_ref
 2018              	.LVL224:
 806:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pcr->original = p;
 2019              		.loc 1 806 7 is_stmt 1 view .LVU643
 2020              		.loc 1 806 21 is_stmt 0 view .LVU644
 2021 0112 7E61     		str	r6, [r7, #20]
 807:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pcr->pc.custom_free_function = ipfrag_free_pbuf_custom;
 2022              		.loc 1 807 7 is_stmt 1 view .LVU645
 2023              		.loc 1 807 36 is_stmt 0 view .LVU646
 2024 0114 334B     		ldr	r3, .L162+20
 2025 0116 3B61     		str	r3, [r7, #16]
 808:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 809:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* Add it to end of rambuf's chain, but using pbuf_cat, not pbuf_chain
 810:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****        * so that it is removed when pbuf_dechain is later called on rambuf.
 811:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****        */
 812:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       pbuf_cat(rambuf, newpbuf);
 2026              		.loc 1 812 7 is_stmt 1 view .LVU647
 2027 0118 4946     		mov	r1, r9
 2028 011a 5846     		mov	r0, fp
 2029 011c FFF7FEFF 		bl	pbuf_cat
 2030              	.LVL225:
 813:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       left_to_copy -= newpbuflen;
 2031              		.loc 1 813 7 view .LVU648
ARM GAS  /tmp/ccyZE1E6.s 			page 61


 2032              		.loc 1 813 20 is_stmt 0 view .LVU649
 2033 0120 2D1B     		subs	r5, r5, r4
 2034              	.LVL226:
 2035              		.loc 1 813 20 view .LVU650
 2036 0122 ADB2     		uxth	r5, r5
 2037              	.LVL227:
 814:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       if (left_to_copy) {
 2038              		.loc 1 814 7 is_stmt 1 view .LVU651
 2039              		.loc 1 814 10 is_stmt 0 view .LVU652
 2040 0124 15B1     		cbz	r5, .L144
 815:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         poff = 0;
 2041              		.loc 1 815 9 is_stmt 1 view .LVU653
 2042              	.LVL228:
 816:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         p = p->next;
 2043              		.loc 1 816 9 view .LVU654
 2044              		.loc 1 816 11 is_stmt 0 view .LVU655
 2045 0126 3668     		ldr	r6, [r6]
 2046              	.LVL229:
 815:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         poff = 0;
 2047              		.loc 1 815 14 view .LVU656
 2048 0128 DDF808A0 		ldr	r10, [sp, #8]
 2049              	.LVL230:
 2050              	.L144:
 815:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         poff = 0;
 2051              		.loc 1 815 14 view .LVU657
 2052              	.LBE8:
 782:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       struct pbuf_custom_ref *pcr;
 2053              		.loc 1 782 11 is_stmt 1 view .LVU658
 2054 012c E5B1     		cbz	r5, .L161
 2055              	.LBB9:
 783:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       u16_t plen = p->len - poff;
 2056              		.loc 1 783 7 view .LVU659
 784:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       newpbuflen = LWIP_MIN(left_to_copy, plen);
 2057              		.loc 1 784 7 view .LVU660
 784:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       newpbuflen = LWIP_MIN(left_to_copy, plen);
 2058              		.loc 1 784 21 is_stmt 0 view .LVU661
 2059 012e 7489     		ldrh	r4, [r6, #10]
 2060              	.LVL231:
 784:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       newpbuflen = LWIP_MIN(left_to_copy, plen);
 2061              		.loc 1 784 13 view .LVU662
 2062 0130 A4EB0A04 		sub	r4, r4, r10
 2063 0134 A4B2     		uxth	r4, r4
 2064              	.LVL232:
 785:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* Is this pbuf already empty? */
 2065              		.loc 1 785 7 is_stmt 1 view .LVU663
 785:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       /* Is this pbuf already empty? */
 2066              		.loc 1 785 18 is_stmt 0 view .LVU664
 2067 0136 AC42     		cmp	r4, r5
 2068 0138 28BF     		it	cs
 2069 013a 2C46     		movcs	r4, r5
 2070              	.LVL233:
 787:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         poff = 0;
 2071              		.loc 1 787 7 is_stmt 1 view .LVU665
 787:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         poff = 0;
 2072              		.loc 1 787 10 is_stmt 0 view .LVU666
 2073 013c 002C     		cmp	r4, #0
 2074 013e D5D1     		bne	.L145
ARM GAS  /tmp/ccyZE1E6.s 			page 62


 788:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         p = p->next;
 2075              		.loc 1 788 9 is_stmt 1 view .LVU667
 2076              	.LVL234:
 789:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         continue;
 2077              		.loc 1 789 9 view .LVU668
 789:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         continue;
 2078              		.loc 1 789 11 is_stmt 0 view .LVU669
 2079 0140 3668     		ldr	r6, [r6]
 2080              	.LVL235:
 790:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 2081              		.loc 1 790 9 is_stmt 1 view .LVU670
 788:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         p = p->next;
 2082              		.loc 1 788 14 is_stmt 0 view .LVU671
 2083 0142 A246     		mov	r10, r4
 790:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 2084              		.loc 1 790 9 view .LVU672
 2085 0144 F2E7     		b	.L144
 2086              	.LVL236:
 2087              	.L159:
 794:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         goto memerr;
 2088              		.loc 1 794 9 is_stmt 1 view .LVU673
 2089 0146 5846     		mov	r0, fp
 2090              	.LVL237:
 794:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         goto memerr;
 2091              		.loc 1 794 9 is_stmt 0 view .LVU674
 2092 0148 FFF7FEFF 		bl	pbuf_free
 2093              	.LVL238:
 795:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 2094              		.loc 1 795 9 is_stmt 1 view .LVU675
 2095              	.LBE9:
 817:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 818:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 819:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     poff += newpbuflen;
 820:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
 821:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 822:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Correct header */
 823:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     last = (left <= netif->mtu - IP_HLEN);
 824:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 825:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Set new offset and MF flag */
 826:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     tmp = (IP_OFFMASK & (ofo));
 827:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (!last) {
 828:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       tmp = tmp | IP_MF;
 829:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 830:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_OFFSET_SET(iphdr, lwip_htons(tmp));
 831:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_LEN_SET(iphdr, lwip_htons(fragsize + IP_HLEN));
 832:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_CHKSUM_SET(iphdr, 0);
 833:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if CHECKSUM_GEN_IP
 834:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IF__NETIF_CHECKSUM_ENABLED(netif, NETIF_CHECKSUM_GEN_IP) {
 835:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       IPH_CHKSUM_SET(iphdr, inet_chksum(iphdr, IP_HLEN));
 836:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 837:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* CHECKSUM_GEN_IP */
 838:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 839:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* No need for separate header pbuf - we allowed room for it in rambuf
 840:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * when allocated.
 841:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      */
 842:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     netif->output(netif, rambuf, dest);
 843:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPFRAG_STATS_INC(ip_frag.xmit);
ARM GAS  /tmp/ccyZE1E6.s 			page 63


 844:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 845:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     /* Unfortunately we can't reuse rambuf - the hardware may still be
 846:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * using the buffer. Instead we free it (and the ensuing chain) and
 847:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * recreate it next time round the loop. If we're lucky the hardware
 848:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * will have already sent the packet, the free will really free, and
 849:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      * there will be zero memory penalty.
 850:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****      */
 851:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 852:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     pbuf_free(rambuf);
 853:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     left -= fragsize;
 854:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ofo += nfb;
 855:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 856:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   MIB2_STATS_INC(mib2.ipfragoks);
 857:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return ERR_OK;
 858:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** memerr:
 859:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   MIB2_STATS_INC(mib2.ipfragfails);
 860:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   return ERR_MEM;
 2096              		.loc 1 860 10 is_stmt 0 view .LVU676
 2097 014c 4FF0FF30 		mov	r0, #-1
 2098              	.LVL239:
 2099              	.L140:
 861:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 2100              		.loc 1 861 1 view .LVU677
 2101 0150 0DB0     		add	sp, sp, #52
 2102              	.LCFI12:
 2103              		.cfi_remember_state
 2104              		.cfi_def_cfa_offset 36
 2105              		@ sp needed
 2106 0152 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2107              	.LVL240:
 2108              	.L160:
 2109              	.LCFI13:
 2110              		.cfi_restore_state
 2111              	.LBB10:
 801:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         pbuf_free(rambuf);
 2112              		.loc 1 801 9 is_stmt 1 view .LVU678
 2113 0156 3846     		mov	r0, r7
 2114              	.LVL241:
 801:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         pbuf_free(rambuf);
 2115              		.loc 1 801 9 is_stmt 0 view .LVU679
 2116 0158 FFF7FEFF 		bl	ip_frag_free_pbuf_custom_ref
 2117              	.LVL242:
 802:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****         goto memerr;
 2118              		.loc 1 802 9 is_stmt 1 view .LVU680
 2119 015c 5846     		mov	r0, fp
 2120 015e FFF7FEFF 		bl	pbuf_free
 2121              	.LVL243:
 803:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 2122              		.loc 1 803 9 view .LVU681
 2123              	.LBE10:
 860:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 2124              		.loc 1 860 10 is_stmt 0 view .LVU682
 2125 0162 4FF0FF30 		mov	r0, #-1
 2126              	.LBB11:
 803:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 2127              		.loc 1 803 9 view .LVU683
 2128 0166 F3E7     		b	.L140
ARM GAS  /tmp/ccyZE1E6.s 			page 64


 2129              	.LVL244:
 2130              	.L161:
 803:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       }
 2131              		.loc 1 803 9 view .LVU684
 2132              	.LBE11:
 819:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
 2133              		.loc 1 819 5 is_stmt 1 view .LVU685
 819:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
 2134              		.loc 1 819 10 is_stmt 0 view .LVU686
 2135 0168 A244     		add	r10, r10, r4
 2136              	.LVL245:
 819:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #endif /* LWIP_NETIF_TX_SINGLE_PBUF */
 2137              		.loc 1 819 10 view .LVU687
 2138 016a 1FFA8AFA 		uxth	r10, r10
 2139              	.LVL246:
 823:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 2140              		.loc 1 823 5 is_stmt 1 view .LVU688
 823:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 2141              		.loc 1 823 26 is_stmt 0 view .LVU689
 2142 016e 079B     		ldr	r3, [sp, #28]
 2143 0170 DB8C     		ldrh	r3, [r3, #38]
 823:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 2144              		.loc 1 823 18 view .LVU690
 2145 0172 133B     		subs	r3, r3, #19
 2146              	.LVL247:
 826:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (!last) {
 2147              		.loc 1 826 5 is_stmt 1 view .LVU691
 826:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     if (!last) {
 2148              		.loc 1 826 9 is_stmt 0 view .LVU692
 2149 0174 059A     		ldr	r2, [sp, #20]
 2150 0176 C2F30C00 		ubfx	r0, r2, #0, #13
 2151              	.LVL248:
 827:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       tmp = tmp | IP_MF;
 2152              		.loc 1 827 5 is_stmt 1 view .LVU693
 827:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****       tmp = tmp | IP_MF;
 2153              		.loc 1 827 8 is_stmt 0 view .LVU694
 2154 017a 089A     		ldr	r2, [sp, #32]
 2155 017c 9A42     		cmp	r2, r3
 2156 017e 01DB     		blt	.L150
 828:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 2157              		.loc 1 828 7 is_stmt 1 view .LVU695
 828:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     }
 2158              		.loc 1 828 11 is_stmt 0 view .LVU696
 2159 0180 40F40050 		orr	r0, r0, #8192
 2160              	.LVL249:
 2161              	.L150:
 830:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_LEN_SET(iphdr, lwip_htons(fragsize + IP_HLEN));
 2162              		.loc 1 830 5 is_stmt 1 view .LVU697
 2163 0184 FFF7FEFF 		bl	lwip_htons
 2164              	.LVL250:
 830:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_LEN_SET(iphdr, lwip_htons(fragsize + IP_HLEN));
 2165              		.loc 1 830 5 is_stmt 0 view .LVU698
 2166 0188 099D     		ldr	r5, [sp, #36]
 2167              	.LVL251:
 830:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_LEN_SET(iphdr, lwip_htons(fragsize + IP_HLEN));
 2168              		.loc 1 830 5 view .LVU699
 2169 018a E880     		strh	r0, [r5, #6]	@ unaligned
ARM GAS  /tmp/ccyZE1E6.s 			page 65


 831:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPH_CHKSUM_SET(iphdr, 0);
 2170              		.loc 1 831 5 is_stmt 1 view .LVU700
 2171 018c 049F     		ldr	r7, [sp, #16]
 2172 018e 07F11400 		add	r0, r7, #20
 2173 0192 80B2     		uxth	r0, r0
 2174 0194 FFF7FEFF 		bl	lwip_htons
 2175              	.LVL252:
 2176 0198 6880     		strh	r0, [r5, #2]	@ unaligned
 832:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** #if CHECKSUM_GEN_IP
 2177              		.loc 1 832 5 view .LVU701
 2178 019a 0023     		movs	r3, #0
 2179 019c AB72     		strb	r3, [r5, #10]
 2180 019e EB72     		strb	r3, [r5, #11]
 842:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPFRAG_STATS_INC(ip_frag.xmit);
 2181              		.loc 1 842 5 view .LVU702
 842:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPFRAG_STATS_INC(ip_frag.xmit);
 2182              		.loc 1 842 10 is_stmt 0 view .LVU703
 2183 01a0 0798     		ldr	r0, [sp, #28]
 2184 01a2 4369     		ldr	r3, [r0, #20]
 842:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     IPFRAG_STATS_INC(ip_frag.xmit);
 2185              		.loc 1 842 5 view .LVU704
 2186 01a4 0B9A     		ldr	r2, [sp, #44]
 2187 01a6 5946     		mov	r1, fp
 2188 01a8 9847     		blx	r3
 2189              	.LVL253:
 843:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** 
 2190              		.loc 1 843 35 is_stmt 1 view .LVU705
 852:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     left -= fragsize;
 2191              		.loc 1 852 5 view .LVU706
 2192 01aa 5846     		mov	r0, fp
 2193 01ac FFF7FEFF 		bl	pbuf_free
 2194              	.LVL254:
 853:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ofo += nfb;
 2195              		.loc 1 853 5 view .LVU707
 853:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****     ofo += nfb;
 2196              		.loc 1 853 10 is_stmt 0 view .LVU708
 2197 01b0 039B     		ldr	r3, [sp, #12]
 2198 01b2 DB1B     		subs	r3, r3, r7
 2199 01b4 9BB2     		uxth	r3, r3
 2200 01b6 0393     		str	r3, [sp, #12]
 2201              	.LVL255:
 854:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 2202              		.loc 1 854 5 is_stmt 1 view .LVU709
 854:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 2203              		.loc 1 854 9 is_stmt 0 view .LVU710
 2204 01b8 059B     		ldr	r3, [sp, #20]
 2205 01ba 0A9A     		ldr	r2, [sp, #40]
 2206 01bc 1344     		add	r3, r3, r2
 2207 01be 9BB2     		uxth	r3, r3
 2208 01c0 0593     		str	r3, [sp, #20]
 2209              	.LVL256:
 854:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c ****   }
 2210              		.loc 1 854 9 view .LVU711
 2211 01c2 45E7     		b	.L142
 2212              	.LVL257:
 2213              	.L157:
 857:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** memerr:
ARM GAS  /tmp/ccyZE1E6.s 			page 66


 2214              		.loc 1 857 10 view .LVU712
 2215 01c4 0020     		movs	r0, #0
 2216 01c6 C3E7     		b	.L140
 2217              	.LVL258:
 2218              	.L152:
 860:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 2219              		.loc 1 860 10 view .LVU713
 2220 01c8 4FF0FF30 		mov	r0, #-1
 2221              	.LVL259:
 860:Middlewares/Third_Party/LwIP/src/core/ipv4/ip4_frag.c **** }
 2222              		.loc 1 860 10 view .LVU714
 2223 01cc C0E7     		b	.L140
 2224              	.L163:
 2225 01ce 00BF     		.align	2
 2226              	.L162:
 2227 01d0 00000000 		.word	.LC0
 2228 01d4 00000000 		.word	.LC13
 2229 01d8 54000000 		.word	.LC2
 2230 01dc 28000000 		.word	.LC14
 2231 01e0 44000000 		.word	.LC15
 2232 01e4 00000000 		.word	ipfrag_free_pbuf_custom
 2233              		.cfi_endproc
 2234              	.LFE107:
 2236              		.section	.bss.ip_reass_pbufcount,"aw",%nobits
 2237              		.align	1
 2238              		.set	.LANCHOR1,. + 0
 2241              	ip_reass_pbufcount:
 2242 0000 0000     		.space	2
 2243              		.section	.bss.reassdatagrams,"aw",%nobits
 2244              		.align	2
 2245              		.set	.LANCHOR0,. + 0
 2248              	reassdatagrams:
 2249 0000 00000000 		.space	4
 2250              		.text
 2251              	.Letext0:
 2252              		.file 2 "/opt/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/machine/_default_types.h"
 2253              		.file 3 "/opt/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/sys/_stdint.h"
 2254              		.file 4 "Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
 2255              		.file 5 "Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 2256              		.file 6 "Middlewares/Third_Party/LwIP/src/include/lwip/pbuf.h"
 2257              		.file 7 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_addr.h"
 2258              		.file 8 "Middlewares/Third_Party/LwIP/src/include/lwip/ip_addr.h"
 2259              		.file 9 "Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 2260              		.file 10 "Middlewares/Third_Party/LwIP/src/include/lwip/netif.h"
 2261              		.file 11 "Middlewares/Third_Party/LwIP/src/include/lwip/prot/ip4.h"
 2262              		.file 12 "Middlewares/Third_Party/LwIP/src/include/lwip/ip4_frag.h"
 2263              		.file 13 "Middlewares/Third_Party/LwIP/src/include/lwip/def.h"
 2264              		.file 14 "/opt/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/stdio.h"
 2265              		.file 15 "Middlewares/Third_Party/LwIP/src/include/lwip/icmp.h"
 2266              		.file 16 "<built-in>"
ARM GAS  /tmp/ccyZE1E6.s 			page 67


DEFINED SYMBOLS
                            *ABS*:0000000000000000 ip4_frag.c
     /tmp/ccyZE1E6.s:18     .rodata.ip_reass_dequeue_datagram.str1.4:0000000000000000 $d
     /tmp/ccyZE1E6.s:29     .text.ip_reass_dequeue_datagram:0000000000000000 $t
     /tmp/ccyZE1E6.s:34     .text.ip_reass_dequeue_datagram:0000000000000000 ip_reass_dequeue_datagram
     /tmp/ccyZE1E6.s:106    .text.ip_reass_dequeue_datagram:0000000000000038 $d
     /tmp/ccyZE1E6.s:114    .rodata.ip_reass_free_complete_datagram.str1.4:0000000000000000 $d
     /tmp/ccyZE1E6.s:127    .text.ip_reass_free_complete_datagram:0000000000000000 $t
     /tmp/ccyZE1E6.s:132    .text.ip_reass_free_complete_datagram:0000000000000000 ip_reass_free_complete_datagram
     /tmp/ccyZE1E6.s:367    .text.ip_reass_free_complete_datagram:00000000000000e0 $d
     /tmp/ccyZE1E6.s:378    .text.ip_reass_remove_oldest_datagram:0000000000000000 $t
     /tmp/ccyZE1E6.s:383    .text.ip_reass_remove_oldest_datagram:0000000000000000 ip_reass_remove_oldest_datagram
     /tmp/ccyZE1E6.s:538    .text.ip_reass_remove_oldest_datagram:0000000000000074 $d
     /tmp/ccyZE1E6.s:543    .rodata.ip_frag_free_pbuf_custom_ref.str1.4:0000000000000000 $d
     /tmp/ccyZE1E6.s:547    .text.ip_frag_free_pbuf_custom_ref:0000000000000000 $t
     /tmp/ccyZE1E6.s:552    .text.ip_frag_free_pbuf_custom_ref:0000000000000000 ip_frag_free_pbuf_custom_ref
     /tmp/ccyZE1E6.s:596    .text.ip_frag_free_pbuf_custom_ref:0000000000000020 $d
     /tmp/ccyZE1E6.s:603    .rodata.ipfrag_free_pbuf_custom.str1.4:0000000000000000 $d
     /tmp/ccyZE1E6.s:607    .text.ipfrag_free_pbuf_custom:0000000000000000 $t
     /tmp/ccyZE1E6.s:612    .text.ipfrag_free_pbuf_custom:0000000000000000 ipfrag_free_pbuf_custom
     /tmp/ccyZE1E6.s:670    .text.ipfrag_free_pbuf_custom:0000000000000028 $d
     /tmp/ccyZE1E6.s:677    .rodata.ip_reass_chain_frag_into_datagram_and_validate.str1.4:0000000000000000 $d
     /tmp/ccyZE1E6.s:691    .text.ip_reass_chain_frag_into_datagram_and_validate:0000000000000000 $t
     /tmp/ccyZE1E6.s:696    .text.ip_reass_chain_frag_into_datagram_and_validate:0000000000000000 ip_reass_chain_frag_into_datagram_and_validate
     /tmp/ccyZE1E6.s:1109   .text.ip_reass_chain_frag_into_datagram_and_validate:0000000000000168 $d
     /tmp/ccyZE1E6.s:1120   .text.ip_frag_alloc_pbuf_custom_ref:0000000000000000 $t
     /tmp/ccyZE1E6.s:1125   .text.ip_frag_alloc_pbuf_custom_ref:0000000000000000 ip_frag_alloc_pbuf_custom_ref
     /tmp/ccyZE1E6.s:1147   .text.ip_reass_enqueue_new_datagram:0000000000000000 $t
     /tmp/ccyZE1E6.s:1152   .text.ip_reass_enqueue_new_datagram:0000000000000000 ip_reass_enqueue_new_datagram
     /tmp/ccyZE1E6.s:1250   .text.ip_reass_enqueue_new_datagram:000000000000005c $d
     /tmp/ccyZE1E6.s:1255   .text.ip_reass_tmr:0000000000000000 $t
     /tmp/ccyZE1E6.s:1261   .text.ip_reass_tmr:0000000000000000 ip_reass_tmr
     /tmp/ccyZE1E6.s:1337   .text.ip_reass_tmr:0000000000000028 $d
     /tmp/ccyZE1E6.s:1342   .text.ip4_reass:0000000000000000 $t
     /tmp/ccyZE1E6.s:1348   .text.ip4_reass:0000000000000000 ip4_reass
     /tmp/ccyZE1E6.s:1749   .text.ip4_reass:0000000000000198 $d
     /tmp/ccyZE1E6.s:1756   .rodata.ip4_frag.str1.4:0000000000000000 $d
     /tmp/ccyZE1E6.s:1766   .text.ip4_frag:0000000000000000 $t
     /tmp/ccyZE1E6.s:1772   .text.ip4_frag:0000000000000000 ip4_frag
     /tmp/ccyZE1E6.s:2227   .text.ip4_frag:00000000000001d0 $d
     /tmp/ccyZE1E6.s:2237   .bss.ip_reass_pbufcount:0000000000000000 $d
     /tmp/ccyZE1E6.s:2241   .bss.ip_reass_pbufcount:0000000000000000 ip_reass_pbufcount
     /tmp/ccyZE1E6.s:2244   .bss.reassdatagrams:0000000000000000 $d
     /tmp/ccyZE1E6.s:2248   .bss.reassdatagrams:0000000000000000 reassdatagrams

UNDEFINED SYMBOLS
memp_free
printf
icmp_time_exceeded
pbuf_clen
pbuf_free
lwip_htons
memp_malloc
memset
pbuf_header
pbuf_cat
pbuf_alloc
ARM GAS  /tmp/ccyZE1E6.s 			page 68


pbuf_alloced_custom
pbuf_ref
